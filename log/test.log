  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: assets: SELECT * FROM "assets" [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:30' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = 'h1YABcqEPWiseOFGcNIN', `sb_last_seen_at` = '2011-04-16 21:51:30', `current_login_at` = '2011-04-16 21:51:30', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 1[0m
  [4;35;1mMetroArea Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `metro_areas`[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mActivity Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `activities`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:30', 'logged_in', 1, NULL, NULL)[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = 'x64sguOgUUVOgk7WGAGu', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mActivity Load (0.1ms)[0m   [0;1mSELECT * FROM `activities` ORDER BY activities.id DESC LIMIT 1[0m


Processing ActivitiesController#destroy (for 0.0.0.0 at 2011-04-16 14:51:30) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = '_7j_GzxGPnbjNslKYaci', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`id` = 1) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Destroy (0.1ms)[0m   [0mDELETE FROM `activities` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed in 26ms (DB: 43) | 302 Found [http://test.host/activities/destroy/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = '7p8YyztiIfMI8e5NXj93', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = 'LJoNVdux_SEq9s2GEg9K', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (15.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:30' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `login_slug` = 'administrator', `perishable_token` = 'ejvjxmapsbaNjJ2iusTo', `sb_last_seen_at` = '2011-04-16 21:51:30', `current_login_at` = '2011-04-16 21:51:30', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Create (0.4ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:30', 'logged_in', 1, NULL, NULL)[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = 'KMuKE_C4Wq3GKWjntFT3', `activities_count` = 1 WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mActivity Load (0.1ms)[0m   [0;1mSELECT * FROM `activities` ORDER BY activities.id DESC LIMIT 1[0m


Processing ActivitiesController#destroy (for 0.0.0.0 at 2011-04-16 14:51:30) [DELETE]
  Parameters: {"id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = 'YxiGgpDm50MGiXozIi9O', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 4[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.3ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`id` = 2) [0m
  [4;36;1mActivity Load (0.1ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Destroy (0.1ms)[0m   [0;1mDELETE FROM `activities` WHERE `id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed in 16ms (DB: 23) | 302 Found [http://test.host/activities/destroy/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = 'awQk6uceMvLvjLrC3FVT', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = 'tT2YeOLQJGlDnxvciiph', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:30' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = 'eZ-lU2vhTpxFRaLRwY0w', `sb_last_seen_at` = '2011-04-16 21:51:30', `current_login_at` = '2011-04-16 21:51:30', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ActivitiesController#network (for 0.0.0.0 at 2011-04-16 14:51:30) [GET]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:30", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x1070943d8 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:30", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "eZ-lU2vhTpxFRaLRwY0w", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:30", current_login_at: "2011-04-16 21:51:30", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = 't_Hjc1_gyXzwnY3RrUDL', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mFriendship Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `friendships`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 1 AND (friendship_status_id = 2)) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(activities.id) AS count_activities_id FROM `activities` WHERE ((activities.user_id in (NULL)) AND (activities.created_at > '2011-04-09 21:51:30')) [0m
Rendering template within layouts/application
Rendering activities/network
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = '6-3Vv9-F3dpaJBPPMcmp', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = 'WHohHNE5av_JJLF5Ohhj', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:30' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = 'hIy8kY-g1wbsVtCWAtl1', `sb_last_seen_at` = '2011-04-16 21:51:30', `current_login_at` = '2011-04-16 21:51:30', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:30', 'logged_in', 2, NULL, NULL)[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = 'WEtBnOvd3DpJjo7EGO0Y', `activities_count` = 1 WHERE `id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` ORDER BY activities.id DESC LIMIT 1[0m


Processing ActivitiesController#destroy (for 0.0.0.0 at 2011-04-16 14:51:30) [DELETE]
  Parameters: {"id"=>"3"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:30', `perishable_token` = 'C3v-ibE8wM5T6jhe3HpN', `last_request_at` = '2011-04-16 21:51:30' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mActivity Load (0.3ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`id` = 3) [0m
Redirected to http://test.host/sessions/new
Filter chain halted as [:require_ownership_or_moderator] rendered_or_redirected.
Completed in 16ms (DB: 9) | 302 Found [http://test.host/activities/destroy/3]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = '_Ay1ifGz_UiP8Uhq7btJ', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'MT49MIvypKyBOgtyFExP', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = '8ZomwjCHWZvZplibOpUU', `activation_code` = 'test' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.1ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `activated_at` = NULL, `perishable_token` = '3uuK5bo0Oo33KnWWC4_m' WHERE `id` = 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:31' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `login_slug` = 'administrator', `perishable_token` = 'ZJxnCFvJta4JOhBFMQoG', `sb_last_seen_at` = '2011-04-16 21:51:31', `current_login_at` = '2011-04-16 21:51:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing AdminController#activate_user (for 0.0.0.0 at 2011-04-16 14:51:31) [PUT]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'aYvMPBDqefBepinjUzv8', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `states`[0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `activated_at` = '2011-04-16 21:51:31', `perishable_token` = 'ZqF5t9lOBzw6ns6JXGXt', `activation_code` = NULL WHERE `id` = 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'ut29lB_7dKlq1VpiU6_d', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 's7_G4fPKnLGja-wX00DT', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:31' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `login_slug` = 'administrator', `perishable_token` = 'w6YeOKVsgkJlo8BBvOV3', `sb_last_seen_at` = '2011-04-16 21:51:31', `current_login_at` = '2011-04-16 21:51:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AdminController#deactivate_user (for 0.0.0.0 at 2011-04-16 14:51:31) [PUT]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'iiTMf0UG0hUx9rUbcF9a', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.3ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `activated_at` = NULL, `perishable_token` = 'PcpTSIhaI8iLaB5NiffH', `activation_code` = '87e9319ee3c616f949887734aff80e7d2a225763' WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/users
Completed in 129ms (DB: 21) | 302 Found [http://test.host/admin/deactivate_user/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'gHeuyltHPxg56zZocJc0', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = '24e25X5Oa4lIH2du5UY6', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:31' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `login_slug` = 'administrator', `perishable_token` = 'ppHiWALLuE-pFzAtIy93', `sb_last_seen_at` = '2011-04-16 21:51:31', `current_login_at` = '2011-04-16 21:51:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing AdminController#users (for 0.0.0.0 at 2011-04-16 14:51:31) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'sg04o1Nktk5BRiU5EtK_', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(users.id) AS count_users_id FROM `users` [0m
Rendering template within layouts/application
Rendering admin/users
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'oVsDoRv5h9GAjdtiJZ6H', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'IV76nJ0yat2OJjUS3sP4', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:31' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'zDgxcRw6oEHDk8pYoZzz', `sb_last_seen_at` = '2011-04-16 21:51:31', `current_login_at` = '2011-04-16 21:51:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing AdminController#activate_user (for 0.0.0.0 at 2011-04-16 14:51:31) [PUT]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'RestU_RA36hJLUHlgdQM', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = '_6_NxJl68RkfQIuBWhOd', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'PpHNw4nkQa81g2B_SRaC', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:31' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'EfySMxJoFTIWK2j_kXcP', `sb_last_seen_at` = '2011-04-16 21:51:31', `current_login_at` = '2011-04-16 21:51:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing AdminController#users (for 0.0.0.0 at 2011-04-16 14:51:31) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'V_2sMSYFTr192Bmgea6K', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'IIdOrhtBWrqmHO3OWRnL', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'RTNFQ6E_XdFofvDjHfRF', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:31' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `login_slug` = 'administrator', `perishable_token` = 'GuE0cOd-5GaS7n6Uow5J', `sb_last_seen_at` = '2011-04-16 21:51:31', `current_login_at` = '2011-04-16 21:51:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ads` [0m


Processing AdsController#create (for 0.0.0.0 at 2011-04-16 14:51:31) [POST]
  Parameters: {"ad"=>{"html"=>"Our company is great!", "frequency"=>1, "audience"=>"all"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'XuZKU5RFqcI01fNEJ35q', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAd Create (0.2ms)[0m   [0mINSERT INTO `ads` (`name`, `html`, `start_date`, `created_at`, `location`, `updated_at`, `published`, `time_constrained`, `frequency`, `audience`, `end_date`) VALUES(NULL, 'Our company is great!', NULL, '2011-04-16 21:51:31', NULL, '2011-04-16 21:51:31', 0, 0, 1, 'all', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'oZejWDN4yCdoHzPlMCc2', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'NkTjuRDFj8a5TVoku4yA', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:31' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `login_slug` = 'administrator', `perishable_token` = '8redBO7_F4qWWJ0fncTs', `sb_last_seen_at` = '2011-04-16 21:51:31', `current_login_at` = '2011-04-16 21:51:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ads` [0m


Processing AdsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:31) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'KuwGx98AZSe8b1FjqhZ9', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mAd Load (0.2ms)[0m   [0mSELECT * FROM `ads` WHERE (`ads`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAd Destroy (0.1ms)[0m   [0mDELETE FROM `ads` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'DzUml45-0pFNrfgpzjuq', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'dYLiAckK9ylEbP-DS4IN', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:31' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `login_slug` = 'administrator', `perishable_token` = 'CdnWTFscXod61E2J_9JQ', `sb_last_seen_at` = '2011-04-16 21:51:31', `current_login_at` = '2011-04-16 21:51:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing AdsController#edit (for 0.0.0.0 at 2011-04-16 14:51:31) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = 'DOvYzDPOsVRj8xR7BaQM', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAd Load (0.3ms)[0m   [0;1mSELECT * FROM `ads` WHERE (`ads`.`id` = 1) [0m
Rendering template within layouts/application
Rendering ads/edit
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = '3bKF9QFw-8sCuDzcQ9Z5', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `perishable_token` = '63l9-tJuotFGxhDzzlUz', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:31' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:31', `login_slug` = 'administrator', `perishable_token` = 'LW6OEwGNT0AJuQzLrxI7', `sb_last_seen_at` = '2011-04-16 21:51:31', `current_login_at` = '2011-04-16 21:51:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing AdsController#index (for 0.0.0.0 at 2011-04-16 14:51:31) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'su10NcKZiQsXaGxothNc', `last_request_at` = '2011-04-16 21:51:31' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAd Load (0.2ms)[0m   [0;1mSELECT * FROM `ads` [0m
Rendering template within layouts/application
Rendering ads/index
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'G2HQzIwJhkJ2IL1aONnq', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'oKeN175oEFLqlh5oO79W', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:32' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `login_slug` = 'administrator', `perishable_token` = 'Ip7vnZFXEyHEKRXzLUZC', `sb_last_seen_at` = '2011-04-16 21:51:32', `current_login_at` = '2011-04-16 21:51:32', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing AdsController#new (for 0.0.0.0 at 2011-04-16 14:51:32) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'yX9dITKJd9zKhUMePb_t', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering ads/new
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'HyJQ5GTmv0AYbAvHGV7p', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'oxzVKKmHFhayCuzHTfeR', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:32' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `login_slug` = 'administrator', `perishable_token` = 'ZSLn-yQmzFO2_QkABTh8', `sb_last_seen_at` = '2011-04-16 21:51:32', `current_login_at` = '2011-04-16 21:51:32', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing AdsController#show (for 0.0.0.0 at 2011-04-16 14:51:32) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'z1WcBcbhj0Yq1cg48bLH', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mAd Load (0.2ms)[0m   [0mSELECT * FROM `ads` WHERE (`ads`.`id` = 1) [0m
Rendering template within layouts/application
Rendering ads/show
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'ncRYOriik8xQDXqdB8lq', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'nIO_iawJc_viwJfktW0g', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:32' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `login_slug` = 'administrator', `perishable_token` = 'G2oo67zkbvJ-Qk0MrWiK', `sb_last_seen_at` = '2011-04-16 21:51:32', `current_login_at` = '2011-04-16 21:51:32', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing AdsController#update (for 0.0.0.0 at 2011-04-16 14:51:32) [PUT]
  Parameters: {"ad"=>{}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'T-PywhxleV3588VFGiRF', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mAd Load (0.3ms)[0m   [0mSELECT * FROM `ads` WHERE (`ads`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'B84FcPbhWE9w71x0AzOb', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'ZcxprEBWgZFi7dcJb4Vb', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AlbumsController#create (for 0.0.0.0 at 2011-04-16 14:51:32) [POST]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>, "user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AlbumsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:32) [DELETE]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>, "user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AlbumsController#edit (for 0.0.0.0 at 2011-04-16 14:51:32) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>, "user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AlbumsController#new (for 0.0.0.0 at 2011-04-16 14:51:32) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>, "user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AlbumsController#update (for 0.0.0.0 at 2011-04-16 14:51:32) [PUT]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>, "user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:32' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'QuyR0ff92ghe_Zob_RDR', `sb_last_seen_at` = '2011-04-16 21:51:32', `current_login_at` = '2011-04-16 21:51:32', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.1ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing AlbumsController#show (for 0.0.0.0 at 2011-04-16 14:51:32) [GET]
  Parameters: {"id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mAlbum Load (0.2ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = '0PXCHPVAJ8lYhfZp6SEs', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.4ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAlbum Update (0.3ms)[0m   [0;1mUPDATE `albums` SET `view_count` = COALESCE(`view_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(photos.id) AS count_photos_id FROM `photos` WHERE (album_id = '2' AND parent_id IS NULL) [0m
Rendering template within layouts/application
Rendering albums/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = '0EqwTvLdEpCDZVcZE38I', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'H_9kBqqUd4k2JBkvL10_', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:32' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = '6mHIPrzHM79j7GLSLkF7', `sb_last_seen_at` = '2011-04-16 21:51:32', `current_login_at` = '2011-04-16 21:51:32', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing AlbumsController#show (for 0.0.0.0 at 2011-04-16 14:51:32) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mAlbum Load (0.2ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'oo3XR9ow_6JBmAB8wch8', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(photos.id) AS count_photos_id FROM `photos` WHERE (album_id = '1' AND parent_id IS NULL) [0m
Rendering template within layouts/application
Rendering albums/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'sZEOOly-h1KL9tzBtW0o', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = '9USKLzkeg63sTMg7UAxY', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:32' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'iE_POQdm9sCxfASkmOss', `sb_last_seen_at` = '2011-04-16 21:51:32', `current_login_at` = '2011-04-16 21:51:32', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m
  [4;35;1mAlbum Load (0.1ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m


Processing AlbumsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:32) [DELETE]
  Parameters: {"id"=>"1", "user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:32", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106e18050 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:32", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "iE_POQdm9sCxfASkmOss", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:32", current_login_at: "2011-04-16 21:51:32", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:32', `perishable_token` = 'vwfxVGV7l36vQaMvECuU', `last_request_at` = '2011-04-16 21:51:32' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mAlbum Load (0.2ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.album_id = 1) [0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Photo') [0m
  [4;35;1mPhoto Load (0.1ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.parent_id = 1) [0m
  [4;36;1mTagging Load (0.2ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Photo') [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Photo') [0m
  [4;36;1mPhoto Destroy (0.2ms)[0m   [0;1mDELETE FROM `photos` WHERE `id` = 1[0m
Exception destroying  "/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/public/photos/0000/0001/test.jpg": [Errno::ENOENT] 
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `unlink'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1302:in `platform_support'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1296:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:771:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:549:in `rm'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `each'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `rm'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:88:in `destroy_file'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:166:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:93:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `run'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:486:in `run_callbacks'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:344:in `callback'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:338:in `destroy_without_transactions'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:182:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:192:in `destroy'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations.rb:1421:in `has_many_dependent_destroy_for_photos'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_collection.rb:369:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_collection.rb:369:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations.rb:1421:in `has_many_dependent_destroy_for_photos'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:166:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:93:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:276:in `run_callbacks'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:344:in `callback'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:336:in `destroy_without_transactions'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:182:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:192:in `destroy'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/app/controllers/albums_controller.rb:88:in `destroy'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:638:in `run_before_filters'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/lib/localized_application.rb:25:in `set_locale'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:186:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:635:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:615:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:567:in `process_with_test'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:447:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:413:in `delete'
 > ./vendor/plugins/community_engine/test/functional/albums_controller_test.rb:62:in `test_photos_should_be_destroyed'
 > ./vendor/plugins/community_engine/test/unit/../test_helper.rb:29:in `assert_difference'
 > ./vendor/plugins/community_engine/test/functional/albums_controller_test.rb:61:in `test_photos_should_be_destroyed'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `__send__'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
 > /usr/local/lib/ruby/1.8/test/unit.rb:278
 > /usr/local/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Album') [0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Album') [0m
  [4;35;1mAlbum Destroy (0.2ms)[0m   [0mDELETE FROM `albums` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'XZU0By3hsd11gcAjh3FQ', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'nmcpJ3AH6sgjP1uI6ioc', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:33' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'bswn2blXABxm6npxmBT0', `sb_last_seen_at` = '2011-04-16 21:51:33', `current_login_at` = '2011-04-16 21:51:33', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `albums` [0m


Processing AlbumsController#create (for 0.0.0.0 at 2011-04-16 14:51:33) [POST]
  Parameters: {"album"=>{"title"=>"Some title", "user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:33", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x1070a9d50 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:33", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "bswn2blXABxm6npxmBT0", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:33", current_login_at: "2011-04-16 21:51:33", current_login_ip: "0.0.0.0", last_login_ip: nil>}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'F3sDOF-8P1uKWbtRzpvB', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAlbum Create (0.2ms)[0m   [0mINSERT INTO `albums` (`created_at`, `title`, `updated_at`, `user_id`, `description`, `view_count`) VALUES('2011-04-16 21:51:33', 'Some title', '2011-04-16 21:51:33', 1, NULL, NULL)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:33', 'album', 1, 3, 'Album')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'CBU2T-MGW4kbbZ7ls9wK', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'oJDSL2N7akEeYL5FZdQM', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = '_DjKFrvQNgCWeu8NZvPE', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:33' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'PjHkvOXGTUgIvz_n436E', `sb_last_seen_at` = '2011-04-16 21:51:33', `current_login_at` = '2011-04-16 21:51:33', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `albums` [0m
  [4;36;1mAlbum Load (0.2ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m


Processing AlbumsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:33) [DELETE]
  Parameters: {"id"=>"1", "user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:33", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106f835e8 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:33", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "PjHkvOXGTUgIvz_n436E", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:33", current_login_at: "2011-04-16 21:51:33", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'HnyD_6A4zr9WqqBbEeWE', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mAlbum Load (0.1ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.album_id = 1) [0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Photo') [0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.parent_id = 1) [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Photo') [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Photo') [0m
  [4;35;1mPhoto Destroy (0.1ms)[0m   [0mDELETE FROM `photos` WHERE `id` = 1[0m
Exception destroying  "/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/public/photos/0000/0001/test.jpg": [Errno::ENOENT] 
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `unlink'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1302:in `platform_support'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1296:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:771:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:549:in `rm'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `each'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `rm'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:88:in `destroy_file'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:166:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:93:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `run'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:486:in `run_callbacks'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:344:in `callback'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:338:in `destroy_without_transactions'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:182:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:192:in `destroy'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations.rb:1421:in `has_many_dependent_destroy_for_photos'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_collection.rb:369:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_collection.rb:369:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations.rb:1421:in `has_many_dependent_destroy_for_photos'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:166:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:93:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:276:in `run_callbacks'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:344:in `callback'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:336:in `destroy_without_transactions'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:182:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:192:in `destroy'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/app/controllers/albums_controller.rb:88:in `destroy'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:638:in `run_before_filters'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/lib/localized_application.rb:25:in `set_locale'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:186:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:635:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:615:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:567:in `process_with_test'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:447:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:413:in `delete'
 > ./vendor/plugins/community_engine/test/functional/albums_controller_test.rb:54:in `test_should_destroy_album'
 > ./vendor/plugins/community_engine/test/unit/../test_helper.rb:29:in `assert_difference'
 > ./vendor/plugins/community_engine/test/functional/albums_controller_test.rb:53:in `test_should_destroy_album'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `__send__'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
 > /usr/local/lib/ruby/1.8/test/unit.rb:278
 > /usr/local/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5
  [4;36;1mActivity Load (0.4ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Album') [0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Album') [0m
  [4;36;1mAlbum Destroy (0.2ms)[0m   [0;1mDELETE FROM `albums` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'IYZVEALKIktQvfhrKgfK', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'OCbeTzYp8pI1r-SvfXqw', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:33' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'iuJp8dMXapXMrhzoBsvv', `sb_last_seen_at` = '2011-04-16 21:51:33', `current_login_at` = '2011-04-16 21:51:33', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAlbum Load (0.2ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m


Processing AlbumsController#edit (for 0.0.0.0 at 2011-04-16 14:51:33) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = '-WX0T2xCBNzgcE1AC90t', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mAlbum Load (0.2ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
Rendering template within layouts/application
Rendering albums/edit
Rendered shared/_box (3.0ms)
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'GONCaDrrNZuCHdJq87Sd', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'DtXkXPSQWs4D5S01aggt', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:33' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'hmuQkmDmh4JSf_Kd1wvq', `sb_last_seen_at` = '2011-04-16 21:51:33', `current_login_at` = '2011-04-16 21:51:33', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing AlbumsController#new (for 0.0.0.0 at 2011-04-16 14:51:33) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:33", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106f0b6b0 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:33", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "hmuQkmDmh4JSf_Kd1wvq", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:33", current_login_at: "2011-04-16 21:51:33", current_login_ip: "0.0.0.0", last_login_ip: nil>, "user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:33", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106f0b6b0 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:33", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "hmuQkmDmh4JSf_Kd1wvq", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:33", current_login_at: "2011-04-16 21:51:33", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'cbwpmXupEh6vttrvp1s_', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
Rendering template within layouts/application
Rendering albums/new
Rendered shared/_box (0.4ms)
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'W9Uzeon5ag2Sk39t6RNv', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'A9NRBD776QlE564BzeuU', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:33' WHERE (id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'Odmbblv8swP1CH0dNsiT', `sb_last_seen_at` = '2011-04-16 21:51:33', `current_login_at` = '2011-04-16 21:51:33', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.1ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `albums` [0m


Processing AlbumsController#create (for 0.0.0.0 at 2011-04-16 14:51:33) [POST]
  Parameters: {"abum"=>{"description"=>"Some content"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = '68yGbuDHMSGW-xWC6tij', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering albums/new
Rendered shared/_box (0.4ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'wlmX_aDAZhZ4bYdl2HDL', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'M4M3Zud1K5mu38sVP6JK', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:33' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'wDZRu15wA0k3Hta1Ktbz', `sb_last_seen_at` = '2011-04-16 21:51:33', `current_login_at` = '2011-04-16 21:51:33', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.1ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `albums` [0m


Processing AlbumsController#create (for 0.0.0.0 at 2011-04-16 14:51:33) [POST]
  Parameters: {"album"=>{"title"=>"Some title", "user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:33", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106f388e0 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:33", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "wDZRu15wA0k3Hta1Ktbz", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:33", current_login_at: "2011-04-16 21:51:33", current_login_ip: "0.0.0.0", last_login_ip: nil>}, "go_to"=>"only_create"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = '7bDVdVlyt0gQ7cZow5Gw', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAlbum Create (0.2ms)[0m   [0mINSERT INTO `albums` (`created_at`, `title`, `updated_at`, `user_id`, `description`, `view_count`) VALUES('2011-04-16 21:51:33', 'Some title', '2011-04-16 21:51:33', 1, NULL, NULL)[0m
  [4;36;1mActivity Create (0.3ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:33', 'album', 1, 4, 'Album')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'XFi5n6fDA4iLU8YjyjII', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'oSUnGWGYb2ZjrHse2YO9', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = '3ZKf5vAW8onIDN4RzPiU', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing AlbumsController#show (for 0.0.0.0 at 2011-04-16 14:51:33) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mAlbum Load (0.3ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(photos.id) AS count_photos_id FROM `photos` WHERE (album_id = '1' AND parent_id IS NULL) [0m
Rendering template within layouts/application
Rendering albums/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:33' WHERE (id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:33', `perishable_token` = 'koRiXwhH33wYLWBdlETw', `sb_last_seen_at` = '2011-04-16 21:51:33', `current_login_at` = '2011-04-16 21:51:33', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:33' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAlbum Load (0.1ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m


Processing AlbumsController#update (for 0.0.0.0 at 2011-04-16 14:51:34) [PUT]
  Parameters: {"id"=>"1", "album"=>{}, "go_to"=>"only_create"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:34', `perishable_token` = 'p6h-8GekM2yzT_wrBpBC', `last_request_at` = '2011-04-16 21:51:34' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mAlbum Load (0.2ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:34', `perishable_token` = '-za6u9-SPHJQQOG9gqyM', `last_request_at` = '2011-04-16 21:51:34' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:34', `perishable_token` = 'LBytObwVctdPkfefYMHI', `last_request_at` = '2011-04-16 21:51:34' WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClipping Load (0.6ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mAsset Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `assets`[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAsset Create (2.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(NULL, '2011-04-16 21:51:34', NULL, '2011-04-16 21:51:34', NULL, NULL, NULL, NULL, 'Clipping', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAsset Load (3.8ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAsset Destroy (0.4ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.4ms)[0m   [0;1mSELECT * FROM `assets` [0m


Processing BaseController#footer_content (for 0.0.0.0 at 2011-04-16 14:51:34) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mClipping Load (0.8ms)[0m   [0mSELECT * FROM `clippings` WHERE (created_at > '2011-04-09 21:51:34') ORDER BY created_at DESC LIMIT 10[0m
  [4;36;1mPhoto Load (0.5ms)[0m   [0;1mSELECT * FROM `photos` WHERE (photos.created_at > '2011-04-09 21:51:27' AND photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 10[0m
  [4;35;1mComment Load (0.6ms)[0m   [0mSELECT * FROM `comments` WHERE (created_at > '2011-04-02 21:51:34') ORDER BY created_at DESC LIMIT 13[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id GROUP BY tags.id, tags.name ORDER BY count DESC LIMIT 30[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(activities.id) AS count_activities_id FROM `activities` LEFT JOIN users ON users.id = activities.user_id WHERE (users.activated_at IS NOT NULL) [0m
  [4;36;1mActivity Load (0.4ms)[0m   [0;1mSELECT activities.* FROM `activities` LEFT JOIN users ON users.id = activities.user_id WHERE (users.activated_at IS NOT NULL) ORDER BY activities.created_at DESC LIMIT 0, 0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.3ms)[0m   [0mSELECT * FROM `assets` [0m


Processing BaseController#site_index (for 0.0.0.0 at 2011-04-16 14:51:35) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.2ms)[0m   [0mSELECT * FROM `assets` [0m


Processing BaseController#site_index to rss (for 0.0.0.0 at 2011-04-16 14:51:35) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.1ms)[0m   [0mSELECT * FROM `assets` [0m


Processing BaseController#teaser (for 0.0.0.0 at 2011-04-16 14:51:35) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
Rendering template within layouts/beta
Rendering base/teaser
Rendered shared/_box (0.4ms)
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:35' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `login_slug` = 'administrator', `perishable_token` = 'KJsUziHH_Csy2edUGvcM', `sb_last_seen_at` = '2011-04-16 21:51:35', `current_login_at` = '2011-04-16 21:51:35', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` [0m


Processing CategoriesController#create (for 0.0.0.0 at 2011-04-16 14:51:35) [POST]
  Parameters: {"category"=>{}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'DIYT62y5wo9cW0A56l57', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Create (0.3ms)[0m   [0mINSERT INTO `categories` (`name`, `nav_text`, `tips`, `new_post_text`) VALUES(NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = '6Wp3XjuAdlOQ7tCrIDNd', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'tJuuC1drUE1pjLzAYhJw', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:35' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `login_slug` = 'administrator', `perishable_token` = 'NQGw-6lDDTjWR4dlX---', `sb_last_seen_at` = '2011-04-16 21:51:35', `current_login_at` = '2011-04-16 21:51:35', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` [0m


Processing CategoriesController#destroy (for 0.0.0.0 at 2011-04-16 14:51:35) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'aTfZYz0D-76L8y4tJOin', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'BSLpuEABiO39R-z-INm1', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'AccEtLOiUKEOI8BMunml', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:35' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `login_slug` = 'administrator', `perishable_token` = 'YZ6_vrmy9rCtu-oFcpM3', `sb_last_seen_at` = '2011-04-16 21:51:35', `current_login_at` = '2011-04-16 21:51:35', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing CategoriesController#edit (for 0.0.0.0 at 2011-04-16 14:51:35) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'Lf8blN-lrdwmoQ3yV0fQ', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
Rendering template within layouts/application
Rendering categories/edit
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'D4Y42Vkwg0Y8qXse6YPf', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = '95mjEYfwx8zXcSOZ5Z0D', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:35' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `login_slug` = 'administrator', `perishable_token` = 'ohjYr_XZ6FS_Rl3XTK_L', `sb_last_seen_at` = '2011-04-16 21:51:35', `current_login_at` = '2011-04-16 21:51:35', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing CategoriesController#index (for 0.0.0.0 at 2011-04-16 14:51:35) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'VC9bFn4Jd2UFCl-sYQGu', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendering template within layouts/application
Rendering categories/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'yRZKHKytJMN-uuORt8Zm', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = '_E3s__G5MIcxa6NWT-wa', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:35' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `login_slug` = 'administrator', `perishable_token` = 'P-iczXeSBeGTaclX3V3b', `sb_last_seen_at` = '2011-04-16 21:51:35', `current_login_at` = '2011-04-16 21:51:35', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing CategoriesController#new (for 0.0.0.0 at 2011-04-16 14:51:35) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = '_8LX76RiUZtPk-pVyBUu', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering categories/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'O9S5Bl952jPB3d3byzAN', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'ns9DoO65zVUeZoMQatEc', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing CategoriesController#show (for 0.0.0.0 at 2011-04-16 14:51:35) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(DISTINCT posts.id) AS count_posts_id FROM `posts` LEFT OUTER JOIN `taggings` ON (`posts`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Post') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (category_id = 1) AND (published_as = 'live') [0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.category_id = 1) AND (published_as = 'live') ORDER BY view_count DESC, published_at desc LIMIT 10[0m
  [4;35;1mPoll Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `polls`[0m
  [4;36;1mPoll Load Including Associations (0.5ms)[0m   [0;1mSELECT `polls`.`id` AS t0_r0, `polls`.`question` AS t0_r1, `polls`.`created_at` AS t0_r2, `polls`.`updated_at` AS t0_r3, `polls`.`post_id` AS t0_r4, `polls`.`votes_count` AS t0_r5, `posts`.`id` AS t1_r0, `posts`.`created_at` AS t1_r1, `posts`.`updated_at` AS t1_r2, `posts`.`raw_post` AS t1_r3, `posts`.`post` AS t1_r4, `posts`.`title` AS t1_r5, `posts`.`category_id` AS t1_r6, `posts`.`user_id` AS t1_r7, `posts`.`view_count` AS t1_r8, `posts`.`contest_id` AS t1_r9, `posts`.`emailed_count` AS t1_r10, `posts`.`favorited_count` AS t1_r11, `posts`.`published_as` AS t1_r12, `posts`.`published_at` AS t1_r13, `users`.`id` AS t2_r0, `users`.`login` AS t2_r1, `users`.`email` AS t2_r2, `users`.`description` AS t2_r3, `users`.`avatar_id` AS t2_r4, `users`.`crypted_password` AS t2_r5, `users`.`password_salt` AS t2_r6, `users`.`created_at` AS t2_r7, `users`.`updated_at` AS t2_r8, `users`.`persistence_token` AS t2_r9, `users`.`stylesheet` AS t2_r10, `users`.`view_count` AS t2_r11, `users`.`vendor` AS t2_r12, `users`.`activation_code` AS t2_r13, `users`.`activated_at` AS t2_r14, `users`.`state_id` AS t2_r15, `users`.`metro_area_id` AS t2_r16, `users`.`login_slug` AS t2_r17, `users`.`notify_comments` AS t2_r18, `users`.`notify_friend_requests` AS t2_r19, `users`.`notify_community_news` AS t2_r20, `users`.`country_id` AS t2_r21, `users`.`featured_writer` AS t2_r22, `users`.`last_login_at` AS t2_r23, `users`.`zip` AS t2_r24, `users`.`birthday` AS t2_r25, `users`.`gender` AS t2_r26, `users`.`profile_public` AS t2_r27, `users`.`activities_count` AS t2_r28, `users`.`sb_posts_count` AS t2_r29, `users`.`sb_last_seen_at` AS t2_r30, `users`.`role_id` AS t2_r31, `users`.`single_access_token` AS t2_r32, `users`.`perishable_token` AS t2_r33, `users`.`login_count` AS t2_r34, `users`.`failed_login_count` AS t2_r35, `users`.`last_request_at` AS t2_r36, `users`.`current_login_at` AS t2_r37, `users`.`current_login_ip` AS t2_r38, `users`.`last_login_ip` AS t2_r39 FROM `polls` LEFT OUTER JOIN `posts` ON `posts`.id = `polls`.post_id LEFT OUTER JOIN `users` ON `users`.id = `posts`.user_id WHERE (posts.category_id = 1) ORDER BY polls.votes_count desc LIMIT 5[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:35' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `login_slug` = 'administrator', `perishable_token` = 'bLj9cM5Ym6E3EyqvejIy', `sb_last_seen_at` = '2011-04-16 21:51:35', `current_login_at` = '2011-04-16 21:51:35', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing CategoriesController#update (for 0.0.0.0 at 2011-04-16 14:51:35) [PUT]
  Parameters: {"category"=>{}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'xOYxaT_JtAyOUoCsdRfy', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'yyqr2ayHQ30OJW1N1CrG', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:35', `perishable_token` = 'WbvH-bapm6cBltPABoXC', `last_request_at` = '2011-04-16 21:51:35' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`name` = 'Questions') LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 3) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`name` = 'How to') LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`name` = 'Inspiration') LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 2) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`name` = 'News') LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`name` = 'Talk') LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`name` = 'Questions') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE `categories` SET `new_post_text` = 'Ask a question' WHERE `id` = 3[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`name` = 'Questions') LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mChoice Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClipping Load (0.4ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mClippingImage Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `assets`[0m
WARNING: Can't mass-assign these protected attributes: attachable
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClippingImage Create (0.4ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(16966, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', NULL, 'library.jpg', 300, NULL, NULL, NULL, 142)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 2) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.4ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', 'medium_square', 'library_medium_square.jpg', 200, 2, NULL, NULL, 200)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 2) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', 'medium', 'library_medium.jpg', 300, 2, NULL, NULL, 142)[0m
  [4;35;1mClippingImage Load (0.4ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 2) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', 'thumb', 'library_thumb.jpg', 100, 2, NULL, NULL, 100)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAsset Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAsset Destroy (0.1ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAsset Destroy (0.1ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAsset Destroy (0.1ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAsset Destroy (0.1ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClipping Load (0.3ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 1 AND (created_at > '2011-04-14 21:51:34')) ORDER BY created_at ASC, created_at desc LIMIT 1[0m
  [4;36;1mClipping Load (0.2ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mAsset Load (0.2ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClipping Load (0.1ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClipping Load (0.2ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 1 AND (created_at < '2011-04-15 21:51:34')) ORDER BY created_at DESC, created_at desc LIMIT 1[0m
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 2) [0m
  [4;36;1mAsset Load (0.1ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (created_at > '2011-04-09 21:51:36') ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mAsset Load (0.1ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClipping Load (0.1ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;35;1mClipping Load (0.7ms)[0m   [0mSELECT DISTINCT clippings.* FROM `clippings` INNER JOIN taggings clippings_taggings ON clippings_taggings.taggable_id = clippings.id AND clippings_taggings.taggable_type = 'Clipping' INNER JOIN tags clippings_tags ON clippings_tags.id = clippings_taggings.tag_id WHERE (clippings.id != 1 AND (clippings_tags.name LIKE 'Misc')) ORDER BY created_at DESC LIMIT 8[0m
  [4;36;1mClipping Load (0.3ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 2) [0m
  [4;35;1mAsset Load (0.2ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `assets` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClipping Create (0.3ms)[0m   [0mINSERT INTO `clippings` (`created_at`, `image_url`, `updated_at`, `url`, `user_id`, `description`, `favorited_count`) VALUES('2011-04-16 21:51:36', 'http://www.google.com/intl/en_ALL/images/logo.gif', '2011-04-16 21:51:36', 'http://example.com', 1, NULL, 0)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:36', 'clipping', 1, 3, 'Clipping')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:36', `perishable_token` = 'X-qegePE78eH2WmAvvbr', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 3 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', NULL, 'library.jpg', 300, NULL, 'Clipping', 3, 142)[0m
  [4;35;1mClippingImage Load (0.2ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 6) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', 'medium_square', 'library_medium_square.jpg', 200, 6, NULL, NULL, 200)[0m
  [4;35;1mClippingImage Load (0.2ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 6) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.4ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', 'medium', 'library_medium.jpg', 300, 6, NULL, NULL, 142)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 6) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', 'thumb', 'library_thumb.jpg', 100, 6, NULL, NULL, 100)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 3 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mClippingImage Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.parent_id = 6) [0m
  [4;35;1mClippingImage Destroy (0.2ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 7[0m
  [4;36;1mClippingImage Destroy (0.2ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 8[0m
  [4;35;1mClippingImage Destroy (0.2ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 9[0m
  [4;36;1mClippingImage Destroy (0.2ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 6[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Load (0.4ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 3 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', NULL, 'library.jpg', 300, NULL, 'Clipping', 3, 142)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 10) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', 'medium_square', 'library_medium_square.jpg', 200, 10, NULL, NULL, 200)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 10) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.4ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', 'medium', 'library_medium.jpg', 300, 10, NULL, NULL, 142)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 10) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', 'thumb', 'library_thumb.jpg', 100, 10, NULL, NULL, 100)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `assets` [0m
  [4;36;1mAsset Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAsset Destroy (0.2ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 10[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAsset Destroy (0.1ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 11[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAsset Destroy (0.1ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 12[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAsset Destroy (0.1ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 13[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.2ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `clippings` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `assets` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `assets` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `clippings` [0m
  [4;35;1mAsset Load (0.1ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:36' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:36', `perishable_token` = 'QrfUfzSiC2vCys60eSJ0', `sb_last_seen_at` = '2011-04-16 21:51:36', `current_login_at` = '2011-04-16 21:51:36', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:36' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `clippings` [0m


Processing ClippingsController#create (for 0.0.0.0 at 2011-04-16 14:51:36) [POST]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:36", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106fa9810 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:36", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "QrfUfzSiC2vCys60eSJ0", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:36", current_login_at: "2011-04-16 21:51:36", current_login_ip: "0.0.0.0", last_login_ip: nil>, "clipping"=>{"image_url"=>"http://www.google.com/intl/en_ALL/images/logo.gif", "url"=>"http://www.google.com"}, "tag_list"=>"tag1, tag2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:36', `perishable_token` = 'PuDAvqAs8eK0HEIEaGkO', `last_request_at` = '2011-04-16 21:51:36' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClipping Create (0.4ms)[0m   [0mINSERT INTO `clippings` (`created_at`, `image_url`, `updated_at`, `url`, `user_id`, `description`, `favorited_count`) VALUES('2011-04-16 21:51:36', 'http://www.google.com/intl/en_ALL/images/logo.gif', '2011-04-16 21:51:36', 'http://www.google.com', 1, NULL, 0)[0m
  [4;36;1mActivity Create (0.3ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:36', 'clipping', 1, 4, 'Clipping')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:36', `perishable_token` = 'XkH-VNceLKJYpSL4p80q', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mClippingImage Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 4 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.4ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', NULL, 'library.jpg', 300, NULL, 'Clipping', 4, 142)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 14) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', 'medium_square', 'library_medium_square.jpg', 200, 14, NULL, NULL, 200)[0m
  [4;36;1mClippingImage Load (0.4ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 14) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.4ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', 'medium', 'library_medium.jpg', 300, 14, NULL, NULL, 142)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 14) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:36', 'image/jpg', '2011-04-16 21:51:36', 'thumb', 'library_thumb.jpg', 100, 14, NULL, NULL, 100)[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;36;1mTag Create (0.2ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag1', 0)[0m
  [4;35;1mTagging Create (0.2ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(4, 4, 'Clipping')[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 4) [0m
  [4;35;1mTag Update (0.2ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 4) [0m
  [4;36;1mTag Load (0.1ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;35;1mTag Load (0.1ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;36;1mTag Create (0.1ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag2', 0)[0m
  [4;35;1mTagging Create (0.2ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(5, 4, 'Clipping')[0m
  [4;36;1mTag Load (0.1ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 5) [0m
  [4;35;1mTag Update (0.1ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:36', `perishable_token` = 'ATDiFqrvUfMNVNUHfZt1', `last_request_at` = '2011-04-16 21:51:36' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:36', `perishable_token` = 'FKPUFFkOfdEGtyWEok4X', `last_request_at` = '2011-04-16 21:51:36' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.2ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:36' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:36', `perishable_token` = 'jntRzKUGaqpckGNEuKEC', `sb_last_seen_at` = '2011-04-16 21:51:36', `current_login_at` = '2011-04-16 21:51:36', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:36' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClippingsController#new_clipping (for 0.0.0.0 at 2011-04-16 14:51:37) [GET]
  Parameters: {"uri"=>"http://www.google.com"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'urgKk46H7GoZYgz-26gx', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering clippings/new_clipping
Rendered shared/_scripts_and_styles (12.0ms)
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'iExpT9grRx6e14tFSRfZ', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'rJoF2MuAexd_CNaExtJ9', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:37' WHERE (id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'iLihkvC1h0v5U5BynFQg', `sb_last_seen_at` = '2011-04-16 21:51:37', `current_login_at` = '2011-04-16 21:51:37', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `clippings` [0m


Processing ClippingsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:37) [DELETE]
  Parameters: {"id"=>"1", "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:37", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x107038f60 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:37", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "iLihkvC1h0v5U5BynFQg", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:37", current_login_at: "2011-04-16 21:51:37", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = '5vyx0fho8EkjTEocZjbT', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClipping Load (0.2ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Clipping') [0m
  [4;35;1mClippingImage Load (0.2ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mFavorite Load (0.3ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mTagging Load (0.3ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Clipping') [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;35;1mTag Update (0.2ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTagging Destroy (0.1ms)[0m   [0;1mDELETE FROM `taggings` WHERE `id` = 2[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Clipping') [0m
  [4;36;1mClipping Destroy (0.2ms)[0m   [0;1mDELETE FROM `clippings` WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'V9ddNn2kklCk5tpGd9K3', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'oYqnQZOtDj_2ndFMmYRd', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.2ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:37' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'Fv8-UTcol_K98esKEk9d', `sb_last_seen_at` = '2011-04-16 21:51:37', `current_login_at` = '2011-04-16 21:51:37', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.1ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClippingsController#edit (for 0.0.0.0 at 2011-04-16 14:51:37) [GET]
  Parameters: {"id"=>"1", "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:37", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106e112c8 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:37", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "Fv8-UTcol_K98esKEk9d", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:37", current_login_at: "2011-04-16 21:51:37", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'IwBfJGfxXLCeWkogDb2X', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mClipping Load (0.1ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering clippings/edit
Rendered shared/_box (0.4ms)
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'ijCozmohC-mBArsvM3vR', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = '8kKxHhzP7ZF0Y8MaGp7t', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.1ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:37' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'D9fFaBjxETkh-P2Ci4Ff', `sb_last_seen_at` = '2011-04-16 21:51:37', `current_login_at` = '2011-04-16 21:51:37', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ClippingsController#index (for 0.0.0.0 at 2011-04-16 14:51:37) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:37", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106f36540 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:37", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "D9fFaBjxETkh-P2Ci4Ff", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:37", current_login_at: "2011-04-16 21:51:37", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'xxFsoFJmiUR2Z_E1XvEh', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(DISTINCT clippings.id) AS count_clippings_id FROM `clippings` LEFT OUTER JOIN `taggings` ON (`clippings`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Clipping') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (user_id = 1) [0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN clippings ON clippings.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Clipping' AND `clippings`.`user_id` = 1) GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 20[0m
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (user_id = 1) ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mTagging Load (0.2ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Clipping') [0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = '6dU9hNAUKK1tXFBkER27', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'iGLl-sgHdip3JCa8xRYX', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:37' WHERE (id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'sZWXoqhTlaN2QxCt6iEj', `sb_last_seen_at` = '2011-04-16 21:51:37', `current_login_at` = '2011-04-16 21:51:37', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.3ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ClippingsController#index to rss (for 0.0.0.0 at 2011-04-16 14:51:37) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:37", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106dc1e80 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:37", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "sZWXoqhTlaN2QxCt6iEj", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:37", current_login_at: "2011-04-16 21:51:37", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'w1trvTEb7dy6TJqRohKd', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(DISTINCT clippings.id) AS count_clippings_id FROM `clippings` LEFT OUTER JOIN `taggings` ON (`clippings`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Clipping') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (user_id = 1) [0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN clippings ON clippings.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Clipping' AND `clippings`.`user_id` = 1) GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 20[0m
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (user_id = 1) ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mTagging Load (0.3ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Clipping') [0m
  [4;35;1mTag Load (0.1ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'cCfBsS2BVaj31-oL_ZPy', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = '_v1BWzFJ3memnIMgQ5Cl', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:37' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'DGg2mKZxkXn35nS1C3b1', `sb_last_seen_at` = '2011-04-16 21:51:37', `current_login_at` = '2011-04-16 21:51:37', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ClippingsController#new (for 0.0.0.0 at 2011-04-16 14:51:37) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:37", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x107135c38 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:37", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "DGg2mKZxkXn35nS1C3b1", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:37", current_login_at: "2011-04-16 21:51:37", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'qsuQvz6NeiTWttYa58ZN', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering clippings/new
Rendered shared/_box (0.7ms)
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:37', `perishable_token` = 'aJH2O3csOqt7lpFoCpkd', `last_request_at` = '2011-04-16 21:51:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = '7eA4jqPkySi1Q63BUppd', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.2ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:38' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'lpi8spArONo6jbeVTPGi', `sb_last_seen_at` = '2011-04-16 21:51:38', `current_login_at` = '2011-04-16 21:51:38', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing ClippingsController#index (for 0.0.0.0 at 2011-04-16 14:51:38) [GET]
  Parameters: {"user_id"=>#<User id: 10, login: "privateuser", email: "privateuser@example.com", description: "I am a private user, which means you can't see my p...", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-15 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "64118cc5f1f065c20e17c9f679ffeff1d4f53dd303e179f5185...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-16 21:21:29", state_id: nil, metro_area_id: nil, login_slug: "privateuser", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: false, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "ZwoPoWPNZBIhrX3cWpXY", perishable_token: "kkf0tM5PxBzA684FoXsB", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'H-kEYOKRFoe6bL_lhEi8', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(DISTINCT clippings.id) AS count_clippings_id FROM `clippings` LEFT OUTER JOIN `taggings` ON (`clippings`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Clipping') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (user_id = 10) [0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN clippings ON clippings.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Clipping' AND `clippings`.`user_id` = 10) GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 20[0m
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (user_id = 10) ORDER BY created_at DESC LIMIT 0, 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'mN1zHK1Lq-n_eA7PnuTy', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'sN2SvQHhzqeMvUOMp3Lr', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` [0m


Processing ClippingsController#site_index (for 0.0.0.0 at 2011-04-16 14:51:38) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(DISTINCT clippings.id) AS count_clippings_id FROM `clippings` LEFT OUTER JOIN `taggings` ON (`clippings`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Clipping') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((created_at > '2011-03-19 21:51:38')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` [0m


Processing ClippingsController#site_index to rss (for 0.0.0.0 at 2011-04-16 14:51:38) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(DISTINCT clippings.id) AS count_clippings_id FROM `clippings` LEFT OUTER JOIN `taggings` ON (`clippings`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Clipping') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((created_at > '2011-03-19 21:51:38')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing ClippingsController#index (for 0.0.0.0 at 2011-04-16 14:51:38) [GET]
  Parameters: {"user_id"=>#<User id: 10, login: "privateuser", email: "privateuser@example.com", description: "I am a private user, which means you can't see my p...", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-15 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "64118cc5f1f065c20e17c9f679ffeff1d4f53dd303e179f5185...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-16 21:21:29", state_id: nil, metro_area_id: nil, login_slug: "privateuser", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: false, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "ZwoPoWPNZBIhrX3cWpXY", perishable_token: "kkf0tM5PxBzA684FoXsB", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.1ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:38' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'Exh6BigqoLO9uh_7cWc5', `sb_last_seen_at` = '2011-04-16 21:51:38', `current_login_at` = '2011-04-16 21:51:38', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClippingsController#show (for 0.0.0.0 at 2011-04-16 14:51:38) [GET]
  Parameters: {"id"=>"1", "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:38", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106cbf348 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:38", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "Exh6BigqoLO9uh_7cWc5", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:38", current_login_at: "2011-04-16 21:51:38", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'iTcArOnPrV9KwL5LaONS', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClipping Load (0.1ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClipping Load (0.3ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 1 AND (created_at < '2011-04-15 21:51:34')) ORDER BY created_at DESC, created_at desc LIMIT 1[0m
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 1 AND (created_at > '2011-04-15 21:51:34')) ORDER BY created_at ASC, created_at desc LIMIT 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;35;1mClipping Load (0.3ms)[0m   [0mSELECT DISTINCT clippings.* FROM `clippings` INNER JOIN taggings clippings_taggings ON clippings_taggings.taggable_id = clippings.id AND clippings_taggings.taggable_type = 'Clipping' INNER JOIN tags clippings_tags ON clippings_tags.id = clippings_taggings.tag_id WHERE (clippings.id != 1 AND (clippings_tags.name LIKE 'Misc')) ORDER BY created_at DESC LIMIT 8[0m
Rendering template within layouts/application
Rendering clippings/show
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'wa2Be3P2xM13IHGnKk68', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'hGR6u0_VrKJTEBrqgpHl', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:38' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = '-3sZ42__VE9Qe78haWl9', `sb_last_seen_at` = '2011-04-16 21:51:38', `current_login_at` = '2011-04-16 21:51:38', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ClippingsController#update (for 0.0.0.0 at 2011-04-16 14:51:38) [PUT]
  Parameters: {"id"=>"1", "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:38", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106d944d0 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:38", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "-3sZ42__VE9Qe78haWl9", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:38", current_login_at: "2011-04-16 21:51:38", current_login_ip: "0.0.0.0", last_login_ip: nil>, "clipping"=>{"url"=>"changed url"}, "tag_list"=>"tagX, tagY"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'VoTdcefmWFAylU8RiWcN', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClipping Load (0.1ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClippingImage Load (0.2ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'PF8UNWdAu6JpR5VeMGpb', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'A5gTkGhzjYTGvbRrayw-', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('foo', '2011-04-16 21:51:38', '', 'User', NULL, 1, 1, 0, 'bar@foo.com', NULL, '123.123.123', 1)[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('foo', '2011-04-16 21:51:38', '', 'User', NULL, 2, NULL, 1, NULL, NULL, NULL, 1)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:38', 'comment', 1, 8, 'Comment')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'txyjtFRsxTZYPGX894Hk', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (user_id = 1) ORDER BY created_at DESC[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('foo', '2011-04-16 21:51:38', '', 'User', NULL, 1, 1, 0, 'bruno@foo.com', NULL, '123.123.123', 0)[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('bar', '2011-04-16 21:51:38', '', 'User', NULL, 1, 1, 0, 'alicia@foo.com', NULL, '123.123.123', 1)[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('foo', '2011-04-16 21:51:38', '', 'User', NULL, 1, 1, 0, 'bruno@foo.com', NULL, '123.123.123', 1)[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('bar', '2011-04-16 21:51:38', '', 'User', NULL, 1, 1, 0, 'bruno@foo.com', NULL, '123.123.123', 1)[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.3ms)[0m   [0mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('bar', '2011-04-16 21:51:38', '', 'User', NULL, 1, 1, 0, 'bruno@foo.com', NULL, '123.123.123', 1)[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('foo', '2011-04-16 21:51:38', '', 'User', NULL, 1, 1, 0, 'bruno@foo.com', NULL, '123.123.123', 1)[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('bar', '2011-04-16 21:51:38', '', 'User', NULL, 1, 1, 0, 'bruno@foo.com', NULL, '123.123.123', 1)[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.3ms)[0m   [0mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('bar', '2011-04-16 21:51:38', '', 'User', NULL, 1, 1, 0, 'alicia@foo.com', NULL, '123.123.123', 1)[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('foo', '2011-04-16 21:51:38', '', 'User', NULL, 1, 1, 0, 'alicia@foo.com', NULL, '123.123.123', 1)[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('bar', '2011-04-16 21:51:38', '', 'User', NULL, 1, 1, 0, 'alicia@foo.com', NULL, '123.123.123', 1)[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`author_email` = 'alicia@foo.com') AND (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.3ms)[0m   [0;1mUPDATE `comments` SET `notify_by_email` = 0 WHERE `id` = 17[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `notify_by_email` = 0 WHERE `id` = 18[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 18) [0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` = 17) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:38' WHERE (id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'IebgohKys3Wmfa9EJf29', `sb_last_seen_at` = '2011-04-16 21:51:38', `current_login_at` = '2011-04-16 21:51:38', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2011-04-16 14:51:38) [POST]
  Parameters: {"comment"=>{"comment"=>"hey man, nice pic?", "title"=>"test comment on a photo"}, "commentable_type"=>"photo", "commentable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'qKZHtTPpe-iJIimjeX_Q', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('hey man, nice pic?', '2011-04-16 21:51:38', 'test comment on a photo', 'Photo', NULL, 1, 1, 2, NULL, NULL, '0.0.0.0', 1)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:38', 'comment', 2, 19, 'Comment')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'YOTdGffhE8mJyaf6preK', `activities_count` = 1 WHERE `id` = 2[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:38', `perishable_token` = 'K7nUP50ePqE6t00_Z-7G', `last_request_at` = '2011-04-16 21:51:38' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'D3ofcbUthgeA2TuewDnj', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:39' WHERE (id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'hORtRhzZil7o0wii4hEQ', `sb_last_seen_at` = '2011-04-16 21:51:39', `current_login_at` = '2011-04-16 21:51:39', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2011-04-16 14:51:39) [POST]
  Parameters: {"comment"=>{"comment"=>"hey man, nice posts?", "title"=>"test comment on a posts"}, "commentable_type"=>"post", "commentable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'cwkS5hiS16nI0TucQN6W', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('hey man, nice posts?', '2011-04-16 21:51:39', 'test comment on a posts', 'Post', NULL, 1, 1, 2, NULL, NULL, '0.0.0.0', 1)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:39', 'comment', 2, 20, 'Comment')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = '154rFKMnb1jy0EGD5b_o', `activities_count` = 1 WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = '71WgCotjfxJjrqdPr3VO', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'IG0Y17JnT5-sJbtFOjn3', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:39' WHERE (id = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = '11Q9lzsM2cnv86JBKhFJ', `sb_last_seen_at` = '2011-04-16 21:51:39', `current_login_at` = '2011-04-16 21:51:39', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 5[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 5) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing CommentsController#create (for 0.0.0.0 at 2011-04-16 14:51:39) [POST]
  Parameters: {"comment"=>{"comment"=>"hey man, how are you?", "title"=>"test comment to quentin"}, "commentable_type"=>"user", "commentable_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = '_ugUOhvaquYDLhTDFPhZ', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 5[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 5) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mComment Create (0.3ms)[0m   [0;1mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('hey man, how are you?', '2011-04-16 21:51:39', 'test comment to quentin', 'User', NULL, 2, 2, 5, NULL, NULL, '0.0.0.0', 1)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:39', 'comment', 5, 21, 'Comment')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 5) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'Wen9_MfPnMU9_L0X41SJ', `activities_count` = 1 WHERE `id` = 5[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 5) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = '6SeN2Sc-UWx9auLW1mI7', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 5[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 5) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'oJNk2FWxuXxD9p8jD3XO', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 5[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 5) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:39' WHERE (id = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'h8rc3Ylmx0rJiNdnHH4Q', `sb_last_seen_at` = '2011-04-16 21:51:39', `current_login_at` = '2011-04-16 21:51:39', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2011-04-16 14:51:39) [POST]
  Parameters: {"comment"=>{"comment"=>"hey man, how are you?", "title"=>"test comment to quentin"}, "commentable_type"=>"user", "commentable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'd-Fh_FP000A-W7Qihh_t', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('hey man, how are you?', '2011-04-16 21:51:39', 'test comment to quentin', 'User', NULL, 1, 1, 2, NULL, NULL, '0.0.0.0', 1)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:39', 'comment', 2, 22, 'Comment')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = '4n7yBVLFmAMXTHTRy5eH', `activities_count` = 1 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = '0t9f4khQKfqCpWrhtzOK', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'HO7OsP0rr1bjfHk89GJq', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.2ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'i4PDqvhgsxs_3yQW_NmY', `notify_comments` = 0 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:39' WHERE (id = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'OH3fgPY54jwkeLj_FpLz', `sb_last_seen_at` = '2011-04-16 21:51:39', `current_login_at` = '2011-04-16 21:51:39', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m


Processing CommentsController#create (for 0.0.0.0 at 2011-04-16 14:51:39) [POST]
  Parameters: {"comment"=>{"comment"=>"hey man, how are you?", "title"=>"test comment to quentin"}, "commentable_type"=>"user", "commentable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'n81C0B5n40LjrPxiwf7_', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('hey man, how are you?', '2011-04-16 21:51:39', 'test comment to quentin', 'User', NULL, 1, 1, 2, NULL, NULL, '0.0.0.0', 1)[0m
  [4;36;1mActivity Create (0.1ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:39', 'comment', 2, 23, 'Comment')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'MPi64IwM7n74li6CF_5_', `activities_count` = 1 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load IDs For Limited Eager Loading (0.6ms)[0m   [0;1mSELECT DISTINCT `users`.id FROM `users` LEFT OUTER JOIN `comments` ON comments.user_id = users.id WHERE (users.id NOT IN (2,1) AND users.notify_comments = 1 
 AND commentable_id = 1 AND commentable_type = 'User' 
 AND comments.notify_by_email = 1 
 AND comments.created_at > '2011-04-02 21:51:39') LIMIT 20[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'DyzFjiRXpB1hQtmr4SWB', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'NnleYB_KEWYRshSxHPqF', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:39' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'fyuV_8XMWMXgJRS_ff7m', `sb_last_seen_at` = '2011-04-16 21:51:39', `current_login_at` = '2011-04-16 21:51:39', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 1) [0m


Processing CommentsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:39) [DELETE]
  Parameters: {"commentable_type"=>"Post", "commentable_id"=>"1", "id"=>#<Comment id: 1, title: "I want to comment on this post", created_at: "2011-04-12 21:51:29", commentable_id: 1, commentable_type: "Post", user_id: 1, recipient_id: 1, comment: "I think you are really cool", author_name: nil, author_email: nil, author_url: nil, author_ip: nil, notify_by_email: true>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'c3LJmgJKj0Kw23KcTgyb', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.2ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = '3x9B0jQ2gBichdlqzInB', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'yNqpqxQoRQIYT8RMto_-', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:39' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'UnonChNNs0IGAJ2Fi59h', `sb_last_seen_at` = '2011-04-16 21:51:39', `current_login_at` = '2011-04-16 21:51:39', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2011-04-16 14:51:39) [POST]
  Parameters: {"comment"=>{"comment"=>"hey man, nice posts?", "title"=>"test comment on a posts"}, "commentable_type"=>"unkown_commentable_type", "commentable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'f_H_5f_q3ZL714bpiLRw', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = '-V3lbdZ-hpI2LFEctJ-w', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = '7T-o8nqFJim2NI97BMPp', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:39' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = '0lUxirbaOQVCpsfUulDb', `sb_last_seen_at` = '2011-04-16 21:51:39', `current_login_at` = '2011-04-16 21:51:39', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2011-04-16 14:51:39) [POST]
  Parameters: {"comment"=>{"comment"=>nil, "title"=>"test comment on a photo"}, "commentable_type"=>"photo", "commentable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = '8gA0FOPK5Wt8bysqwSnd', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/photos/show/1
Completed in 25ms (DB: 108) | 302 Found [http://test.host/comments/create?comment%5Bcomment%5D=&comment%5Btitle%5D=test+comment+on+a+photo&commentable_id=1&commentable_type=photo]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'ekQ06NflfcrR-TMbQGrZ', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'sflY1k7cswZbcsXAhtcJ', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:39' WHERE (id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'YmL2n9icZz4ypat5aHSo', `sb_last_seen_at` = '2011-04-16 21:51:39', `current_login_at` = '2011-04-16 21:51:39', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2011-04-16 14:51:39) [POST]
  Parameters: {"comment"=>{"comment"=>nil, "title"=>"test comment on a posts"}, "commentable_type"=>"post", "commentable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'rq48JJveSNN3bsxB_M7j', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/posts/show/1
Completed in 146ms (DB: 7) | 302 Found [http://test.host/comments/create?comment%5Bcomment%5D=&comment%5Btitle%5D=test+comment+on+a+posts&commentable_id=1&commentable_type=post]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'DFYQz9xwHZDc2tKsh1Mt', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'W4FUpAtVCFQmKycFqhjn', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:39' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = 'jTwQunUoFaww5Pf-J_xP', `sb_last_seen_at` = '2011-04-16 21:51:39', `current_login_at` = '2011-04-16 21:51:39', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2011-04-16 14:51:39) [POST]
  Parameters: {"comment"=>{"comment"=>nil, "title"=>"test comment to quentin"}, "commentable_type"=>"user", "commentable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:39', `perishable_token` = '6s7Wrq2t7vHqPPQRm13-', `last_request_at` = '2011-04-16 21:51:39' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/show/1
Completed in 24ms (DB: 7) | 302 Found [http://test.host/comments/create?comment%5Bcomment%5D=&comment%5Btitle%5D=test+comment+to+quentin&commentable_id=1&commentable_type=user]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'ieinfWvFyta9Inrwk8fK', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'PdDaNy3ouatOmxc3RXyD', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.3ms)[0m   [0mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('foo', '2011-04-16 21:51:40', '', 'User', NULL, 1, 1, 0, 'bar@foo.com', NULL, '123.123.123', 1)[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing CommentsController#unsubscribe (for 0.0.0.0 at 2011-04-16 14:51:40) [POST]
  Parameters: {"commentable_type"=>"User", "commentable_id"=>"quentin", "token"=>"badtokengoeshere", "comment_id"=>"24"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` = 24) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:40' WHERE (id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = '-serxRj0QnSeTVhCSK8t', `sb_last_seen_at` = '2011-04-16 21:51:40', `current_login_at` = '2011-04-16 21:51:40', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` = 1) [0m


Processing CommentsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:40) [DELETE]
  Parameters: {"commentable_type"=>"Post", "commentable_id"=>"1", "id"=>#<Comment id: 1, title: "I want to comment on this post", created_at: "2011-04-12 21:51:29", commentable_id: 1, commentable_type: "Post", user_id: 1, recipient_id: 1, comment: "I think you are really cool", author_name: nil, author_email: nil, author_url: nil, author_ip: nil, notify_by_email: true>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'cVD4l8k7fK1OT5u1dFiM', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` = 1) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'EAYe0DAMDLwzWVuDjPHe', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'PpF9c3gjDmygWGRDoTdD', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing CommentsController#index (for 0.0.0.0 at 2011-04-16 14:51:40) [GET]
  Parameters: {"user_id"=>"privateuser"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('privateuser')) LIMIT 1[0m
Redirected to http://test.host/sessions/new
Completed in 4ms (DB: 15) | 302 Found [http://test.host/comments?user_id=privateuser]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:40' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'Th6A24XwaQNLrpdrOdmX', `sb_last_seen_at` = '2011-04-16 21:51:40', `current_login_at` = '2011-04-16 21:51:40', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.1ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing CommentsController#index (for 0.0.0.0 at 2011-04-16 14:51:40) [GET]
  Parameters: {"user_id"=>"aaron"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('aaron')) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'zODFlrGSv0BV_AOIkACt', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(comments.id) AS count_comments_id FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mComment Load (0.4ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mComment Load (0.5ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'lWBr2FajL0kwHb_VPNns', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'eTfGVRKcKsMF3yMZNVDP', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:40' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'FT1h8l5jaWFs74fiBKRx', `sb_last_seen_at` = '2011-04-16 21:51:40', `current_login_at` = '2011-04-16 21:51:40', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing CommentsController#index to rss (for 0.0.0.0 at 2011-04-16 14:51:40) [GET]
  Parameters: {"user_id"=>"aaron"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('aaron')) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'eRf6RSS-HOLRnJjdzcGh', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(comments.id) AS count_comments_id FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'k5xdwz469IA4Zbaoce4P', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'PolaFzQm0TiyQHSQKU5n', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:40' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = '4oZtTgycRUgPBcsa1w9d', `sb_last_seen_at` = '2011-04-16 21:51:40', `current_login_at` = '2011-04-16 21:51:40', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.3ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing CommentsController#index to rss (for 0.0.0.0 at 2011-04-16 14:51:40) [GET]
  Parameters: {"user_id"=>"aaron"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('aaron')) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'YSM-PcQhCHGCHPRlQNNN', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(comments.id) AS count_comments_id FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'QVQJehKYM0n-N2ZdSEJG', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'zwKw-F-0m-x7l6uGcith', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:40' WHERE (id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'mn9yXYdf8q1RTjhEvVN9', `sb_last_seen_at` = '2011-04-16 21:51:40', `current_login_at` = '2011-04-16 21:51:40', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing CommentsController#index (for 0.0.0.0 at 2011-04-16 14:51:40) [GET]
  Parameters: {"user_id"=>"quentin"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('quentin')) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'yPrAcryG8UtOUJYMlpJI', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(comments.id) AS count_comments_id FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'lwpp9TB_zcS3XsVUUKUI', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = '8EkftGvgD9MYJpkWtway', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:40' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'iDIICypfujZ-pCt7cU7n', `sb_last_seen_at` = '2011-04-16 21:51:40', `current_login_at` = '2011-04-16 21:51:40', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing CommentsController#index to rss (for 0.0.0.0 at 2011-04-16 14:51:40) [GET]
  Parameters: {"user_id"=>"quentin"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('quentin')) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = '3huIFgvtsXKTsDjuhaC4', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(comments.id) AS count_comments_id FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = '7eqMpHXhQNFmwNyQwSRO', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'a4Yaj7mjadrUSPvAb1Dd', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:40' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = '2l1UPWYutrKvjkC40OnI', `sb_last_seen_at` = '2011-04-16 21:51:40', `current_login_at` = '2011-04-16 21:51:40', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing CommentsController#index (for 0.0.0.0 at 2011-04-16 14:51:40) [GET]
  Parameters: {"user_id"=>"privateuser"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('privateuser')) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'rcReoslQJ_CQhC98ASFj', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(comments.id) AS count_comments_id FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 1[0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 1[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'YLfnhsdPpBnq-dhDekq5', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:40', `perishable_token` = 'XSmcqWElYs3CFxnpP6T1', `last_request_at` = '2011-04-16 21:51:40' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('foo', '2011-04-16 21:51:40', '', 'User', NULL, 1, 1, 0, 'bar@foo.com', NULL, '123.123.123', 1)[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing CommentsController#unsubscribe (for 0.0.0.0 at 2011-04-16 14:51:40) [POST]
  Parameters: {"token"=>"9fde888f32306d3770843e8ad1d9b440fbf5bcff", "comment_id"=>"25", "email"=>"bar@foo.com"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 25) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`author_email` = 'bar@foo.com') AND (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.3ms)[0m   [0mUPDATE `comments` SET `notify_by_email` = 0 WHERE `id` = 25[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mContest Load (0.3ms)[0m   [0;1mSELECT * FROM `contests` WHERE (begin_date < '2011-04-16 14:51:40' AND end_date > '2011-04-16 14:51:40') ORDER BY created_at desc LIMIT 1[0m
  [4;35;1mContest Load (0.2ms)[0m   [0mSELECT * FROM `contests` WHERE (`contests`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mContest Create (0.3ms)[0m   [0mINSERT INTO `contests` (`created_at`, `title`, `post`, `banner_subtitle`, `updated_at`, `raw_post`, `begin_date`, `end_date`, `banner_title`) VALUES('2011-04-16 21:51:40', 'test contest', '&lt;script>&lt;/script>', 'test contest', '2011-04-16 21:51:40', '<script></script>', '2011-04-16 21:51:40', '2011-05-16 21:51:40', 'test contest')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (16.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:41' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `login_slug` = 'administrator', `perishable_token` = '1IAVk8y8BqQKCNNlJoKO', `sb_last_seen_at` = '2011-04-16 21:51:41', `current_login_at` = '2011-04-16 21:51:41', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `contests` [0m


Processing ContestsController#create (for 0.0.0.0 at 2011-04-16 14:51:41) [POST]
  Parameters: {"contest"=>{"title"=>"created from tests", "banner_subtitle"=>"created from tests", "begin_date"=>"2009-12-02 21:51:41 UTC", "banner_title"=>"created from tests", "end_date"=>"2011-04-16 21:51:41 UTC"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = '82RDKBFR1-6VyLjjMtBA', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mContest Create (0.2ms)[0m   [0;1mINSERT INTO `contests` (`created_at`, `title`, `post`, `banner_subtitle`, `updated_at`, `raw_post`, `begin_date`, `end_date`, `banner_title`) VALUES('2011-04-16 21:51:41', 'created from tests', NULL, 'created from tests', '2011-04-16 21:51:41', NULL, '2009-12-02 21:51:41', '2011-04-16 21:51:41', 'created from tests')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = '5--fkQ4J4bHxJjAe6LH-', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'YgivOlSl5Eo0701suJT5', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:41' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `login_slug` = 'administrator', `perishable_token` = 'TLQJiZlESmsstXalDJyC', `sb_last_seen_at` = '2011-04-16 21:51:41', `current_login_at` = '2011-04-16 21:51:41', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `contests` [0m


Processing ContestsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:41) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'pehhu96kWjw7wgz7WIrS', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mContest Load (0.2ms)[0m   [0;1mSELECT * FROM `contests` WHERE (`contests`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mContest Destroy (0.1ms)[0m   [0;1mDELETE FROM `contests` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'jhVnpe4HKDTVe-U6yVac', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'OZpqEO5kvt3y6HZ6wKch', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:41' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `login_slug` = 'administrator', `perishable_token` = 'VMQti-cdD0cAESFlL8oc', `sb_last_seen_at` = '2011-04-16 21:51:41', `current_login_at` = '2011-04-16 21:51:41', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ContestsController#update (for 0.0.0.0 at 2011-04-16 14:51:41) [PUT]
  Parameters: {"contest"=>{"title"=>nil}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'ssikiv8B7F3pa7S9Bvf7', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mContest Load (0.2ms)[0m   [0mSELECT * FROM `contests` WHERE (`contests`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering contests/edit
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'IRs9l61N5_9NEOKqhD3_', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = '91rgj3009mHaxewdsGbn', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:41' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `login_slug` = 'administrator', `perishable_token` = 'rjiiov1XqrvfaWyCwvuz', `sb_last_seen_at` = '2011-04-16 21:51:41', `current_login_at` = '2011-04-16 21:51:41', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ContestsController#edit (for 0.0.0.0 at 2011-04-16 14:51:41) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'FfP52qaEeXh1FQrNOF2K', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mContest Load (0.2ms)[0m   [0mSELECT * FROM `contests` WHERE (`contests`.`id` = 1) [0m
Rendering template within layouts/application
Rendering contests/edit
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'WzxRCKUUKl8V1Xhcq_6w', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'CP8UI-1HWniD2LSMnm1S', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:41' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `login_slug` = 'administrator', `perishable_token` = 'wJ65L9EMN6f9vqp4Ilnq', `sb_last_seen_at` = '2011-04-16 21:51:41', `current_login_at` = '2011-04-16 21:51:41', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ContestsController#index (for 0.0.0.0 at 2011-04-16 14:51:41) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'CvQqnOIZW4BEKKe8zW9Z', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mContest Load (0.1ms)[0m   [0mSELECT * FROM `contests` [0m
Rendering template within layouts/application
Rendering contests/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'x4Tjyiun6yE9rrpwSf-U', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'NPYiYHVwX04oQi4FS4Tg', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:41' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `login_slug` = 'administrator', `perishable_token` = 'dNshe3alBFbYDe_lVxja', `sb_last_seen_at` = '2011-04-16 21:51:41', `current_login_at` = '2011-04-16 21:51:41', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ContestsController#new (for 0.0.0.0 at 2011-04-16 14:51:41) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'zUg5OdtoQNmPS7MpNuNo', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering contests/new
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'gtctmUU7-U57Vl4Qg3lw', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = '5ZTP81mPNZFHVId3JpdB', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:41' WHERE (id = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `login_slug` = 'administrator', `perishable_token` = 'icv992hD7HKN6HzWLBas', `sb_last_seen_at` = '2011-04-16 21:51:41', `current_login_at` = '2011-04-16 21:51:41', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `contests` [0m


Processing ContestsController#create (for 0.0.0.0 at 2011-04-16 14:51:41) [POST]
  Parameters: {"contest"=>{"banner_subtitle"=>"created from tests", "begin_date"=>"2009-12-02 21:51:41 UTC", "banner_title"=>"created from tests", "end_date"=>"2011-04-16 21:51:41 UTC"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'R34CnJU6Yd6nRHloDGsx', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.6ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering contests/new
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = '57-osh1UYqCyJPdD8nR4', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'eGrGcHX8GC5hs7UjX-bc', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:41' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `login_slug` = 'administrator', `perishable_token` = 'lNdpUPRAKEkRtLMniPQo', `sb_last_seen_at` = '2011-04-16 21:51:41', `current_login_at` = '2011-04-16 21:51:41', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ContestsController#show (for 0.0.0.0 at 2011-04-16 14:51:41) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mContest Load (0.3ms)[0m   [0mSELECT * FROM `contests` WHERE (`contests`.`id` = 1) [0m
Rendering template within layouts/application
Rendering contests/show
  [4;36;1mPost Load (0.4ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.contest_id = 1) AND (published_as = 'live') ORDER BY published_at desc[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'HcEY33b0-NjTOLMt0mTe', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'E1BwXZFGcMhIy936f29L', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:41' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `login_slug` = 'administrator', `perishable_token` = 'ORVTLaSsD4cyncmNUhye', `sb_last_seen_at` = '2011-04-16 21:51:41', `current_login_at` = '2011-04-16 21:51:41', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ContestsController#update (for 0.0.0.0 at 2011-04-16 14:51:41) [PUT]
  Parameters: {"contest"=>{}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'jyVYJxWlg4pNkdgOlbIe', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mContest Load (0.1ms)[0m   [0;1mSELECT * FROM `contests` WHERE (`contests`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'xzKdrZjQHQJ3JFZxg67h', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:41', `perishable_token` = 'f8Y4wS7GkKkogz4rHjdy', `last_request_at` = '2011-04-16 21:51:41' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` [0m
  [4;36;1mCountry Load (0.2ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCountry Load (0.2ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`name` = 'United States') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM `events` WHERE (end_time <= '2011-04-16 14:51:42') ORDER BY start_time DESC[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM `events` WHERE (end_time <= '2011-04-16 14:51:42') ORDER BY start_time DESC[0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 4) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `events` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `events` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `events` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `events` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `events` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `events` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM `events` WHERE (end_time > '2011-04-16 14:51:42') ORDER BY start_time[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (end_time > '2011-04-16 14:51:42') ORDER BY start_time[0m
  [4;35;1mEvent Load (0.1ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 3) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:42' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `login_slug` = 'administrator', `perishable_token` = 'E1vo62m9wsbnWVK4YdfB', `sb_last_seen_at` = '2011-04-16 21:51:42', `current_login_at` = '2011-04-16 21:51:42', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing EventsController#index (for 0.0.0.0 at 2011-04-16 14:51:42) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = 'Pd7ur_8urQAx65i-isEF', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(events.id) AS count_events_id FROM `events` WHERE (end_time > '2011-04-16 14:51:42') [0m
Rendering template within layouts/application
Rendering events/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = 'lLOGL7HebMC8nP0ZjOEk', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = '1s5zG7ff-zHCFzMf8Bn9', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:42' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `login_slug` = 'administrator', `perishable_token` = 'iV9N9SxJr3_LCNv1Yxni', `sb_last_seen_at` = '2011-04-16 21:51:42', `current_login_at` = '2011-04-16 21:51:42', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing EventsController#past (for 0.0.0.0 at 2011-04-16 14:51:42) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = 'AcJDkAfZo63PyLOotr2e', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(events.id) AS count_events_id FROM `events` WHERE (end_time <= '2011-04-16 14:51:42') [0m
Rendering template within layouts/application
Rendering events/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = 'WLJWa901IEa9YZhHICyw', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = 'l09y9RWbI0_hIvkWl30_', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:42' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `login_slug` = 'administrator', `perishable_token` = '8mJjQDnJyTRHPDFuQtMJ', `sb_last_seen_at` = '2011-04-16 21:51:42', `current_login_at` = '2011-04-16 21:51:42', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m


Processing EventsController#clone (for 0.0.0.0 at 2011-04-16 14:51:42) [GET]
  Parameters: {"id"=>#<Event id: 1, name: "a great event", created_at: "2011-04-11 21:51:42", updated_at: "2011-04-11 21:51:42", user_id: 4, start_time: "2011-04-12 21:51:42", end_time: "2011-04-15 21:51:42", description: nil, metro_area_id: 1, location: nil, allow_rsvp: true>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = 'wBPAFxo0_825TVylvXeA', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mCountry Load (0.2ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.country_id = 1) [0m
  [4;35;1mState Load Including Associations (0.3ms)[0m   [0mSELECT `states`.`id` AS t0_r0, `states`.`name` AS t0_r1, `metro_areas`.`id` AS t1_r0, `metro_areas`.`name` AS t1_r1, `metro_areas`.`state_id` AS t1_r2, `metro_areas`.`country_id` AS t1_r3, `metro_areas`.`users_count` AS t1_r4 FROM `states` LEFT OUTER JOIN `metro_areas` ON metro_areas.state_id = states.id WHERE (metro_areas.id in (1,2,3)) [0m
  [4;36;1mState Load (0.2ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering events/new
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = 'd5fPAf9vFGPlZA6Kpca4', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = 'racWw_9mu1V7NFfy9Lob', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:42' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `login_slug` = 'administrator', `perishable_token` = 'aVXaFeE446UNkbI2F_VE', `sb_last_seen_at` = '2011-04-16 21:51:42', `current_login_at` = '2011-04-16 21:51:42', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `events` [0m


Processing EventsController#create (for 0.0.0.0 at 2011-04-16 14:51:42) [POST]
  Parameters: {"event"=>{"name"=>"New event", "end_time"=>Sat Apr 16 14:51:42 -0700 2011, "description"=>"A great event", "start_time"=>Fri, 15 Apr 2011 21:51:42 UTC +00:00}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = '-nEgq1MvzTCgaXuYLt1G', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mEvent Create (0.2ms)[0m   [0mINSERT INTO `events` (`name`, `created_at`, `end_time`, `location`, `updated_at`, `user_id`, `description`, `allow_rsvp`, `metro_area_id`, `start_time`) VALUES('New event', '2011-04-16 21:51:42', '2011-04-16 21:51:42', NULL, '2011-04-16 21:51:42', 4, 'A great event', 1, NULL, '2011-04-15 21:51:42')[0m
  [4;36;1mActivity Create (0.1ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:42', 'event', 4, 7, 'Event')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = 'aIDkDv38_6h7D3lSMbZq', `activities_count` = 1 WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = 'sTDLYHIsAbsnA0WdcGXq', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = 'Q2JkPYHB4oxk-VsFEqtf', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:42' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `login_slug` = 'administrator', `perishable_token` = 'gQPjg0Rx97CIZ_7ofpPP', `sb_last_seen_at` = '2011-04-16 21:51:42', `current_login_at` = '2011-04-16 21:51:42', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `events` [0m


Processing EventsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:42) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = 'z7yeesj0C5Ezmxt6lKNk', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Event') [0m
  [4;35;1mRsvp Load (0.2ms)[0m   [0mSELECT * FROM `rsvps` WHERE (`rsvps`.event_id = 1) [0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Event') [0m
  [4;35;1mEvent Destroy (0.2ms)[0m   [0mDELETE FROM `events` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/events
Completed in 19ms (DB: 15) | 302 Found [http://test.host/events/destroy/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `events` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:42', `perishable_token` = 'D3DmqzxLEOJWo7_rCx_h', `last_request_at` = '2011-04-16 21:51:42' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'mWRjO9P9yqlXWp7XTaXt', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:43' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `login_slug` = 'administrator', `perishable_token` = 'RqK1Xf6RiDgGVCchQPtI', `sb_last_seen_at` = '2011-04-16 21:51:43', `current_login_at` = '2011-04-16 21:51:43', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `events` [0m


Processing EventsController#create (for 0.0.0.0 at 2011-04-16 14:51:43) [POST]
  Parameters: {"event"=>{}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = '7xFd8YztjJRiQm0In9KQ', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering events/new
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 't7Yj-Q255E1NkYBPaMDb', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = '9yJyhthTyFHJi9sEZp_N', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:43' WHERE (id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `login_slug` = 'administrator', `perishable_token` = 'U3Pqu57hXMvCXk5JCYiQ', `sb_last_seen_at` = '2011-04-16 21:51:43', `current_login_at` = '2011-04-16 21:51:43', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing EventsController#update (for 0.0.0.0 at 2011-04-16 14:51:43) [PUT]
  Parameters: {"id"=>"1", "event"=>{"name"=>nil}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'ltRshqRU4dasSDYLELu5', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering events/edit
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'FskrSmScqesblpw2h5-s', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'edmyu108jA1vI6MXD69O', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:43' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `login_slug` = 'administrator', `perishable_token` = 'RElIfi4BHY3_Khze7QaE', `sb_last_seen_at` = '2011-04-16 21:51:43', `current_login_at` = '2011-04-16 21:51:43', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing EventsController#edit (for 0.0.0.0 at 2011-04-16 14:51:43) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'pExKt-14oVeWWC--AvrC', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.1ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mCountry Load (0.2ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.country_id = 1) [0m
  [4;36;1mState Load Including Associations (0.3ms)[0m   [0;1mSELECT `states`.`id` AS t0_r0, `states`.`name` AS t0_r1, `metro_areas`.`id` AS t1_r0, `metro_areas`.`name` AS t1_r1, `metro_areas`.`state_id` AS t1_r2, `metro_areas`.`country_id` AS t1_r3, `metro_areas`.`users_count` AS t1_r4 FROM `states` LEFT OUTER JOIN `metro_areas` ON metro_areas.state_id = states.id WHERE (metro_areas.id in (1,2,3)) [0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering events/edit
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'YD_70PGSe-6msmQHjqaB', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'QXGipxCNWxKy7PbTOCJE', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing EventsController#ical to ics (for 0.0.0.0 at 2011-04-16 14:51:43) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:43' WHERE (id = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `login_slug` = 'administrator', `perishable_token` = 'WKzSV0UQ7bA_2fetZqnw', `sb_last_seen_at` = '2011-04-16 21:51:43', `current_login_at` = '2011-04-16 21:51:43', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing EventsController#index (for 0.0.0.0 at 2011-04-16 14:51:43) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'sQTFprwhsSQSlmBAWtHt', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(events.id) AS count_events_id FROM `events` WHERE (end_time > '2011-04-16 14:51:43') [0m
Rendering template within layouts/application
Rendering events/index
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'Tqn7JWXHRX3oY-p6Rxqe', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'Si2Y8SHNJUH4lzx7-Hmm', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:43' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `login_slug` = 'administrator', `perishable_token` = '2aoQjO7AOf_qjalcPM9k', `sb_last_seen_at` = '2011-04-16 21:51:43', `current_login_at` = '2011-04-16 21:51:43', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing EventsController#new (for 0.0.0.0 at 2011-04-16 14:51:43) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'cj3A0Bs1W9Sq1aUjP5JN', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering events/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'EWScipxbADAUaVgEzyAr', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'dXOiJxFHR1GU6lb-XaD3', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:43' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `login_slug` = 'administrator', `perishable_token` = 'GtSXqrplJ3zyfJHsq81u', `sb_last_seen_at` = '2011-04-16 21:51:43', `current_login_at` = '2011-04-16 21:51:43', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing EventsController#show (for 0.0.0.0 at 2011-04-16 14:51:43) [GET]
  Parameters: {"id"=>"6"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'VZd2RCZtPgqK9d7UHnLb', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 6) [0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 6 AND `comments`.commentable_type = 'Event') ORDER BY created_at DESC LIMIT 20[0m
Rendering template within layouts/application
Rendering events/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'K1MQWhTDDqrry_q_deKP', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'vPpbez7-g4wz9FJcY5Tk', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:43' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `login_slug` = 'administrator', `perishable_token` = '17Q6sXqeKZE3OV6xTp3Q', `sb_last_seen_at` = '2011-04-16 21:51:43', `current_login_at` = '2011-04-16 21:51:43', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing EventsController#show (for 0.0.0.0 at 2011-04-16 14:51:43) [GET]
  Parameters: {"id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'HhfTVgDi6JB_K39c87-z', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Event') ORDER BY created_at DESC LIMIT 20[0m
Rendering template within layouts/application
Rendering events/show
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = 'PZK019z84KKh9R39DwA2', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:43', `perishable_token` = '-3Y7_aXq7uRQ-VyeUCWA', `last_request_at` = '2011-04-16 21:51:43' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:44' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:44', `login_slug` = 'administrator', `perishable_token` = '7y_boDTUei-HDnGmr31g', `sb_last_seen_at` = '2011-04-16 21:51:44', `current_login_at` = '2011-04-16 21:51:44', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:44' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing EventsController#update (for 0.0.0.0 at 2011-04-16 14:51:44) [PUT]
  Parameters: {"id"=>"1", "event"=>{"name"=>"changed name"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:44', `perishable_token` = '0at7_vz99QjG5svZAHsU', `last_request_at` = '2011-04-16 21:51:44' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mEvent Update (0.3ms)[0m   [0;1mUPDATE `events` SET `updated_at` = '2011-04-16 21:51:44', `name` = 'changed name', `metro_area_id` = NULL WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:44', `perishable_token` = '031gGRVhw1hgv-BroctB', `last_request_at` = '2011-04-16 21:51:44' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:44', `perishable_token` = 'faOAYf1q0u2x3vn_V5la', `last_request_at` = '2011-04-16 21:51:44' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mClipping Load (0.1ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mFavorite Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `favorites`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.2ms)[0m   [0mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:44', '2011-04-16 21:51:44', 'Clipping', 1, NULL, '127.0.0.1')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mClipping Update (0.2ms)[0m   [0mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:44', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;35;1mClippingImage Load (0.2ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 18) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'medium_square', 'library_medium_square.jpg', 200, 18, NULL, NULL, 200)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 18) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'medium', 'library_medium.jpg', 300, 18, NULL, NULL, 142)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 18) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'thumb', 'library_thumb.jpg', 100, 18, NULL, NULL, 100)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.3ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mClipping Load (0.1ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.2ms)[0m   [0mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:44', '2011-04-16 21:51:44', 'Clipping', 1, 1, '127.0.0.1')[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:44', 'favorite', 1, 2, 'Favorite')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:44', `perishable_token` = 'Ef4rM6mH9Bz579ClM-rh', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mClipping Update (0.2ms)[0m   [0mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:44', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;35;1mClippingImage Load (0.4ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 22) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'medium_square', 'library_medium_square.jpg', 200, 22, NULL, NULL, 200)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 22) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'medium', 'library_medium.jpg', 300, 22, NULL, NULL, 142)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 22) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'thumb', 'library_thumb.jpg', 100, 22, NULL, NULL, 100)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.4ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mClipping Load (0.1ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mFavorite Create (0.2ms)[0m   [0;1mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:44', '2011-04-16 21:51:44', 'Clipping', 1, NULL, '127.0.0.1')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.2ms)[0m   [0;1mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:44', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mClippingImage Load (0.1ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.4ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 26) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'medium_square', 'library_medium_square.jpg', 200, 26, NULL, NULL, 200)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 26) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.4ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'medium', 'library_medium.jpg', 300, 26, NULL, NULL, 142)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 26) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'thumb', 'library_thumb.jpg', 100, 26, NULL, NULL, 100)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mFavorite Load (124.0ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type IS NULL AND `favorites`.favoritable_id IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mFavorite Create (0.2ms)[0m   [0;1mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:44', '2011-04-16 21:51:44', 'Clipping', 1, NULL, '127.0.0.1')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.2ms)[0m   [0;1mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:44', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mClippingImage Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;35;1mClippingImage Load (0.4ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 30) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'medium_square', 'library_medium_square.jpg', 200, 30, NULL, NULL, 200)[0m
  [4;35;1mClippingImage Load (0.2ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 30) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'medium', 'library_medium.jpg', 300, 30, NULL, NULL, 142)[0m
  [4;35;1mClippingImage Load (0.2ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 30) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'thumb', 'library_thumb.jpg', 100, 30, NULL, NULL, 100)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.3ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Favorite') [0m
  [4;36;1mFavorite Destroy (0.2ms)[0m   [0;1mDELETE FROM `favorites` WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.2ms)[0m   [0;1mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:44', `favorited_count` = 0 WHERE `id` = 1[0m
  [4;35;1mClippingImage Load (0.2ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mClippingImage Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.parent_id = 30) [0m
  [4;35;1mClippingImage Destroy (0.2ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 31[0m
  [4;36;1mClippingImage Destroy (0.2ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 32[0m
  [4;35;1mClippingImage Destroy (0.2ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 33[0m
  [4;36;1mClippingImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 30[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 34) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'medium_square', 'library_medium_square.jpg', 200, 34, NULL, NULL, 200)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 34) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'medium', 'library_medium.jpg', 300, 34, NULL, NULL, 142)[0m
  [4;35;1mClippingImage Load (0.4ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 34) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:44', 'image/jpg', '2011-04-16 21:51:44', 'thumb', 'library_thumb.jpg', 100, 34, NULL, NULL, 100)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mFavorite Create (0.2ms)[0m   [0;1mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:45', '2011-04-16 21:51:45', 'Clipping', 1, NULL, '127.0.0.1')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.2ms)[0m   [0;1mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:45', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mClippingImage Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.4ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 38) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'medium_square', 'library_medium_square.jpg', 200, 38, NULL, NULL, 200)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 38) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'medium', 'library_medium.jpg', 300, 38, NULL, NULL, 142)[0m
  [4;35;1mClippingImage Load (0.4ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 38) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'thumb', 'library_thumb.jpg', 100, 38, NULL, NULL, 100)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.3ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (ip_address = '127.0.0.1' AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mClipping Load (0.2ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.3ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mFavorite Create (0.3ms)[0m   [0;1mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:45', '2011-04-16 21:51:45', 'Clipping', 1, 1, '127.0.0.1')[0m
  [4;35;1mActivity Create (0.3ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:45', 'favorite', 1, 6, 'Favorite')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:45', `perishable_token` = 'ngVoQRMMLLeKBm2VHBdK', `activities_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.3ms)[0m   [0;1mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:45', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mClippingImage Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;35;1mClippingImage Load (0.4ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 42) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'medium_square', 'library_medium_square.jpg', 200, 42, NULL, NULL, 200)[0m
  [4;35;1mClippingImage Load (0.4ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 42) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'medium', 'library_medium.jpg', 300, 42, NULL, NULL, 142)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 42) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'thumb', 'library_thumb.jpg', 100, 42, NULL, NULL, 100)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.3ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mClipping Load (0.2ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mFavorite Create (0.2ms)[0m   [0;1mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:45', '2011-04-16 21:51:45', 'Clipping', 1, 1, '127.0.0.1')[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:45', 'favorite', 1, 7, 'Favorite')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:45', `perishable_token` = 'cIAeLacn921jGe7Gd9zP', `activities_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.2ms)[0m   [0;1mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:45', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mClippingImage Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.4ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;35;1mClippingImage Load (0.4ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 46) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'medium_square', 'library_medium_square.jpg', 200, 46, NULL, NULL, 200)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 46) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'medium', 'library_medium.jpg', 300, 46, NULL, NULL, 142)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 46) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'thumb', 'library_thumb.jpg', 100, 46, NULL, NULL, 100)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.3ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (user_id = 1) ORDER BY created_at DESC[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mClipping Load (0.2ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.1ms)[0m   [0mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:45', '2011-04-16 21:51:45', 'Clipping', 1, NULL, '127.0.0.1')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mClipping Update (0.2ms)[0m   [0mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:45', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;35;1mClippingImage Load (0.1ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;36;1mClippingImage Load (0.4ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 50) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'medium_square', 'library_medium_square.jpg', 200, 50, NULL, NULL, 200)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 50) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'medium', 'library_medium.jpg', 300, 50, NULL, NULL, 142)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 50) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'thumb', 'library_thumb.jpg', 100, 50, NULL, NULL, 100)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.3ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.2' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.2ms)[0m   [0mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:45', '2011-04-16 21:51:45', 'Clipping', 1, NULL, '127.0.0.2')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mClipping Update (0.2ms)[0m   [0mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:45', `favorited_count` = 2 WHERE `id` = 1[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mClippingImage Load (0.2ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.parent_id = 50) [0m
  [4;36;1mClippingImage Destroy (0.2ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 51[0m
  [4;35;1mClippingImage Destroy (0.3ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 52[0m
  [4;36;1mClippingImage Destroy (0.2ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 53[0m
  [4;35;1mClippingImage Destroy (0.2ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 50[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 54) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'medium_square', 'library_medium_square.jpg', 200, 54, NULL, NULL, 200)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 54) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'medium', 'library_medium.jpg', 300, 54, NULL, NULL, 142)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 54) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:45', 'image/jpg', '2011-04-16 21:51:45', 'thumb', 'library_thumb.jpg', 100, 54, NULL, NULL, 100)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.3ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` [0m
  [4;35;1mClipping Load (0.3ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m


Processing FavoritesController#create to js (for 0.0.0.0 at 2011-04-16 14:51:45) [POST]
  Parameters: {"favoritable_type"=>"clipping", "favoritable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mClipping Load (0.2ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '0.0.0.0' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.2ms)[0m   [0mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:45', '2011-04-16 21:51:45', 'Clipping', 1, NULL, '0.0.0.0')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mClipping Update (0.2ms)[0m   [0mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:45', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;35;1mClippingImage Load (0.2ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClippingImage Create (0.4ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:46', 'image/jpg', '2011-04-16 21:51:46', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;36;1mClippingImage Load (0.4ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 58) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:46', 'image/jpg', '2011-04-16 21:51:46', 'medium_square', 'library_medium_square.jpg', 200, 58, NULL, NULL, 200)[0m
  [4;36;1mClippingImage Load (0.3ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 58) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:46', 'image/jpg', '2011-04-16 21:51:46', 'medium', 'library_medium.jpg', 300, 58, NULL, NULL, 142)[0m
  [4;36;1mClippingImage Load (0.4ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 58) LIMIT 1[0m
  [4;35;1mClippingImage Create (0.3ms)[0m   [0mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:46', 'image/jpg', '2011-04-16 21:51:46', 'thumb', 'library_thumb.jpg', 100, 58, NULL, NULL, 100)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering favorites/create
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.3ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:46' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:46', `perishable_token` = 'Jc-Yh_DXlDJ-oDKIBzWP', `sb_last_seen_at` = '2011-04-16 21:51:46', `current_login_at` = '2011-04-16 21:51:46', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:46' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` [0m
  [4;36;1mClipping Load (0.2ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m


Processing FavoritesController#create to js (for 0.0.0.0 at 2011-04-16 14:51:46) [POST]
  Parameters: {"favoritable_type"=>"clipping", "favoritable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:46', `perishable_token` = 'btdCmlOHnQEjFQDU7Ac_', `last_request_at` = '2011-04-16 21:51:46' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.3ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.2ms)[0m   [0mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:46', '2011-04-16 21:51:46', 'Clipping', 1, 1, '0.0.0.0')[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:46', 'favorite', 1, 11, 'Favorite')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:46', `perishable_token` = '7NAOiHKf7iJtb3EvXCBN', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.2ms)[0m   [0;1mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:46', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mClippingImage Load (0.1ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.4ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:46', 'image/jpg', '2011-04-16 21:51:46', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 62) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:46', 'image/jpg', '2011-04-16 21:51:46', 'medium_square', 'library_medium_square.jpg', 200, 62, NULL, NULL, 200)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 62) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:46', 'image/jpg', '2011-04-16 21:51:46', 'medium', 'library_medium.jpg', 300, 62, NULL, NULL, 142)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 62) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:46', 'image/jpg', '2011-04-16 21:51:46', 'thumb', 'library_thumb.jpg', 100, 62, NULL, NULL, 100)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering favorites/create
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:46', `perishable_token` = 'DzlFglPaclnxBEEVikGj', `last_request_at` = '2011-04-16 21:51:46' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:46', `perishable_token` = 'Ricln8YYzlEjNTNsNgD0', `last_request_at` = '2011-04-16 21:51:46' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:46' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:46', `perishable_token` = 'TZSUfnI5SeYY5XTMMhVS', `sb_last_seen_at` = '2011-04-16 21:51:46', `current_login_at` = '2011-04-16 21:51:46', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:46' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClipping Load (0.2ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m


Processing FavoritesController#create to js (for 0.0.0.0 at 2011-04-16 14:51:46) [POST]
  Parameters: {"favoritable_type"=>"clipping", "favoritable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:46', `perishable_token` = 'XShaRU7tZoDSepmok7mn', `last_request_at` = '2011-04-16 21:51:46' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.2ms)[0m   [0mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:46', '2011-04-16 21:51:46', 'Clipping', 1, 1, '0.0.0.0')[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:46', 'favorite', 1, 12, 'Favorite')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:46', `perishable_token` = '7hg7GTOdM_kkXWVrlgiP', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.2ms)[0m   [0;1mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:46', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mClippingImage Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.4ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:46', 'image/jpg', '2011-04-16 21:51:46', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;35;1mClippingImage Load (0.4ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 66) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:46', 'image/jpg', '2011-04-16 21:51:46', 'medium_square', 'library_medium_square.jpg', 200, 66, NULL, NULL, 200)[0m
  [4;35;1mClippingImage Load (0.5ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 66) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:46', 'image/jpg', '2011-04-16 21:51:46', 'medium', 'library_medium.jpg', 300, 66, NULL, NULL, 142)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 66) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:46', 'image/jpg', '2011-04-16 21:51:46', 'thumb', 'library_thumb.jpg', 100, 66, NULL, NULL, 100)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering favorites/create
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:46', `perishable_token` = 'KlPNc4x6N_2gjP4rZLcE', `last_request_at` = '2011-04-16 21:51:46' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:46', `perishable_token` = 'u0mlaGKG59JrwyR2LVrK', `last_request_at` = '2011-04-16 21:51:46' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:46' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:46', `perishable_token` = 'AgZeOja9WHPvq7gEgnx9', `sb_last_seen_at` = '2011-04-16 21:51:46', `current_login_at` = '2011-04-16 21:51:46', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:46' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.3ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClipping Load (0.2ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m


Processing FavoritesController#create to js (for 0.0.0.0 at 2011-04-16 14:51:46) [POST]
  Parameters: {"favoritable_type"=>"clipping", "favoritable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:46', `perishable_token` = 'Shfg3sagTVNua5AZ7-G4', `last_request_at` = '2011-04-16 21:51:46' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.2ms)[0m   [0mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:46', '2011-04-16 21:51:46', 'Clipping', 1, 1, '0.0.0.0')[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:46', 'favorite', 1, 13, 'Favorite')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:46', `perishable_token` = 'YerLtNT-K1g6VfDnIIjg', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.3ms)[0m   [0;1mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:47', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mClippingImage Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:47', 'image/jpg', '2011-04-16 21:51:47', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;35;1mClippingImage Load (0.4ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 70) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:47', 'image/jpg', '2011-04-16 21:51:47', 'medium_square', 'library_medium_square.jpg', 200, 70, NULL, NULL, 200)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 70) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:47', 'image/jpg', '2011-04-16 21:51:47', 'medium', 'library_medium.jpg', 300, 70, NULL, NULL, 142)[0m
  [4;35;1mClippingImage Load (0.4ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 70) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:47', 'image/jpg', '2011-04-16 21:51:47', 'thumb', 'library_thumb.jpg', 100, 70, NULL, NULL, 100)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering favorites/create
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:47', `perishable_token` = 'evoTha4OOMU_LlU-0Vqa', `last_request_at` = '2011-04-16 21:51:47' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:47', `perishable_token` = 'HVRI6q1HqXa6Sm8RXxPc', `last_request_at` = '2011-04-16 21:51:47' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:47' WHERE (id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:47', `perishable_token` = 'mXrgS1iaUcvf6vD54CTY', `sb_last_seen_at` = '2011-04-16 21:51:47', `current_login_at` = '2011-04-16 21:51:47', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:47' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClipping Load (0.1ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m


Processing FavoritesController#create to js (for 0.0.0.0 at 2011-04-16 14:51:47) [POST]
  Parameters: {"favoritable_type"=>"clipping", "favoritable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mClipping Load (0.3ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:47', `perishable_token` = 'rNITYWTvWXpIlC71LZj2', `last_request_at` = '2011-04-16 21:51:47' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.3ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.2ms)[0m   [0mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:51:47', '2011-04-16 21:51:47', 'Clipping', 1, 1, '0.0.0.0')[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:47', 'favorite', 1, 14, 'Favorite')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:47', `perishable_token` = '8-umxyVisF5XSbheHyda', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.2ms)[0m   [0;1mUPDATE `clippings` SET `updated_at` = '2011-04-16 21:51:47', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mClippingImage Load (0.2ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18061, '2011-04-16 21:51:47', 'image/jpg', '2011-04-16 21:51:47', NULL, 'library.jpg', 300, NULL, 'Clipping', 1, 142)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium_square' AND `assets`.`parent_id` = 74) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.4ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:47', 'image/jpg', '2011-04-16 21:51:47', 'medium_square', 'library_medium_square.jpg', 200, 74, NULL, NULL, 200)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'medium' AND `assets`.`parent_id` = 74) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.3ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:47', 'image/jpg', '2011-04-16 21:51:47', 'medium', 'library_medium.jpg', 300, 74, NULL, NULL, 142)[0m
  [4;35;1mClippingImage Load (0.3ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`thumbnail` = 'thumb' AND `assets`.`parent_id` = 74) LIMIT 1[0m
  [4;36;1mClippingImage Create (0.4ms)[0m   [0;1mINSERT INTO `assets` (`size`, `created_at`, `content_type`, `updated_at`, `thumbnail`, `filename`, `height`, `parent_id`, `attachable_type`, `attachable_id`, `width`) VALUES(18058, '2011-04-16 21:51:47', 'image/jpg', '2011-04-16 21:51:47', 'thumb', 'library_thumb.jpg', 100, 74, NULL, NULL, 100)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering favorites/create
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:47', `perishable_token` = 'hmi_BPdCaAXLA-Ps133Q', `last_request_at` = '2011-04-16 21:51:47' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:47', `perishable_token` = '_SlOZi3eK0m4SwsFky-y', `last_request_at` = '2011-04-16 21:51:47' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.3ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.forum_id = 1) ORDER BY replied_at desc LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.3ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.forum_id = 1) ORDER BY sticky desc, replied_at desc LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSbPost Load (0.1ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 10) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.forum_id = 1) ORDER BY sb_posts.created_at desc LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.4ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.forum_id = 1) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 10) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 4) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m
  [4;35;1mSbPost Load (0.1ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;36;1mSbPost Load (0.1ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.1ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 5) [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.3ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.forum_id = 1) ORDER BY sb_posts.created_at desc[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:47' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:47', `login_slug` = 'administrator', `perishable_token` = 'BB9qQaTPEUf-U-m4q4IA', `sb_last_seen_at` = '2011-04-16 21:51:47', `current_login_at` = '2011-04-16 21:51:47', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:47' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `forums` [0m


Processing ForumsController#create (for 0.0.0.0 at 2011-04-16 14:51:47) [POST]
  Parameters: {"forum"=>{"name"=>"yeah"}, "tag_list"=>"tag1, tag2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:47', `perishable_token` = '3rL4IeZ6wIjeSM14qt9R', `last_request_at` = '2011-04-16 21:51:47' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.3ms)[0m   [0mSELECT * FROM `forums` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mForum Create (0.2ms)[0m   [0;1mINSERT INTO `forums` (`name`, `position`, `description_html`, `topics_count`, `owner_id`, `description`, `sb_posts_count`, `owner_type`) VALUES('yeah', 1, '', 0, NULL, NULL, 0, NULL)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 3) AND (`taggings`.taggable_type = 'Forum')) [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;36;1mTag Create (0.4ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag1', 0)[0m
  [4;35;1mTagging Create (0.3ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(6, 3, 'Forum')[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 6) [0m
  [4;35;1mTag Update (0.2ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 6) [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;36;1mTag Create (0.2ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag2', 0)[0m
  [4;35;1mTagging Create (0.2ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(7, 3, 'Forum')[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 7) [0m
  [4;35;1mTag Update (0.1ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 7) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:48', `perishable_token` = 'z2j0Nug9S2bu8vldqdxt', `last_request_at` = '2011-04-16 21:51:48' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:48', `perishable_token` = '6t-5B75oJlMdHlJ5v8uI', `last_request_at` = '2011-04-16 21:51:48' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:48' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:48', `login_slug` = 'administrator', `perishable_token` = 'GPJXcikiHv6UPk0pY9l6', `sb_last_seen_at` = '2011-04-16 21:51:48', `current_login_at` = '2011-04-16 21:51:48', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:48' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `forums` [0m


Processing ForumsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:48) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:48', `perishable_token` = 'NlFjv0ZoG0m3cIMp8U04', `last_request_at` = '2011-04-16 21:51:48' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Forum') [0m
  [4;36;1mModeratorship Load (0.2ms)[0m   [0;1mSELECT * FROM `moderatorships` WHERE (`moderatorships`.forum_id = 1) [0m
  [4;35;1mModeratorship Destroy (0.2ms)[0m   [0mDELETE FROM `moderatorships` WHERE `id` = 1[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.forum_id = 1) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.2ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 5 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.3ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 5) [0m
  [4;35;1mSbPost Destroy (0.2ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 5[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.1ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 5[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 8 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.3ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 8 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.3ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 10 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 8) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 10[0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.2ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 8[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.2ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 4 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.3ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 4) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 4[0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.2ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 4[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.2ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.1ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 1[0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-14 21:51:47', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.1ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-14 21:51:47', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 3[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.2ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 1[0m
  [4;35;1mForum Destroy (0.1ms)[0m   [0mDELETE FROM `forums` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:48', `perishable_token` = 'ynNe9_Rf1U7cMGevMPjt', `last_request_at` = '2011-04-16 21:51:48' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:48', `perishable_token` = '25TencAx0EnbxyDbVkQr', `last_request_at` = '2011-04-16 21:51:48' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:48' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:48', `login_slug` = 'administrator', `perishable_token` = 'jZpIsj9ID0lkteuyjJN5', `sb_last_seen_at` = '2011-04-16 21:51:48', `current_login_at` = '2011-04-16 21:51:48', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:48' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ForumsController#edit (for 0.0.0.0 at 2011-04-16 14:51:48) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:48', `perishable_token` = 'tLQYsM-SpJ5x4t9HpU4W', `last_request_at` = '2011-04-16 21:51:48' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Rendering template within layouts/application
Rendering forums/edit
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:48', `perishable_token` = 'xm_4bCcZEHvlopgTNKth', `last_request_at` = '2011-04-16 21:51:48' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:48', `perishable_token` = 'BY_iGbMMX6i6oxTgOGx-', `last_request_at` = '2011-04-16 21:51:48' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ForumsController#index (for 0.0.0.0 at 2011-04-16 14:51:48) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.3ms)[0m   [0mSELECT * FROM `forums` ORDER BY position[0m
Rendering template within layouts/application
Rendering forums/index
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing ForumsController#index to xml (for 0.0.0.0 at 2011-04-16 14:51:48) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` ORDER BY position[0m
Completed in 802ms (View: 797, DB: 1) | 200 OK [http://test.host/forums?format=xml]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:49' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:49', `login_slug` = 'administrator', `perishable_token` = 'sF2LEzPMfRKUzqJkXIhY', `sb_last_seen_at` = '2011-04-16 21:51:49', `current_login_at` = '2011-04-16 21:51:49', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:49' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ForumsController#new (for 0.0.0.0 at 2011-04-16 14:51:49) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:49', `perishable_token` = '2_ATWi68fUj-UFNFwLQZ', `last_request_at` = '2011-04-16 21:51:49' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering forums/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:49', `perishable_token` = 'aTsxXuvR_WDV4g5fM3bt', `last_request_at` = '2011-04-16 21:51:49' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:49', `perishable_token` = 'istwfXKpjNVG8vBwCllp', `last_request_at` = '2011-04-16 21:51:49' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:49' WHERE (id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:49', `perishable_token` = 'XMx42jyyXtnamL4zkIqo', `sb_last_seen_at` = '2011-04-16 21:51:49', `current_login_at` = '2011-04-16 21:51:49', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:49' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ForumsController#new (for 0.0.0.0 at 2011-04-16 14:51:49) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:49', `perishable_token` = '6qjJMSZHfpSYU02hYQ9b', `last_request_at` = '2011-04-16 21:51:49' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:49', `perishable_token` = 'IUMr3Rh4hpAcR_7PrwW2', `last_request_at` = '2011-04-16 21:51:49' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:49', `perishable_token` = 'ylp3kYJc8k-qb0-wbnqz', `last_request_at` = '2011-04-16 21:51:49' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ForumsController#show (for 0.0.0.0 at 2011-04-16 14:51:49) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(DISTINCT topics.id) AS count_topics_id FROM `topics` LEFT OUTER JOIN `users` ON `users`.id = `topics`.replied_by WHERE (`topics`.forum_id = 1) [0m
Rendering template within layouts/application
Rendering forums/show
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Forum')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing ForumsController#show to xml (for 0.0.0.0 at 2011-04-16 14:51:49) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.4ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Completed in 687ms (View: 683, DB: 1) | 200 OK [http://test.host/forums/show/1?format=xml]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:50' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:50', `login_slug` = 'administrator', `perishable_token` = 'Yz4bb_c3uj7eBX6Mx-xX', `sb_last_seen_at` = '2011-04-16 21:51:50', `current_login_at` = '2011-04-16 21:51:50', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:50' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ForumsController#update (for 0.0.0.0 at 2011-04-16 14:51:50) [PUT]
  Parameters: {"forum"=>{}, "id"=>"1", "tag_list"=>"tagX, tagY"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:50', `perishable_token` = 'HBTnEEL1hHuJI-uDcK1m', `last_request_at` = '2011-04-16 21:51:50' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `description_html` = '' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Forum')) [0m
  [4;36;1mTag Load (0.1ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tagX') LIMIT 1[0m
  [4;35;1mTag Load (0.1ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tagX') LIMIT 1[0m
  [4;36;1mTag Create (0.1ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tagX', 0)[0m
  [4;35;1mTagging Create (0.1ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(8, 1, 'Forum')[0m
  [4;36;1mTag Load (0.1ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 8) [0m
  [4;35;1mTag Update (0.1ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 8) [0m
  [4;36;1mTag Load (0.1ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tagY') LIMIT 1[0m
  [4;35;1mTag Load (0.1ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tagY') LIMIT 1[0m
  [4;36;1mTag Create (0.1ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tagY', 0)[0m
  [4;35;1mTagging Create (0.1ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(9, 1, 'Forum')[0m
  [4;36;1mTag Load (0.1ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 9) [0m
  [4;35;1mTag Update (0.1ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 9) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:50', `perishable_token` = 'dymjLELUPQvpVpGs0HaH', `last_request_at` = '2011-04-16 21:51:50' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:50', `perishable_token` = 'oyg_FrQL0qPoQY89-Cma', `last_request_at` = '2011-04-16 21:51:50' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m
  [4;36;1mFriendshipStatus Load (0.1ms)[0m   [0;1mSELECT * FROM `friendship_statuses` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.4ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 2 AND `friendships`.id <> 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (user_id = 1 and friend_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 2 AND `friendships`.user_id = 1 AND `friendships`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 2 AND `friendships`.id <> 2) LIMIT 1[0m
  [4;35;1mFriendship Update (0.2ms)[0m   [0mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (user_id = 1 and friend_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 2 AND `friendships`.user_id = 1 AND `friendships`.id <> 1) LIMIT 1[0m
  [4;36;1mFriendship Update (0.2ms)[0m   [0;1mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 3 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2011-04-16 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;35;1mFriendship Create (0.2ms)[0m   [0mINSERT INTO `friendships` (`created_at`, `user_id`, `initiator`, `friendship_status_id`, `friend_id`) VALUES('2011-04-16 21:51:50', 1, 1, 1, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 4 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2011-04-16 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;36;1mFriendship Create (0.2ms)[0m   [0;1mINSERT INTO `friendships` (`created_at`, `user_id`, `initiator`, `friendship_status_id`, `friend_id`) VALUES('2011-04-16 21:51:50', 1, 1, 1, 4)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 5 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2011-04-16 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 5 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2011-04-16 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:50' WHERE (id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:50', `perishable_token` = '4devDML5ft6p29tFyc5C', `sb_last_seen_at` = '2011-04-16 21:51:50', `current_login_at` = '2011-04-16 21:51:50', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:50' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFriendship Load (0.1ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m


Processing FriendshipsController#accept (for 0.0.0.0 at 2011-04-16 14:51:50) [PUT]
  Parameters: {"id"=>"2", "user_id"=>#<User id: 2, login: "aaron", email: "aaron@example.com", description: "I am happy to be here. Community rawks!", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-15 21:51:29", updated_at: "2011-04-16 21:51:50", persistence_token: "2c95cd62e375200fcd0345688f09b8e50810a3b72216e3c74fa...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-16 21:21:29", state_id: nil, metro_area_id: nil, login_slug: #<ActiveSupport::Multibyte::Chars:0x106b2bb30 @wrapped_string="aaron">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 2, sb_last_seen_at: "2011-04-16 21:51:50", role_id: 3, single_access_token: "R2s9ufQnqbBRBvwQGcdn", perishable_token: "4devDML5ft6p29tFyc5C", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:50", current_login_at: "2011-04-16 21:51:50", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:50', `perishable_token` = 'SiQTEzxg2CB_FNaJf2Rr', `last_request_at` = '2011-04-16 21:51:50' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2 AND (`friendships`.user_id = 2 AND (initiator = 0))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 2 AND `friendships`.id <> 2) LIMIT 1[0m
  [4;36;1mFriendship Update (0.2ms)[0m   [0;1mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFriendship Load (0.1ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (user_id = 1 and friend_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 2 AND `friendships`.user_id = 1 AND `friendships`.id <> 1) LIMIT 1[0m
  [4;35;1mFriendship Update (0.2ms)[0m   [0mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:50', `perishable_token` = 'obeutcGePA4bN-tllKKe', `last_request_at` = '2011-04-16 21:51:50' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:50', `perishable_token` = 'jgj-AOTkpX7VEvsfibF1', `last_request_at` = '2011-04-16 21:51:50' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (user_id = 1 AND friend_id = 2 AND friendship_status_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 1) [0m
  [4;35;1mFriendshipStatus Load (0.1ms)[0m   [0mSELECT * FROM `friendship_statuses` WHERE (`friendship_statuses`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.3ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 2 AND `friendships`.user_id = 1 AND `friendships`.id <> 1) LIMIT 1[0m
  [4;36;1mFriendship Update (0.2ms)[0m   [0;1mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:50' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:50', `perishable_token` = '7IipgM4qU1zgsdzPBot9', `sb_last_seen_at` = '2011-04-16 21:51:50', `current_login_at` = '2011-04-16 21:51:50', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:50' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.1ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m


Processing FriendshipsController#create (for 0.0.0.0 at 2011-04-16 14:51:50) [POST]
  Parameters: {"user_id"=>"1", "friend_id"=>"3"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:50', `perishable_token` = '2H9secaCb-Zk1I8MxB3h', `last_request_at` = '2011-04-16 21:51:50' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mFriendship Load (0.3ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 3 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2011-04-16 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;36;1mFriendship Create (0.2ms)[0m   [0;1mINSERT INTO `friendships` (`created_at`, `user_id`, `initiator`, `friendship_status_id`, `friend_id`) VALUES('2011-04-16 21:51:50', 1, 1, 1, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mFriendship Load (0.1ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 3) LIMIT 1[0m
  [4;36;1mFriendship Create (0.1ms)[0m   [0;1mINSERT INTO `friendships` (`created_at`, `user_id`, `initiator`, `friendship_status_id`, `friend_id`) VALUES('2011-04-16 21:51:50', 3, 0, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:50', `perishable_token` = 'USLN9cuFpZEKNwQ9gFsa', `last_request_at` = '2011-04-16 21:51:50' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:50', `perishable_token` = 'qHpfvWy3xo22Ay7MNiWF', `last_request_at` = '2011-04-16 21:51:50' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'kevin' AND `users`.id <> 3) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:50', `perishable_token` = '1HNsnihcXNn6ZySmHHn_', `notify_friend_requests` = 0 WHERE `id` = 3[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 3) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:50' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = '8ChdEoOWCOCMXNVOfiKu', `sb_last_seen_at` = '2011-04-16 21:51:50', `current_login_at` = '2011-04-16 21:51:50', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:50' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` [0m


Processing FriendshipsController#create (for 0.0.0.0 at 2011-04-16 14:51:51) [POST]
  Parameters: {"user_id"=>"1", "friend_id"=>"3"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'UyFTAX_dBLsYe_cEgA-o', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 3 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2011-04-16 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;35;1mFriendship Create (0.2ms)[0m   [0mINSERT INTO `friendships` (`created_at`, `user_id`, `initiator`, `friendship_status_id`, `friend_id`) VALUES('2011-04-16 21:51:51', 1, 1, 1, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.3ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 3) LIMIT 1[0m
  [4;35;1mFriendship Create (0.3ms)[0m   [0mINSERT INTO `friendships` (`created_at`, `user_id`, `initiator`, `friendship_status_id`, `friend_id`) VALUES('2011-04-16 21:51:51', 3, 0, 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'Nl3L5dFYOva-f2l1s-Fg', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'EqKkP6HqHyljB_TYEjgR', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:51' WHERE (id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = '5qlMSWsL07AcEfbV5q19', `sb_last_seen_at` = '2011-04-16 21:51:51', `current_login_at` = '2011-04-16 21:51:51', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m


Processing FriendshipsController#deny (for 0.0.0.0 at 2011-04-16 14:51:51) [PUT]
  Parameters: {"id"=>"2", "user_id"=>#<User id: 2, login: "aaron", email: "aaron@example.com", description: "I am happy to be here. Community rawks!", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-15 21:51:29", updated_at: "2011-04-16 21:51:51", persistence_token: "2c95cd62e375200fcd0345688f09b8e50810a3b72216e3c74fa...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-16 21:21:29", state_id: nil, metro_area_id: nil, login_slug: #<ActiveSupport::Multibyte::Chars:0x106a38110 @wrapped_string="aaron">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 2, sb_last_seen_at: "2011-04-16 21:51:51", role_id: 3, single_access_token: "R2s9ufQnqbBRBvwQGcdn", perishable_token: "5qlMSWsL07AcEfbV5q19", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:51", current_login_at: "2011-04-16 21:51:51", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'Jhw4yKbKwkm73mk49QSu', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.3ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2 AND (`friendships`.user_id = 2)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 2 AND `friendships`.id <> 2) LIMIT 1[0m
  [4;36;1mFriendship Update (0.2ms)[0m   [0;1mUPDATE `friendships` SET `friendship_status_id` = 3 WHERE `id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (user_id = 1 and friend_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 2 AND `friendships`.user_id = 1 AND `friendships`.id <> 1) LIMIT 1[0m
  [4;35;1mFriendship Update (0.2ms)[0m   [0mUPDATE `friendships` SET `friendship_status_id` = 3 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'Qts7XnjGAzjgzG-lqsXH', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'sh33tOpDSOladq_VHkwF', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:51' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'IZxZv4eWzSi9FEADMe6M', `sb_last_seen_at` = '2011-04-16 21:51:51', `current_login_at` = '2011-04-16 21:51:51', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` [0m


Processing FriendshipsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:51) [DELETE]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'lPtb-8xXeR_N3H9SsiOP', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFriendship Destroy (0.2ms)[0m   [0;1mDELETE FROM `friendships` WHERE `id` = 1[0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (user_id = 2 and friend_id = 1) LIMIT 1[0m
  [4;36;1mFriendship Destroy (0.2ms)[0m   [0;1mDELETE FROM `friendships` WHERE `id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'W4pS7Ajm-zb1fN-q0bPh', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = '_VocVfOBvS2_94-DIYZW', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:51' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'fMbywJTP0m1z4DRq8TIj', `sb_last_seen_at` = '2011-04-16 21:51:51', `current_login_at` = '2011-04-16 21:51:51', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` [0m


Processing FriendshipsController#create (for 0.0.0.0 at 2011-04-16 14:51:51) [POST]
  Parameters: {"user_id"=>"1", "friend_id"=>nil}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'L94J2q8YPLi0wAHU-r5_', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` IS NULL AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2011-04-16 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'ox2Oq8ZZnIhj_89lX4Bf', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'Z0vgAV-RP2U4D3j8p6vN', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.4ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:51' WHERE (id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'VTUJaLJRQB9XCBQYyd3g', `sb_last_seen_at` = '2011-04-16 21:51:51', `current_login_at` = '2011-04-16 21:51:51', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing FriendshipsController#accepted (for 0.0.0.0 at 2011-04-16 14:51:51) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'E2BBF0siF8uBNbgyJTNP', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 1 AND (friendship_status_id = 2)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 1 AND (initiator = 0 AND friendship_status_id = 1)) [0m
Rendering template within layouts/application
Rendering friendships/accepted
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'qkDM8R7qzdUAdGKTqGH2', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'd3HGLU3dNkNjz1EeD3zm', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:51' WHERE (id = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'JxtEE01zPY7_Xwn-yysp', `sb_last_seen_at` = '2011-04-16 21:51:51', `current_login_at` = '2011-04-16 21:51:51', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing FriendshipsController#pending (for 0.0.0.0 at 2011-04-16 14:51:51) [GET]
  Parameters: {"user_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = '3tSo9h40HjSaRoAjDCkq', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.3ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2 AND (initiator = 0 AND friendship_status_id = 1)) [0m
Rendering template within layouts/application
Rendering friendships/pending
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = '8CwduIlj8UIC5XbIjvl4', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = '_HYuaw7kBDa6JDRLhq9z', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:51' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'quDg3dzddfcb9qpARQvG', `sb_last_seen_at` = '2011-04-16 21:51:51', `current_login_at` = '2011-04-16 21:51:51', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 1) [0m


Processing FriendshipsController#show (for 0.0.0.0 at 2011-04-16 14:51:51) [GET]
  Parameters: {"id"=>"1", "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:51", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x1068fc148 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:51:51", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "quDg3dzddfcb9qpARQvG", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:51:51", current_login_at: "2011-04-16 21:51:51", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:51', `perishable_token` = 'K08hlOcQIq3bKs-XvnVN', `last_request_at` = '2011-04-16 21:51:51' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFriendship Load (0.3ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering friendships/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'F-pS06om1As7orkY42L3', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = '_Uj2h-CXbyRiw4fVsWrC', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:52' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `login_slug` = 'administrator', `perishable_token` = 'rctl6kdrfk3bbBD-hXhZ', `sb_last_seen_at` = '2011-04-16 21:51:52', `current_login_at` = '2011-04-16 21:51:52', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `homepage_features` [0m


Processing HomepageFeaturesController#create (for 0.0.0.0 at 2011-04-16 14:51:52) [POST]
  Parameters: {"homepage_feature"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0x106a00e68 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/library78586-3.jpg>>, "title"=>"feature", "url"=>"example.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'zkvgbrANA29GPzhGErwz', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mHomepageFeature Create (0.2ms)[0m   [0mINSERT INTO `homepage_features` (`created_at`, `size`, `title`, `content_type`, `updated_at`, `thumbnail`, `url`, `filename`, `parent_id`, `height`, `description`, `width`) VALUES('2011-04-16 21:51:52', 16966, 'feature', 'image/jpg', '2011-04-16 21:51:52', NULL, 'example.com', 'library.jpg', NULL, 300, NULL, 142)[0m
  [4;36;1mHomepageFeature Load (0.2ms)[0m   [0;1mSELECT * FROM `homepage_features` WHERE (`homepage_features`.`thumbnail` = 'large' AND `homepage_features`.`parent_id` = 2) LIMIT 1[0m
  [4;35;1mHomepageFeature Load (0.1ms)[0m   [0mSELECT * FROM `homepage_features` WHERE (`homepage_features`.`id` = 2) [0m
  [4;36;1mHomepageFeature Create (0.3ms)[0m   [0;1mINSERT INTO `homepage_features` (`created_at`, `size`, `title`, `content_type`, `updated_at`, `thumbnail`, `url`, `filename`, `parent_id`, `height`, `description`, `width`) VALUES('2011-04-16 21:51:52', 18061, NULL, 'image/jpg', '2011-04-16 21:51:52', 'large', NULL, 'library_large.jpg', 2, 150, NULL, 635)[0m
  [4;35;1mHomepageFeature Load (0.4ms)[0m   [0mSELECT * FROM `homepage_features` WHERE (`homepage_features`.`thumbnail` = 'thumb' AND `homepage_features`.`parent_id` = 2) LIMIT 1[0m
  [4;36;1mHomepageFeature Load (0.2ms)[0m   [0;1mSELECT * FROM `homepage_features` WHERE (`homepage_features`.`id` = 2) [0m
  [4;35;1mHomepageFeature Create (0.3ms)[0m   [0mINSERT INTO `homepage_features` (`created_at`, `size`, `title`, `content_type`, `updated_at`, `thumbnail`, `url`, `filename`, `parent_id`, `height`, `description`, `width`) VALUES('2011-04-16 21:51:52', 18061, NULL, 'image/jpg', '2011-04-16 21:51:52', 'thumb', NULL, 'library_thumb.jpg', 2, 45, NULL, 45)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'mJtaRY4R0N8B6iYXA4Ap', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'f2015DIcvltpIKwv-VYw', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:52' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `login_slug` = 'administrator', `perishable_token` = 'XFLa6qKiq0Ka6IfEvWm8', `sb_last_seen_at` = '2011-04-16 21:51:52', `current_login_at` = '2011-04-16 21:51:52', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `homepage_features` [0m


Processing HomepageFeaturesController#destroy (for 0.0.0.0 at 2011-04-16 14:51:52) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'Y-vMynYoyQGp8Xxif4AM', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mHomepageFeature Load (0.2ms)[0m   [0mSELECT * FROM `homepage_features` WHERE (`homepage_features`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mHomepageFeature Load (0.2ms)[0m   [0mSELECT * FROM `homepage_features` WHERE (`homepage_features`.parent_id = 1) [0m
  [4;36;1mHomepageFeature Destroy (0.2ms)[0m   [0;1mDELETE FROM `homepage_features` WHERE `id` = 1[0m
Exception destroying  "/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/public/homepage_features/0000/0001/test.jpg": [Errno::ENOENT] 
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `unlink'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1302:in `platform_support'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1296:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:771:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:549:in `rm'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `each'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `rm'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:88:in `destroy_file'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:166:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:93:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `run'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:486:in `run_callbacks'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:344:in `callback'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:338:in `destroy_without_transactions'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:182:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:192:in `destroy'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/app/controllers/homepage_features_controller.rb:72:in `destroy'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:638:in `run_before_filters'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/lib/localized_application.rb:25:in `set_locale'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:186:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:635:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:615:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:567:in `process_with_test'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:447:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:413:in `delete'
 > ./vendor/plugins/community_engine/test/functional/homepage_features_controller_test.rb:65:in `test_should_destroy_homepage_feature'
 > ./vendor/plugins/community_engine/test/unit/../test_helper.rb:29:in `assert_difference'
 > ./vendor/plugins/community_engine/test/functional/homepage_features_controller_test.rb:64:in `test_should_destroy_homepage_feature'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `__send__'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
 > /usr/local/lib/ruby/1.8/test/unit.rb:278
 > /usr/local/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = '1c5VAesCyx7oJ4xq_CtQ', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'Gr6bwZhv4TAcXDMx7Ju0', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:52' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `login_slug` = 'administrator', `perishable_token` = 'LnP1RoEjDv0s38_YBJWm', `sb_last_seen_at` = '2011-04-16 21:51:52', `current_login_at` = '2011-04-16 21:51:52', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `homepage_features` [0m


Processing HomepageFeaturesController#create (for 0.0.0.0 at 2011-04-16 14:51:52) [POST]
  Parameters: {"homepage_feature"=>{}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'v5lln8ggY3Je5aRdk0nX', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering homepage_features/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'ytXCkpauwQX9pIMuI6pg', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'bZwphnPvJf5rmtcpLwKK', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:52' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `login_slug` = 'administrator', `perishable_token` = '7SOhkl89BaIsyKcui6Yf', `sb_last_seen_at` = '2011-04-16 21:51:52', `current_login_at` = '2011-04-16 21:51:52', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing HomepageFeaturesController#update (for 0.0.0.0 at 2011-04-16 14:51:52) [PUT]
  Parameters: {"id"=>"1", "homepage_feature"=>{"url"=>nil}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'dwRpXCdM2jmsvTH6aAg2', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.7ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mHomepageFeature Load (0.3ms)[0m   [0mSELECT * FROM `homepage_features` WHERE (`homepage_features`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering homepage_features/edit
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'wq12hlJQIDbWAJXeFmW8', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'TS_oV2nejMRwzilD5o9a', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:52' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `login_slug` = 'administrator', `perishable_token` = 'VDam6yqEYFqL6T-cD4z1', `sb_last_seen_at` = '2011-04-16 21:51:52', `current_login_at` = '2011-04-16 21:51:52', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing HomepageFeaturesController#edit (for 0.0.0.0 at 2011-04-16 14:51:52) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'asofMkORD1Zx36mjKTX9', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mHomepageFeature Load (0.2ms)[0m   [0mSELECT * FROM `homepage_features` WHERE (`homepage_features`.`id` = 1) [0m
Rendering template within layouts/application
Rendering homepage_features/edit
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'uMovzFnWKpahBl8qq4KH', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = '8w4uoyMqNI8JH49NOw4W', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:52' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `login_slug` = 'administrator', `perishable_token` = 'vCCE3MUEsgpY51xhUEEm', `sb_last_seen_at` = '2011-04-16 21:51:52', `current_login_at` = '2011-04-16 21:51:52', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing HomepageFeaturesController#index (for 0.0.0.0 at 2011-04-16 14:51:52) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'DDCtHtzSDKJTBE2ewPEd', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mHomepageFeature Load (0.3ms)[0m   [0mSELECT * FROM `homepage_features` WHERE (parent_id IS NULL) ORDER BY created_at desc[0m
Rendering template within layouts/application
Rendering homepage_features/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = '0lZQXh8JYtTBiAEdlZ22', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:52', `perishable_token` = 'BIJSIpfx_-6FKkQ5rbQX', `last_request_at` = '2011-04-16 21:51:52' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:53' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `login_slug` = 'administrator', `perishable_token` = 'hzx0Qgg0Lv6N9wzgmMJp', `sb_last_seen_at` = '2011-04-16 21:51:53', `current_login_at` = '2011-04-16 21:51:53', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing HomepageFeaturesController#new (for 0.0.0.0 at 2011-04-16 14:51:53) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'uwm8dZzxD6M_xQgdVBZb', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering homepage_features/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'gdgzl35a0ixvvYWHIIoe', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'E6jH-A5FGgYELkXDEDYh', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:53' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `login_slug` = 'administrator', `perishable_token` = 'mg9z0FA3DoIcyqWvKoyF', `sb_last_seen_at` = '2011-04-16 21:51:53', `current_login_at` = '2011-04-16 21:51:53', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing HomepageFeaturesController#show (for 0.0.0.0 at 2011-04-16 14:51:53) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'tRb25a7MxXRlTD2TSlRj', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mHomepageFeature Load (0.1ms)[0m   [0;1mSELECT * FROM `homepage_features` WHERE (`homepage_features`.`id` = 1) [0m
Rendering template within layouts/application
Rendering homepage_features/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'jsCMVmKGGrJxTycGGTSg', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'P5HX-RuIX2UDvVA3upvK', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:53' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `login_slug` = 'administrator', `perishable_token` = 'OQASFikFrujLhbKPXkPI', `sb_last_seen_at` = '2011-04-16 21:51:53', `current_login_at` = '2011-04-16 21:51:53', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing HomepageFeaturesController#update (for 0.0.0.0 at 2011-04-16 14:51:53) [PUT]
  Parameters: {"id"=>"1", "homepage_feature"=>{"url"=>"changed_url.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'uT7S_leor6wGxORUDidH', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mHomepageFeature Load (0.2ms)[0m   [0;1mSELECT * FROM `homepage_features` WHERE (`homepage_features`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mHomepageFeature Update (0.2ms)[0m   [0;1mUPDATE `homepage_features` SET `updated_at` = '2011-04-16 21:51:53', `url` = 'changed_url.com' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = '0Cb-lOLpsred-JkRVJEW', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'F2UCLAaXiMFKHl2lJNyM', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:53' WHERE (id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'IZOzUFLVdLHXO7k23w-N', `sb_last_seen_at` = '2011-04-16 21:51:53', `current_login_at` = '2011-04-16 21:51:53', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.3ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `invitations` [0m


Processing InvitationsController#create (for 0.0.0.0 at 2011-04-16 14:51:53) [POST]
  Parameters: {"invitation"=>{"email_addresses"=>"asdf@asdf.com", "message"=>"sup dude"}, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'tJAFm6P40HPgAaMRJRpX', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mInvitation Create (0.2ms)[0m   [0;1mINSERT INTO `invitations` (`email_addresses`, `created_at`, `user_id`, `message`) VALUES('asdf@asdf.com', '2011-04-16 21:51:53', 1, 'sup dude')[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:53', 'invitation', 1, 3, 'Invitation')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'isT3f9me-wYmfwfVB2J1', `activities_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'YzzK7rr5HY8P7DOffQF0', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'qNvL8fkNma9ytKzr6sM3', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:53' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'o7eaB2FDsPfI0kPc9XQ7', `sb_last_seen_at` = '2011-04-16 21:51:53', `current_login_at` = '2011-04-16 21:51:53', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.3ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invitations` [0m


Processing InvitationsController#create (for 0.0.0.0 at 2011-04-16 14:51:53) [POST]
  Parameters: {"welcome"=>"complete", "invitation"=>{"email_addresses"=>"asdf@asdf.com", "message"=>"sup dude"}, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = '3la-fKg5BFN-raMbApT_', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mInvitation Create (0.2ms)[0m   [0mINSERT INTO `invitations` (`email_addresses`, `created_at`, `user_id`, `message`) VALUES('asdf@asdf.com', '2011-04-16 21:51:53', 1, 'sup dude')[0m
  [4;36;1mActivity Create (0.1ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:51:53', 'invitation', 1, 4, 'Invitation')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'PgErXcVADFLEDCA7V24B', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'hUgzJgCtwT0kVJUNps3_', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'S_00EBXC6n4PaBmjckhd', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:53' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = '8e4PnpwhfxX9x_chQlq8', `sb_last_seen_at` = '2011-04-16 21:51:53', `current_login_at` = '2011-04-16 21:51:53', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.3ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `invitations` [0m


Processing InvitationsController#create (for 0.0.0.0 at 2011-04-16 14:51:53) [POST]
  Parameters: {"invitation"=>{"email_addresses"=>nil, "message"=>"sup dude"}, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'Wcr2fCJXI2OUaG1OC4f-', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering invitations/new
Rendered shared/_box (0.4ms)
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'a9wg1mxjOTeYmMw8xxJp', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'CdtXoIubtq1HSRir2x5Q', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:53' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:53', `perishable_token` = 'IIwcF-qwBMKqGwWrrTRg', `sb_last_seen_at` = '2011-04-16 21:51:53', `current_login_at` = '2011-04-16 21:51:53', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:53' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing InvitationsController#index (for 0.0.0.0 at 2011-04-16 14:51:54) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = 'aV7Rc-Oa50JId_8RAhgy', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering invitations/index
  [4;35;1mInvitation Load (0.2ms)[0m   [0mSELECT * FROM `invitations` WHERE (`invitations`.user_id = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = '4YH5FyFx4D28D1yQJsog', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = '3yHUlpOoz0L9EQHAS0Hu', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:54' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = 'jC3N6Yse9uXEn2nAtDhD', `sb_last_seen_at` = '2011-04-16 21:51:54', `current_login_at` = '2011-04-16 21:51:54', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing InvitationsController#new (for 0.0.0.0 at 2011-04-16 14:51:54) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = 'mqAlobqvCQ54a3VzAsg_', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering invitations/new
Rendered shared/_box (0.5ms)
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = 'MnShfqUFKfDm2YSUBYge', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = 'RQcX8O1vvUD6FAreh8GU', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `body`, `updated_at`, `recipient_id`, `subject`, `read_at`, `sender_id`, `sender_deleted`, `recipient_deleted`) VALUES('2011-04-16 21:51:54', 'hey aaron', '2011-04-16 21:51:54', 2, 'Hello friend!', NULL, 1, 0, 0)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `body`, `updated_at`, `recipient_id`, `subject`, `read_at`, `sender_id`, `sender_deleted`, `recipient_deleted`) VALUES('2011-04-16 21:51:54', 'hey aaron', '2011-04-16 21:51:54', 2, 'Hello friend!', NULL, 1, 0, 0)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:54' WHERE (id = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = 'PQa7j_DQCsOH_cFIJwfk', `sb_last_seen_at` = '2011-04-16 21:51:54', `current_login_at` = '2011-04-16 21:51:54', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing MessagesController#show (for 0.0.0.0 at 2011-04-16 14:51:54) [GET]
  Parameters: {"user_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = 'c2ekjE_wTAQ7pMok_JUB', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/sessions/new
Filter chain halted as [:require_ownership_or_moderator] rendered_or_redirected.
Completed in 21ms (DB: 13) | 302 Found [http://test.host/messages/show?user_id=2]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = 'SIU1l8WMiBQ5XjWCxl35', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = '7ylG9Ww54mL2ay2wQAkl', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:54' WHERE (id = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = '4FdGVkyUdKqJcS1BihcP', `sb_last_seen_at` = '2011-04-16 21:51:54', `current_login_at` = '2011-04-16 21:51:54', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mMetroArea Update (0.3ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMessage Create (0.2ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `body`, `updated_at`, `recipient_id`, `subject`, `read_at`, `sender_id`, `sender_deleted`, `recipient_deleted`) VALUES('2011-04-16 21:51:54', 'Some content', '2011-04-16 21:51:54', 6, 'A subject', NULL, 7, 0, 0)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = 'NRcXVrS7HaTSKIoifB5n', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = 'cXaW3HS2v5tJCOkcwmp6', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:54' WHERE (id = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = '6XxrkHC-3xdCCGku6wL3', `sb_last_seen_at` = '2011-04-16 21:51:54', `current_login_at` = '2011-04-16 21:51:54', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#new (for 0.0.0.0 at 2011-04-16 14:51:54) [GET]
  Parameters: {"to"=>"aaron", "user_id"=>"6"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = 'WuPPRKfko2-QaUVSlmiV', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering messages/new
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 6 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = 'yha4rAey5pGlCHCykCfJ', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:54', `perishable_token` = 'yiqLtiWeWGf-jqBKji2C', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:54' WHERE (id = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'Zrx0SfscoAvBEooUoZxo', `sb_last_seen_at` = '2011-04-16 21:51:54', `current_login_at` = '2011-04-16 21:51:54', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:54' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m


Processing MessagesController#create (for 0.0.0.0 at 2011-04-16 14:51:55) [POST]
  Parameters: {"user_id"=>"6", "message"=>{"body"=>"Some content", "to"=>"florian", "subject"=>"A subject"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'YA41iB9ZSW3asYpMIjlb', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'florian') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `body`, `updated_at`, `recipient_id`, `subject`, `read_at`, `sender_id`, `sender_deleted`, `recipient_deleted`) VALUES('2011-04-16 21:51:55', 'Some content', '2011-04-16 21:51:55', 7, 'A subject', NULL, 6, 0, 0)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'Lz3tHfB9J99SbOzVUYXD', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'RGwvHumVus4lLDXWpnlC', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:55' WHERE (id = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'D_Ow4HEt0qvG65i6JsdV', `sb_last_seen_at` = '2011-04-16 21:51:55', `current_login_at` = '2011-04-16 21:51:55', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mMetroArea Update (0.3ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` [0m


Processing MessagesController#create (for 0.0.0.0 at 2011-04-16 14:51:55) [POST]
  Parameters: {"user_id"=>"6", "message"=>{"body"=>"Test message", "to"=>"aaron,kevin", "subject"=>"Test message"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = '4fWABVjKC01m44Bfj_uj', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'aaron') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'kevin') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.2ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `body`, `updated_at`, `recipient_id`, `subject`, `read_at`, `sender_id`, `sender_deleted`, `recipient_deleted`) VALUES('2011-04-16 21:51:55', 'Test message', '2011-04-16 21:51:55', 2, 'Test message', NULL, 6, 0, 0)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'sgks7q22dGFSLFzD5hCN', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'jsi1O8ppEDr63SgOO0l6', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:55' WHERE (id = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'xjolXPvpaW6TL9wPXjpg', `sb_last_seen_at` = '2011-04-16 21:51:55', `current_login_at` = '2011-04-16 21:51:55', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` [0m


Processing MessagesController#delete_selected (for 0.0.0.0 at 2011-04-16 14:51:55) [POST]
  Parameters: {"delete"=>[2], "user_id"=>"6"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'iYrrFfjsM2AIVKrPoxvb', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE (messages.id = 2 AND (sender_id = 6 OR recipient_id = 6)) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Destroy (0.2ms)[0m   [0;1mDELETE FROM `messages` WHERE `id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = '2E7nlazrIa5lYL-h19D3', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'LG0CjcO7JuGKUxzQZSkF', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:55' WHERE (id = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'UmL8xQID4GArJK7f1UZG', `sb_last_seen_at` = '2011-04-16 21:51:55', `current_login_at` = '2011-04-16 21:51:55', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` [0m


Processing MessagesController#create (for 0.0.0.0 at 2011-04-16 14:51:55) [POST]
  Parameters: {"user_id"=>"6", "message"=>{"body"=>"Test message", "to"=>"aaron,notarealuser", "subject"=>"Test message"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'MVujRedlolItUOh24ZPH', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'aaron') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'notarealuser') LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/new
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 6 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = '8bKak8j1bZIORnJk2RdG', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = '2UfoxmwEcflJ7j9igHs5', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:55' WHERE (id = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'NJqOsRVtQ6xDGgCSQuvf', `sb_last_seen_at` = '2011-04-16 21:51:55', `current_login_at` = '2011-04-16 21:51:55', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` [0m


Processing MessagesController#create (for 0.0.0.0 at 2011-04-16 14:51:55) [POST]
  Parameters: {"user_id"=>"6", "message"=>{"body"=>"Test message", "subject"=>"Test message"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'rWCehXmFjnnSvr5iFMnd', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering messages/new
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 6 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = '0TcgAcF2skrNc4pCJ_L4', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'ML0qiAUhbKXTvqYgqp-5', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:55' WHERE (id = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = '94cUTsEAQ4-0unSh64Lk', `sb_last_seen_at` = '2011-04-16 21:51:55', `current_login_at` = '2011-04-16 21:51:55', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `body`, `updated_at`, `recipient_id`, `subject`, `read_at`, `sender_id`, `sender_deleted`, `recipient_deleted`) VALUES('2011-04-16 21:51:55', 'Some content', '2011-04-16 21:51:55', 6, 'A subject', NULL, 7, 0, 0)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = '82GJeASPim7x89DGURwc', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'Ijrvn_gDYZbvekoCzFbk', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:55' WHERE (id = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'iWYfchaBfJCflOGiuCYp', `sb_last_seen_at` = '2011-04-16 21:51:55', `current_login_at` = '2011-04-16 21:51:55', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMessage Create (0.2ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `body`, `updated_at`, `recipient_id`, `subject`, `read_at`, `sender_id`, `sender_deleted`, `recipient_deleted`) VALUES('2011-04-16 21:51:55', 'Some content', '2011-04-16 21:51:55', 6, 'A subject', NULL, 7, 0, 0)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:55', `perishable_token` = 'sgbBV3noKe-ixhAVafKC', `last_request_at` = '2011-04-16 21:51:55' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = 'nZjGLGgGBY5U_jLr0pXH', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:56' WHERE (id = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = 'rnUxT59bZs49LmeAWR-A', `sb_last_seen_at` = '2011-04-16 21:51:56', `current_login_at` = '2011-04-16 21:51:56', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#new (for 0.0.0.0 at 2011-04-16 14:51:56) [GET]
  Parameters: {"user_id"=>"6"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = 'ahxFXIy7z-nA4jx3f0IM', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering messages/new
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 6 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = 'fsV2-ZdW1YNix8_zlKKD', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = '8ir5RuKBT4IoOL-bgKXb', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:56' WHERE (id = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = 'Ayhz33XGlN7I22-H5YIY', `sb_last_seen_at` = '2011-04-16 21:51:56', `current_login_at` = '2011-04-16 21:51:56', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mMetroArea Update (0.3ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `body`, `updated_at`, `recipient_id`, `subject`, `read_at`, `sender_id`, `sender_deleted`, `recipient_deleted`) VALUES('2011-04-16 21:51:56', 'Some content', '2011-04-16 21:51:56', 6, 'A subject', NULL, 7, 0, 0)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = '6YkyZEtnJXNR3sjaBqSP', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = 'XLWhl5GJnFK9lgPimvdS', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:56' WHERE (id = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = '7vRKws_CxrhNSmy5DVrU', `sb_last_seen_at` = '2011-04-16 21:51:56', `current_login_at` = '2011-04-16 21:51:56', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mMetroArea Update (0.1ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `body`, `updated_at`, `recipient_id`, `subject`, `read_at`, `sender_id`, `sender_deleted`, `recipient_deleted`) VALUES('2011-04-16 21:51:56', 'Some content', '2011-04-16 21:51:56', 6, 'A subject', NULL, 7, 0, 0)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = '8VX6dtMapz1dwOeDeHLp', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = 'JHtHXPt0Q3zv2i12fAsH', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:56' WHERE (id = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = 'c3nvEeDmlLE8BJ6DE_Cm', `sb_last_seen_at` = '2011-04-16 21:51:56', `current_login_at` = '2011-04-16 21:51:56', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:56' WHERE (id = 7) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = 'jasjMp9kEiJfHib9kCbY', `sb_last_seen_at` = '2011-04-16 21:51:56', `current_login_at` = '2011-04-16 21:51:56', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 7[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 7) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 5) [0m
  [4;36;1mMetroArea Update (0.1ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 2 WHERE `id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `body`, `updated_at`, `recipient_id`, `subject`, `read_at`, `sender_id`, `sender_deleted`, `recipient_deleted`) VALUES('2011-04-16 21:51:56', 'Some content', '2011-04-16 21:51:56', 7, 'A subject', NULL, 6, 0, 0)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = '-vmU7GxRUA8ZTzF9Wheh', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 7[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 7) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = '75I7znPUOo6fzdMXM-WY', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 7[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 7) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:56' WHERE (id = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = 'TphkBrPylZvZC9wsWsq9', `sb_last_seen_at` = '2011-04-16 21:51:56', `current_login_at` = '2011-04-16 21:51:56', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mMessage Create (0.1ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `body`, `updated_at`, `recipient_id`, `subject`, `read_at`, `sender_id`, `sender_deleted`, `recipient_deleted`) VALUES('2011-04-16 21:51:56', 'Some content', '2011-04-16 21:51:56', 7, 'A subject', NULL, 6, 0, 0)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = '9caOKkYJJLx7bvNFSnPk', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = 'tLBBG4yAlJhY07D1-Cm4', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:56' WHERE (id = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = 'JJw3C12NGrKSkQMIjBW3', `sb_last_seen_at` = '2011-04-16 21:51:56', `current_login_at` = '2011-04-16 21:51:56', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mMetroArea Update (0.1ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` [0m


Processing MessagesController#create (for 0.0.0.0 at 2011-04-16 14:51:56) [POST]
  Parameters: {"user_id"=>"6", "message"=>{"body"=>"Some content", "to"=>"leopoldo", "subject"=>"A subject"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:56', `perishable_token` = '7CWNGs6nxRWdWT8NzPQm', `last_request_at` = '2011-04-16 21:51:56' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'leopoldo') LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/new
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 6 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'b7TuUlPULZXThlYjEXCV', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'dtZ93M50V3GknzLy1668', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:57' WHERE (id = 6) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'ZVUlsPAIaC39JkFG6T7K', `sb_last_seen_at` = '2011-04-16 21:51:57', `current_login_at` = '2011-04-16 21:51:57', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `body`, `updated_at`, `recipient_id`, `subject`, `read_at`, `sender_id`, `sender_deleted`, `recipient_deleted`) VALUES('2011-04-16 21:51:57', 'Some content', '2011-04-16 21:51:57', 6, 'A subject', NULL, 7, 0, 0)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'M8CsKHB43rg7LxvCnFBz', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'wV_DKA-v1Z3aY4zh7Z-W', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:57' WHERE (id = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = '-B_K1EkJqq6GlE4UDG3N', `sb_last_seen_at` = '2011-04-16 21:51:57', `current_login_at` = '2011-04-16 21:51:57', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing MessagesController#index (for 0.0.0.0 at 2011-04-16 14:51:57) [GET]
  Parameters: {"user_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'egIRhXVwD5xykX9m8cm6', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/sessions/new
Filter chain halted as [:require_ownership_or_moderator] rendered_or_redirected.
Completed in 157ms (DB: 16) | 302 Found [http://test.host/messages?user_id=2]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'sY7wNWo4vi9SIdy-lvCS', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'RyJOtDEE6bdM1A9XpmUu', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:57' WHERE (id = 6) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = '45_UaCw05JK4NtoFAQO9', `sb_last_seen_at` = '2011-04-16 21:51:57', `current_login_at` = '2011-04-16 21:51:57', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing UsersController#show (for 0.0.0.0 at 2011-04-16 14:51:57) [GET]
  Parameters: {"user_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'ghp8ljJNtogYwF3sPOeY', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 2 AND (friendship_status_id = 2)) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2 AND (friendship_status_id = 2)) LIMIT 5[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 2 AND (initiator = 0 AND friendship_status_id = 1)) [0m
  [4;36;1mComment Load (0.4ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 10[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (recipient_id = 2 AND commentable_type = 'Photo') ORDER BY created_at DESC[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (user_id = 2) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 2) AND (published_as = 'live') ORDER BY published_at DESC, published_at desc LIMIT 2[0m
  [4;36;1mClipping Load (0.2ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 2) ORDER BY created_at desc LIMIT 5[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.user_id = 2) ORDER BY created_at desc LIMIT 5[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (activities.user_id in (2)) ORDER BY activities.created_at DESC LIMIT 10[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `view_count` = COALESCE(`view_count`, 0) + 1 WHERE (`id` = 2) [0m
Rendering template within layouts/application
Rendering users/show
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'k7GW9Zgq9CpenXqfERaQ', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 6[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = '9OLJixvmv6EXGDiGQsoB', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 6[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:57' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `login_slug` = 'administrator', `perishable_token` = 'mt48tH1dydbCagx8ZU8v', `sb_last_seen_at` = '2011-04-16 21:51:57', `current_login_at` = '2011-04-16 21:51:57', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `metro_areas` [0m
  [4;36;1mCountry Load (0.2ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`id` = 3) [0m


Processing MetroAreasController#create (for 0.0.0.0 at 2011-04-16 14:51:57) [POST]
  Parameters: {"metro_area"=>{"name"=>"Dusseldorf", "country_id"=>#<Country id: 3, name: "Germany">}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'pszUtcNnT8PM_QVolfYZ', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMetroArea Create (0.2ms)[0m   [0mINSERT INTO `metro_areas` (`name`, `country_id`, `users_count`, `state_id`) VALUES('Dusseldorf', 1, 0, NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = '4IZrcsLXL3UjnCz-CEKe', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'ghbvyaqxtupofOUzHpVB', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:57' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `login_slug` = 'administrator', `perishable_token` = 'nSYrGoSh8h9Th5U59HJl', `sb_last_seen_at` = '2011-04-16 21:51:57', `current_login_at` = '2011-04-16 21:51:57', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `metro_areas` [0m


Processing MetroAreasController#destroy (for 0.0.0.0 at 2011-04-16 14:51:57) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = '0lQegh6_iwSshkJJdzMl', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'MetroArea') [0m
  [4;36;1mMetroArea Destroy (0.2ms)[0m   [0;1mDELETE FROM `metro_areas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'P_VutrXiD-OxtcvZv0xb', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'OTbiIt2dEb0g1XNnI3Q5', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:57' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `login_slug` = 'administrator', `perishable_token` = 'qCyWvTFVrPfjaGRxLdau', `sb_last_seen_at` = '2011-04-16 21:51:57', `current_login_at` = '2011-04-16 21:51:57', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing MetroAreasController#edit (for 0.0.0.0 at 2011-04-16 14:51:57) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'n4N8CqrlBItnW_8mPIHK', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering metro_areas/edit
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'Spvu7J5i9BtsDy58OTRd', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:57', `perishable_token` = 'fiEI2vYfVfo3bCRymbhp', `last_request_at` = '2011-04-16 21:51:57' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:58' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `login_slug` = 'administrator', `perishable_token` = 'zkNlKQumppC0mMRsY0S1', `sb_last_seen_at` = '2011-04-16 21:51:58', `current_login_at` = '2011-04-16 21:51:58', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing MetroAreasController#index (for 0.0.0.0 at 2011-04-16 14:51:58) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = '1se8vaP_06nvH01-5xC-', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(DISTINCT metro_areas.id) AS count_metro_areas_id FROM `metro_areas` LEFT OUTER JOIN `countries` ON `countries`.id = `metro_areas`.country_id [0m
Rendering template within layouts/application
Rendering metro_areas/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = '5abtGgN74xF48UZFS0is', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'LLXdKB-XXU6pARqcuf4J', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:58' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `login_slug` = 'administrator', `perishable_token` = 'iER6ESl1bbzDjXWFE8VN', `sb_last_seen_at` = '2011-04-16 21:51:58', `current_login_at` = '2011-04-16 21:51:58', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing MetroAreasController#new (for 0.0.0.0 at 2011-04-16 14:51:58) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = '8-fX9srT27iinweNPGJC', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering metro_areas/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 's1gHKZR1a9vGkz9bx2QV', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = '55BgsTgbQbz0f2AZln8n', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:58' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `login_slug` = 'administrator', `perishable_token` = 'fOEKLh-mn_wtJHFohF7p', `sb_last_seen_at` = '2011-04-16 21:51:58', `current_login_at` = '2011-04-16 21:51:58', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `metro_areas` [0m


Processing MetroAreasController#create (for 0.0.0.0 at 2011-04-16 14:51:58) [POST]
  Parameters: {"metro_area"=>{"name"=>"Dusseldorf"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'f1tD6aJdJIZFJGz6UYxG', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering metro_areas/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = '305npkb8dJrvDeUr2iAY', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'o6e5898CureBrj_RZZSP', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:58' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `login_slug` = 'administrator', `perishable_token` = 'hbW8IpKqW7gITPM6Rwf2', `sb_last_seen_at` = '2011-04-16 21:51:58', `current_login_at` = '2011-04-16 21:51:58', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MetroAreasController#show (for 0.0.0.0 at 2011-04-16 14:51:58) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'ftPwEBIbeGfGG3EwIcL_', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering metro_areas/show
  [4;35;1mCountry Load (0.3ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` = 1) [0m
  [4;36;1mState Load (0.1ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'p5qS0V61IjVP2lXvO7k4', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'fQxU7jlD-KL3dKq3hAXF', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:58' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `login_slug` = 'administrator', `perishable_token` = 'M5Nuxh06UOuLnGOIqlrs', `sb_last_seen_at` = '2011-04-16 21:51:58', `current_login_at` = '2011-04-16 21:51:58', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MetroAreasController#update (for 0.0.0.0 at 2011-04-16 14:51:58) [PUT]
  Parameters: {"id"=>"1", "metro_area"=>{}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'JHhebqXZ9xWYxSr-8F4G', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = '0aXJExjDfh_0eiFDZEJY', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'KtXFOZ_QjlLeSdAbUAKk', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:58' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `login_slug` = 'administrator', `perishable_token` = 'eNHNdfwDgn-xEZznzdQ6', `sb_last_seen_at` = '2011-04-16 21:51:58', `current_login_at` = '2011-04-16 21:51:58', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;35;1mModeratorship Load (0.1ms)[0m   [0mSELECT * FROM `moderatorships` WHERE (`moderatorships`.`id` = 1) [0m


Processing ModeratorsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:58) [DELETE]
  Parameters: {"id"=>"1", "user_id"=>"11"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = '2JxEMOCDQz5tQbGPB6JK', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mModeratorship Load (0.2ms)[0m   [0mSELECT * FROM `moderatorships` WHERE (`moderatorships`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mModeratorship Destroy (0.2ms)[0m   [0mDELETE FROM `moderatorships` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering moderators/destroy
  [4;35;1mForum Load (0.4ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'hX06IGDafQcOspJu4EZp', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'FAa3_bZoD6AInX0JwfrP', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:58' WHERE (id = 11) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'NZKADYCHZs2zNMbDQ3bi', `sb_last_seen_at` = '2011-04-16 21:51:58', `current_login_at` = '2011-04-16 21:51:58', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;35;1mModeratorship Load (0.1ms)[0m   [0mSELECT * FROM `moderatorships` WHERE (`moderatorships`.`id` = 1) [0m


Processing ModeratorsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:58) [DELETE]
  Parameters: {"id"=>"1", "user_id"=>"11"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'UJCC6QcZK5zdlGRr_UuK', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'IfvYdXqLD5GMzrt6n7sW', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'qHhkeJoTzseUC3CXiO43', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `moderatorships` ON `users`.id = `moderatorships`.user_id WHERE ((`moderatorships`.forum_id = 2)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 2 and user_id = 11) [0m
  [4;35;1mModeratorship Create (0.2ms)[0m   [0mINSERT INTO `moderatorships` (`forum_id`, `user_id`) VALUES(2, 11)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `moderatorships` ON `users`.id = `moderatorships`.user_id WHERE ((`moderatorships`.forum_id = 2)) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (1.6ms)[0m   [0mSELECT `forums`.* FROM `forums` INNER JOIN `moderatorships` ON `forums`.id = `moderatorships`.forum_id WHERE ((`moderatorships`.user_id = 11)) ORDER BY forums.name[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `moderatorships` ON `users`.id = `moderatorships`.user_id WHERE ((`moderatorships`.forum_id = 1)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `moderatorships` ON `users`.id = `moderatorships`.user_id WHERE ((`moderatorships`.forum_id = 1)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1 and user_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:58' WHERE (id = 11) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:58', `perishable_token` = 'gifCmG1kRLqoeZkbuQh7', `sb_last_seen_at` = '2011-04-16 21:51:58', `current_login_at` = '2011-04-16 21:51:58', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:58' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing MonitorshipsController#create (for 0.0.0.0 at 2011-04-16 14:51:59) [POST]
  Parameters: {"id"=>"11", "forum_id"=>"1", "topic_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'hm61io5pwTMvNux1UYzp', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMonitorship Load (0.2ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 11 AND `monitorships`.`topic_id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMonitorship Update (0.2ms)[0m   [0mUPDATE `monitorships` SET `active` = 1 WHERE `id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering monitorships/create
Completed in 24ms (View: 1, DB: 23) | 200 OK [http://test.host/monitorships/create/11?forum_id=1&topic_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = '7AyDgPbaYNN8yQDPLbfN', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'eXimKwK6AUP-yYJgLdPT', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:59' WHERE (id = 12) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'vL1B1GC_AOuty6s_6Rr7', `sb_last_seen_at` = '2011-04-16 21:51:59', `current_login_at` = '2011-04-16 21:51:59', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 12[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing MonitorshipsController#create (for 0.0.0.0 at 2011-04-16 14:51:59) [POST]
  Parameters: {"id"=>"12", "forum_id"=>"1", "topic_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'wxk7wApR9IwoSH0gcStq', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 12[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 12 AND `monitorships`.`topic_id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMonitorship Create (0.2ms)[0m   [0;1mINSERT INTO `monitorships` (`user_id`, `topic_id`, `active`) VALUES(12, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering monitorships/create
Completed in 17ms (View: 1, DB: 8) | 200 OK [http://test.host/monitorships/create/12?forum_id=1&topic_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` INNER JOIN `monitorships` ON `users`.id = `monitorships`.user_id WHERE (`users`.`id` = 12) AND ((`monitorships`.topic_id = 1) AND ((monitorships.active = 1))) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'JzphIlXmKGNpKebu1C-R', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 12[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'I9eIgqo-8IzGLA-JXYeb', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 12[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:59' WHERE (id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'OxgRV_lbRveGWCYtdsKl', `sb_last_seen_at` = '2011-04-16 21:51:59', `current_login_at` = '2011-04-16 21:51:59', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 12[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing MonitorshipsController#create (for 0.0.0.0 at 2011-04-16 14:51:59) [POST]
  Parameters: {"id"=>"12", "forum_id"=>"1", "topic_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = '85hJNlYcamKGqJD51lWp', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 12[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 12 AND `monitorships`.`topic_id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMonitorship Create (0.2ms)[0m   [0;1mINSERT INTO `monitorships` (`user_id`, `topic_id`, `active`) VALUES(12, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'hK5N5gTuMrNpS2S3G1_A', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 12[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'Q2Y8f0yFEBN9XOaEP3WY', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 12[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:59' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'WPl2dVgJIoB1n5Wusy1n', `sb_last_seen_at` = '2011-04-16 21:51:59', `current_login_at` = '2011-04-16 21:51:59', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing MonitorshipsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:59) [DELETE]
  Parameters: {"id"=>"2", "forum_id"=>"1", "topic_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'w1wlZ2oXTjaWCi0h2FP4', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMonitorship Update (0.2ms)[0m   [0;1mUPDATE `monitorships` SET active = 0 WHERE (user_id = 2 and topic_id = '1') [0m
Rendering monitorships/destroy
Completed in 16ms (View: 1, DB: 14) | 200 OK [http://test.host/monitorships/destroy/2?forum_id=1&topic_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `monitorships` ON `users`.id = `monitorships`.user_id WHERE ((`monitorships`.topic_id = 1) AND ((monitorships.active = 1))) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'Y3EBJvdxST5WuFYwAad-', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = '6mT35tobf2IYQHXi-PYR', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:59' WHERE (id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'u1AwIqydLsmkgwfJL4B5', `sb_last_seen_at` = '2011-04-16 21:51:59', `current_login_at` = '2011-04-16 21:51:59', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing MonitorshipsController#destroy (for 0.0.0.0 at 2011-04-16 14:51:59) [DELETE]
  Parameters: {"id"=>"2", "forum_id"=>"1", "topic_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'TPEuVn5yv5hxGwkryEDM', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMonitorship Update (0.1ms)[0m   [0mUPDATE `monitorships` SET active = 0 WHERE (user_id = 2 and topic_id = '1') [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'GOqQi5n7A2BdZNcwyKfD', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'eKpN2u_7muPSQ52v0XpI', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:51:59' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'qm-Jp96Bc4RtCS6XIniF', `sb_last_seen_at` = '2011-04-16 21:51:59', `current_login_at` = '2011-04-16 21:51:59', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;35;1mForum Load (0.3ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing MonitorshipsController#create (for 0.0.0.0 at 2011-04-16 14:51:59) [POST]
  Parameters: {"id"=>"2", "forum_id"=>"1", "topic_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'giP4ayXVP3o4DweWKqnI', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering monitorships/create
Completed in 17ms (View: 1, DB: 13) | 200 OK [http://test.host/monitorships/create/2?forum_id=1&topic_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = 'LzodFeZZaoJEyxmhxw8i', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:51:59', `perishable_token` = '_auqsHJyPNOIcDBlvj0u', `last_request_at` = '2011-04-16 21:51:59' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing MonitorshipsController#create (for 0.0.0.0 at 2011-04-16 14:51:59) [POST]
  Parameters: {"id"=>"2", "forum_id"=>"1", "topic_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing MonitorshipsController#create (for 0.0.0.0 at 2011-04-16 14:51:59) [POST]
  Parameters: {"id"=>"2", "forum_id"=>"1", "topic_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMonitorship Load (0.3ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 2 AND `taggings`.taggable_type = 'User') [0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.2ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 3[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.1ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 6[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE (`messages`.sender_id = 2 AND (sender_deleted = 0)) ORDER BY created_at DESC[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE (`messages`.recipient_id = 2 AND (recipient_deleted = 0)) ORDER BY created_at DESC[0m
  [4;35;1mMessage Destroy (0.1ms)[0m   [0mDELETE FROM `messages` WHERE `id` = 1[0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.user_id = 2) AND (published_as = 'live') ORDER BY published_at desc[0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 3 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Comment') [0m
  [4;35;1mComment Destroy (0.1ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 5[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 3) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mTagging Load (0.2ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 3 AND `taggings`.taggable_type = 'Post') [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'Post') [0m
  [4;36;1mPoll Load (0.2ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 3) [0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 3 AND `favorites`.favoritable_type = 'Post') [0m
  [4;36;1mPost Destroy (0.2ms)[0m   [0;1mDELETE FROM `posts` WHERE `id` = 3[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 3) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 4 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 4 AND `taggings`.taggable_type = 'Post') [0m
  [4;36;1mActivity Load (0.3ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Post') [0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 4) [0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 4 AND `favorites`.favoritable_type = 'Post') [0m
  [4;35;1mPost Destroy (0.1ms)[0m   [0mDELETE FROM `posts` WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.user_id = 2) ORDER BY created_at desc[0m
  [4;36;1mInvitation Load (0.1ms)[0m   [0;1mSELECT * FROM `invitations` WHERE (`invitations`.user_id = 2) [0m
  [4;35;1mOffering Load (0.1ms)[0m   [0mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 2) [0m
  [4;36;1mRsvp Load (0.1ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.user_id = 2) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2) [0m
  [4;36;1mFriendship Destroy (0.2ms)[0m   [0;1mDELETE FROM `friendships` WHERE `id` = 2[0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2 AND (initiator = 1)) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2 AND (initiator = 0)) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.friend_id = 2) [0m
  [4;36;1mFriendship Destroy (0.1ms)[0m   [0;1mDELETE FROM `friendships` WHERE `id` = 1[0m
  [4;35;1mModeratorship Load (0.3ms)[0m   [0mSELECT * FROM `moderatorships` WHERE (`moderatorships`.user_id = 2) [0m
  [4;36;1mSbPost Load (0.3ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.user_id = 2) [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 1[0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-14 21:51:47', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.2ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 3[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-13 21:51:47', replied_by = 11, last_post_id = 2 WHERE (id = 1) [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 6) [0m
  [4;36;1mSbPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 6[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-16 20:39:47', replied_by = 11, last_post_id = 7 WHERE (id = 6) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 9 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 7) [0m
  [4;35;1mSbPost Destroy (0.2ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 9[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 7) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-16 20:51:47', replied_by = 11, last_post_id = 8 WHERE (id = 7) [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 10 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 8) [0m
  [4;36;1mSbPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 10[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.user_id = 2) [0m
  [4;36;1mActivity Load (0.1ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Topic') [0m
  [4;35;1mTagging Load (0.3ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Topic') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Load (0.3ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.2ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Destroy (0.1ms)[0m   [0mDELETE FROM `topics` WHERE `id` = 1[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Topic') [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 5 AND `taggings`.taggable_type = 'Topic') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.1ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Load (0.3ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 5) [0m
  [4;36;1mSbPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 5[0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;36;1mSbPost Load (0.1ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Destroy (0.1ms)[0m   [0mDELETE FROM `topics` WHERE `id` = 5[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'Topic') [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 6 AND `taggings`.taggable_type = 'Topic') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 7 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mForum Update (0.1ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 6) [0m
  [4;36;1mSbPost Destroy (0.2ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 7[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Destroy (0.2ms)[0m   [0mDELETE FROM `topics` WHERE `id` = 6[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 8 AND `activities`.item_type = 'Topic') [0m
  [4;35;1mTagging Load (0.3ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 8 AND `taggings`.taggable_type = 'Topic') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at[0m
  [4;35;1mTopic Destroy (0.1ms)[0m   [0mDELETE FROM `topics` WHERE `id` = 8[0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.user_id = 2) [0m
  [4;35;1mMonitorship Destroy (0.1ms)[0m   [0mDELETE FROM `monitorships` WHERE `id` = 1[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.user_id = 2) ORDER BY created_at desc[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.1ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.recipient_id = 2) ORDER BY created_at desc[0m
  [4;36;1mClipping Load (0.3ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 2) ORDER BY created_at desc[0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.user_id = 2) ORDER BY created_at desc[0m
  [4;36;1mUser Destroy (0.2ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 2[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`user_id` = 2) [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMonitorship Load (0.1ms)[0m   [0;1mSELECT `monitorships`.id FROM `monitorships` WHERE (`monitorships`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (1.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `monitorships` ON `users`.id = `monitorships`.user_id WHERE ((`monitorships`.topic_id = 1) AND ((monitorships.active = 1))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTopic Load (0.3ms)[0m   [0;1mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE ((`monitorships`.user_id = 2) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMonitorship Load (0.4ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`id` = 1) [0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`id` = 2) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMonitorship Load (0.2ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mMonitorship Load (0.2ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.user_id = 2) [0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mMonitorship Load (0.3ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.user_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;36;1mTopic Load (0.3ms)[0m   [0;1mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE ((`monitorships`.user_id = 12) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mTopic Load (0.4ms)[0m   [0;1mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE ((`monitorships`.user_id = 11) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:00' WHERE (id = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:00', `perishable_token` = 'Juiwihs5gdq10QpY8dyh', `sb_last_seen_at` = '2011-04-16 21:52:00', `current_login_at` = '2011-04-16 21:52:00', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:00' WHERE `id` = 5[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 5) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` [0m
  [4;36;1mSkill Load (0.2ms)[0m   [0;1mSELECT * FROM `skills` WHERE (`skills`.`id` = 2) [0m
  [4;35;1mSkill Load (0.2ms)[0m   [0mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m


Processing OfferingsController#replace (for 0.0.0.0 at 2011-04-16 14:52:00) [POST]
  Parameters: {"users_skills"=>[2, 1], "id"=>#<User id: 5, login: "dwreach", email: "dwr@example.com", description: "We are the best design company in the world", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-15 21:51:29", updated_at: "2011-04-16 21:52:00", persistence_token: "70713200743f14cecbdb26e19da6a6798ee38ef004b4d149c4a...", stylesheet: nil, view_count: 0, vendor: true, activation_code: nil, activated_at: "2011-04-16 21:21:29", state_id: nil, metro_area_id: nil, login_slug: #<ActiveSupport::Multibyte::Chars:0x106c11ef0 @wrapped_string="dwreach">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:52:00", role_id: 3, single_access_token: "_zq1y0zVayiu_m_5Ys6u", perishable_token: "Juiwihs5gdq10QpY8dyh", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:52:00", current_login_at: "2011-04-16 21:52:00", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:00', `perishable_token` = 'MCrOd_KjCYx4MEwbQ69D', `last_request_at` = '2011-04-16 21:52:00' WHERE `id` = 5[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 5) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOffering Load (0.2ms)[0m   [0;1mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSkill Load (0.3ms)[0m   [0;1mSELECT * FROM `skills` WHERE (`skills`.`id` = 2) [0m
  [4;35;1mOffering Create (0.2ms)[0m   [0mINSERT INTO `offerings` (`skill_id`, `user_id`) VALUES(2, 5)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSkill Load (0.2ms)[0m   [0;1mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
  [4;35;1mOffering Create (0.1ms)[0m   [0mINSERT INTO `offerings` (`skill_id`, `user_id`) VALUES(1, 5)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 878ms (View: 850, DB: 51) | 200 OK [http://test.host/offerings/replace/dwreach?users_skills%5B%5D=2&users_skills%5B%5D=1]
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:00', `perishable_token` = 'sHXTq_HnnAs5ejmSrEtJ', `last_request_at` = '2011-04-16 21:52:00' WHERE `id` = 5[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 5) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:00', `perishable_token` = 'k4QE0xoh5LZS-TmzJZ3k', `last_request_at` = '2011-04-16 21:52:00' WHERE `id` = 5[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 5) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPage Load (0.2ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPage Load (0.2ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPage Update (0.2ms)[0m   [0;1mUPDATE `pages` SET `updated_at` = '2011-04-16 21:52:00', `published_as` = 'draft' WHERE `id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPage Load (0.2ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPage Load (0.1ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPage Update (0.2ms)[0m   [0mUPDATE `pages` SET `updated_at` = '2011-04-16 21:52:00', `published_as` = 'draft' WHERE `id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPage Load (0.2ms)[0m   [0mSELECT * FROM `pages` [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:01' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `login_slug` = 'administrator', `perishable_token` = 'cs9gUN9KfVdHoXtT8ROI', `sb_last_seen_at` = '2011-04-16 21:52:01', `current_login_at` = '2011-04-16 21:52:01', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `pages` [0m


Processing PagesController#create (for 0.0.0.0 at 2011-04-16 14:52:01) [POST]
  Parameters: {"page"=>{"body"=>"<p>My new page.</p>", "title"=>"New Page", "page_public"=>true, "published_as"=>"live"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'eJ06JyRe_3pSmwVHseLr', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPage Create (0.2ms)[0m   [0mINSERT INTO `pages` (`created_at`, `title`, `body`, `updated_at`, `page_public`, `published_as`) VALUES('2011-04-16 21:52:01', 'New Page', '<p>My new page.</p>', '2011-04-16 21:52:01', 1, 'live')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'm1wQcCR3wvag7QhAWZFc', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'dTQJF6_3wYjjyZBKbTGk', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:01' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `login_slug` = 'administrator', `perishable_token` = 'bGL5TB53v-xcEHhKviu_', `sb_last_seen_at` = '2011-04-16 21:52:01', `current_login_at` = '2011-04-16 21:52:01', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `pages` [0m
  [4;36;1mPage Load (0.2ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m


Processing PagesController#destroy (for 0.0.0.0 at 2011-04-16 14:52:01) [DELETE]
  Parameters: {"id"=>#<Page id: 1, title: "Custom Page", body: "<p>This is a custom page.</p>", published_as: "live", page_public: true, created_at: "2011-04-11 21:51:52", updated_at: "2011-04-12 21:51:52">}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'jh6hQts7liX_K8khahf1', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPage Load (0.2ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPage Destroy (0.2ms)[0m   [0;1mDELETE FROM `pages` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'tW51vmhutXx_WODb7MOM', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'UM8UeFBVEYOJwI7y4Opx', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:01' WHERE (id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `login_slug` = 'administrator', `perishable_token` = 'DEepxTEcMFzslIoGp5Pv', `sb_last_seen_at` = '2011-04-16 21:52:01', `current_login_at` = '2011-04-16 21:52:01', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPage Load (0.2ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m


Processing PagesController#update (for 0.0.0.0 at 2011-04-16 14:52:01) [PUT]
  Parameters: {"id"=>"1", "page"=>{"title"=>nil}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'rQ8STuBwcNq0Yw7vmpGI', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPage Load (0.1ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering pages/edit
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'fxgiA6nS4Dg1Uvuh7JF8', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'tL8Z7P6_Wk6XjfNivkA6', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:01' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `login_slug` = 'administrator', `perishable_token` = 'VmJgvgbIiG27Sdz5vACi', `sb_last_seen_at` = '2011-04-16 21:52:01', `current_login_at` = '2011-04-16 21:52:01', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m


Processing PagesController#edit (for 0.0.0.0 at 2011-04-16 14:52:01) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'xEj38-q7RhQr50YvAhHn', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendering template within layouts/application
Rendering pages/edit
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'o-ICcijbEJ0aCJ8-GKUE', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'Lcol8cuGsah_3vfJ5Fda', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:01' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `login_slug` = 'administrator', `perishable_token` = 'SEc-GbaS1Uba_RmkXhMy', `sb_last_seen_at` = '2011-04-16 21:52:01', `current_login_at` = '2011-04-16 21:52:01', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing PagesController#index (for 0.0.0.0 at 2011-04-16 14:52:01) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'ibiv8QoeE32IMkwlwmTr', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPage Load (0.2ms)[0m   [0mSELECT * FROM `pages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering pages/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'LrHfgj65-JhtQXPQ8lMZ', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'rPCWPlEBXSluerLzrMqE', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:01' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `login_slug` = 'administrator', `perishable_token` = 'Ev_R9FWKEfTkGwPvb47y', `sb_last_seen_at` = '2011-04-16 21:52:01', `current_login_at` = '2011-04-16 21:52:01', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing PagesController#new (for 0.0.0.0 at 2011-04-16 14:52:01) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'sEKTaQOggIJjt1I7Anvo', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering pages/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'ObtZQG0fiMQCooNtnziP', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'dwxWQ4AZZVhlK4DL1zQ6', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:01' WHERE (id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'vmhA8sHYFYHoWS2JgB_E', `sb_last_seen_at` = '2011-04-16 21:52:01', `current_login_at` = '2011-04-16 21:52:01', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `pages` [0m
  [4;36;1mPage Load (0.1ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m


Processing PagesController#destroy (for 0.0.0.0 at 2011-04-16 14:52:01) [DELETE]
  Parameters: {"id"=>#<Page id: 1, title: "Custom Page", body: "<p>This is a custom page.</p>", published_as: "live", page_public: true, created_at: "2011-04-11 21:51:52", updated_at: "2011-04-12 21:51:52">}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'bbrreH0eN03AGxcFp7ti', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPage Load (0.2ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Redirected to http://test.host/sessions/new
Filter chain halted as [:require_moderator] rendered_or_redirected.
Completed in 14ms (DB: 7) | 302 Found [http://test.host/pages/destroy/1-custom-page]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `pages` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'Ti-bkNuZS4Iqn7kqBZRd', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = '3azx6CUocg9XhouOH6dj', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing PagesController#index (for 0.0.0.0 at 2011-04-16 14:52:01) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:01' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'dpPzHptlk91OFNCPkkqu', `sb_last_seen_at` = '2011-04-16 21:52:01', `current_login_at` = '2011-04-16 21:52:01', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing PagesController#index (for 0.0.0.0 at 2011-04-16 14:52:01) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'AicelfCPwTI5lgu-voU9', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/sessions/new
Filter chain halted as [:require_moderator] rendered_or_redirected.
Completed in 18ms (DB: 7) | 302 Found [http://test.host/pages]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:01', `perishable_token` = 'Bc_snhvHCm4jAdMjGmjV', `last_request_at` = '2011-04-16 21:52:01' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:02', `perishable_token` = 'fzZaDX3ladO7bFXzCbkX', `last_request_at` = '2011-04-16 21:52:02' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPage Update (0.3ms)[0m   [0;1mUPDATE `pages` SET `updated_at` = '2011-04-16 21:52:02', `published_as` = 'draft' WHERE `id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing PagesController#show (for 0.0.0.0 at 2011-04-16 14:52:02) [GET]
  Parameters: {"id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 2) AND (published_as = 'live') [0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 3) [0m


Processing PagesController#show (for 0.0.0.0 at 2011-04-16 14:52:02) [GET]
  Parameters: {"id"=>"3"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mPage Load (0.6ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 3) AND (published_as = 'live') [0m
Redirected to http://test.host/sessions/new
Completed in 6ms (DB: 7) | 302 Found [http://test.host/pages/show/3]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m


Processing PagesController#show (for 0.0.0.0 at 2011-04-16 14:52:02) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) AND (published_as = 'live') [0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM `categories` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:02' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:02', `login_slug` = 'administrator', `perishable_token` = 'mXm1l6Mx7n-Eq-iG3FtL', `sb_last_seen_at` = '2011-04-16 21:52:02', `current_login_at` = '2011-04-16 21:52:02', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:02' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPage Load (0.2ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m


Processing PagesController#update (for 0.0.0.0 at 2011-04-16 14:52:02) [PUT]
  Parameters: {"id"=>"1", "page"=>{"title"=>"changed_name"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:02', `perishable_token` = 'HfZaNf9VfbC06hi6NMJe', `last_request_at` = '2011-04-16 21:52:02' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPage Load (0.2ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPage Update (0.2ms)[0m   [0;1mUPDATE `pages` SET `updated_at` = '2011-04-16 21:52:02', `title` = 'changed_name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:02', `perishable_token` = '_6QByYhnONF_thVgvdYP', `last_request_at` = '2011-04-16 21:52:02' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:02', `perishable_token` = 'x9lDnbq6k3H-d590qLHF', `last_request_at` = '2011-04-16 21:52:02' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:02' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:02', `perishable_token` = '94z3UGNi-_-5o-MciSgh', `sb_last_seen_at` = '2011-04-16 21:52:02', `current_login_at` = '2011-04-16 21:52:02', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:02' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.3ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing PhotoManagerController#index (for 0.0.0.0 at 2011-04-16 14:52:02) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:52:02", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x1067c6378 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:52:02", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "94z3UGNi-_-5o-MciSgh", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:52:02", current_login_at: "2011-04-16 21:52:02", current_login_ip: "0.0.0.0", last_login_ip: nil>, "user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:52:02", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x1067c6378 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:52:02", role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "94z3UGNi-_-5o-MciSgh", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:52:02", current_login_at: "2011-04-16 21:52:02", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:02', `perishable_token` = '2EZvQzpjBfddI2o63XrJ', `last_request_at` = '2011-04-16 21:52:02' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(albums.id) AS count_albums_id FROM `albums` WHERE (user_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(photos.id) AS count_photos_id FROM `photos` WHERE (album_id IS NULL AND parent_id IS NULL AND user_id = 1) [0m
Rendering template within layouts/application
Rendering photo_manager/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:02', `perishable_token` = 'ZdpQ9f0taQsTkAd8H_EK', `last_request_at` = '2011-04-16 21:52:02' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:02', `perishable_token` = 'GdYwg6p53G08gTt-2mpI', `last_request_at` = '2011-04-16 21:52:02' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PhotoManagerController#index (for 0.0.0.0 at 2011-04-16 14:52:02) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>, "user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Create (0.4ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:02', 16966, 'image/jpg', NULL, '2011-04-16 21:52:02', NULL, 1, 'library.jpg', NULL, 300, NULL, 142, NULL)[0m
  [4;35;1mActivity Create (0.3ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:02', 'photo', 1, 3, 'Photo')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:02', `perishable_token` = 'YP-PHpYRe3LejtDbSX7n', `activities_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 3) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'large' AND `photos`.`parent_id` = 3) LIMIT 1[0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 3) [0m
  [4;36;1mPhoto Create (0.4ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:02', 18061, 'image/jpg', NULL, '2011-04-16 21:52:02', 'large', NULL, 'library_large.jpg', 3, 300, NULL, 142, NULL)[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'medium' AND `photos`.`parent_id` = 3) LIMIT 1[0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 3) [0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:02', 18061, 'image/jpg', NULL, '2011-04-16 21:52:02', 'medium', NULL, 'library_medium.jpg', 3, 320, NULL, 290, NULL)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 5) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'thumb' AND `photos`.`parent_id` = 3) LIMIT 1[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 3) [0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:02', 18061, 'image/jpg', NULL, '2011-04-16 21:52:02', 'thumb', NULL, 'library_thumb.jpg', 3, 100, NULL, 100, NULL)[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at > '2011-04-15 21:51:32')) ORDER BY created_at ASC, created_at desc LIMIT 1[0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at < '2011-04-16 14:51:32')) ORDER BY created_at DESC, created_at desc LIMIT 1[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (photos.created_at > '2011-04-09 21:51:27' AND photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (1.4ms)[0m   [0mSELECT DISTINCT photos.* FROM `photos` INNER JOIN taggings photos_taggings ON photos_taggings.taggable_id = photos.id AND photos_taggings.taggable_type = 'Photo' INNER JOIN tags photos_tags ON photos_tags.id = photos_taggings.tag_id WHERE (photos.id != 1 AND (photos_tags.name LIKE 'General')) ORDER BY created_at DESC LIMIT 8[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:02' WHERE (id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:02', `perishable_token` = '2lgU_NCoU53vPlMaKjSw', `sb_last_seen_at` = '2011-04-16 21:52:02', `current_login_at` = '2011-04-16 21:52:02', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:02' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#create (for 0.0.0.0 at 2011-04-16 14:52:02) [POST]
  Parameters: {"photo"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0x106773448 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/library78586-6.jpg>>}, "album_id"=>"1", "user_id"=>"1", "tag_list"=>"tag1, tag2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:02', `perishable_token` = 'JRHIYiocgYK00Vuvz9hP', `last_request_at` = '2011-04-16 21:52:02' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:02', 16966, 'image/jpg', 1, '2011-04-16 21:52:02', NULL, 1, 'library.jpg', NULL, 300, NULL, 142, NULL)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 7) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'large' AND `photos`.`parent_id` = 7) LIMIT 1[0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 7) [0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:02', 18061, 'image/jpg', NULL, '2011-04-16 21:52:02', 'large', NULL, 'library_large.jpg', 7, 300, NULL, 142, NULL)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 8) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'medium' AND `photos`.`parent_id` = 7) LIMIT 1[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 7) [0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:02', 18061, 'image/jpg', NULL, '2011-04-16 21:52:02', 'medium', NULL, 'library_medium.jpg', 7, 320, NULL, 290, NULL)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 9) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'thumb' AND `photos`.`parent_id` = 7) LIMIT 1[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 7) [0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:02', 18061, 'image/jpg', NULL, '2011-04-16 21:52:02', 'thumb', NULL, 'library_thumb.jpg', 7, 100, NULL, 100, NULL)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 10) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;36;1mTag Create (0.2ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag1', 0)[0m
  [4;35;1mTagging Create (0.2ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(10, 7, 'Photo')[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 10) [0m
  [4;35;1mTag Update (0.2ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 10) [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;36;1mTag Create (0.2ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag2', 0)[0m
  [4;35;1mTagging Create (0.1ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(11, 7, 'Photo')[0m
  [4;36;1mTag Load (0.1ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 11) [0m
  [4;35;1mTag Update (0.2ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:03', `perishable_token` = 'D6grmUc7O7lH_8mUgn24', `last_request_at` = '2011-04-16 21:52:03' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:03', `perishable_token` = 'QgA7FoR1sCEtz4Fft8OW', `last_request_at` = '2011-04-16 21:52:03' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:03' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:03', `perishable_token` = 'rKZi-A9MSL3WMvuAqFwZ', `sb_last_seen_at` = '2011-04-16 21:52:03', `current_login_at` = '2011-04-16 21:52:03', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:03' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#swfupload (for 0.0.0.0 at 2011-04-16 14:52:03) [POST]
  Parameters: {"album_id"=>"1", "user_id"=>"1", "Filedata"=>#<ActionController::TestUploadedFile:0x106b0bb50 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/library78586-4.jpg>>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:03', `perishable_token` = 'LBsgcPPooJClwUekXYbe', `last_request_at` = '2011-04-16 21:52:03' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Create (0.4ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:03', 16966, 'image/jpg', 1, '2011-04-16 21:52:03', NULL, 1, 'library.jpg', NULL, 300, NULL, 142, NULL)[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'large' AND `photos`.`parent_id` = 11) LIMIT 1[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 11) [0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:03', 18061, 'image/jpg', NULL, '2011-04-16 21:52:03', 'large', NULL, 'library_large.jpg', 11, 300, NULL, 142, NULL)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'medium' AND `photos`.`parent_id` = 11) LIMIT 1[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 11) [0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:03', 18061, 'image/jpg', NULL, '2011-04-16 21:52:03', 'medium', NULL, 'library_medium.jpg', 11, 320, NULL, 290, NULL)[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 13) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (0.4ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'thumb' AND `photos`.`parent_id` = 11) LIMIT 1[0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 11) [0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:03', 18061, 'image/jpg', NULL, '2011-04-16 21:52:03', 'thumb', NULL, 'library_thumb.jpg', 11, 100, NULL, 100, NULL)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 14) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 956ms (View: 857, DB: 42) | 200 OK [http://test.host/photos/swfupload?Filedata=%23%3CActionController%3A%3ATestUploadedFile%3A0x106b0bb50%3E&album_id=1&user_id=1]
  [4;35;1mPhoto Load (0.5ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 11) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mAlbum Load (0.3ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` WHERE (`photos`.album_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:04', `perishable_token` = 'Po4nLrTeEbjsb0ra87v3', `last_request_at` = '2011-04-16 21:52:04' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:04', `perishable_token` = 'U8TQovNraeMSvMRYL-sp', `last_request_at` = '2011-04-16 21:52:04' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:04' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:04', `perishable_token` = 'HTcwLxMFWr-lDt4n_tzp', `sb_last_seen_at` = '2011-04-16 21:52:04', `current_login_at` = '2011-04-16 21:52:04', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:04' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#create (for 0.0.0.0 at 2011-04-16 14:52:04) [POST]
  Parameters: {"photo"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0x106835ac0 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/library78586-7.jpg>>}, "user_id"=>"1", "tag_list"=>"tag1, tag2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:04', `perishable_token` = 'yYw3hrqkfOFTXAB5UD8y', `last_request_at` = '2011-04-16 21:52:04' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:04', 16966, 'image/jpg', NULL, '2011-04-16 21:52:04', NULL, 1, 'library.jpg', NULL, 300, NULL, 142, NULL)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:04', 'photo', 1, 15, 'Photo')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:04', `perishable_token` = 'fWS30BP44kOOw-Ieu9G5', `activities_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mTag Load (0.6ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 15) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'large' AND `photos`.`parent_id` = 15) LIMIT 1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 15) [0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:04', 18061, 'image/jpg', NULL, '2011-04-16 21:52:04', 'large', NULL, 'library_large.jpg', 15, 300, NULL, 142, NULL)[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 16) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'medium' AND `photos`.`parent_id` = 15) LIMIT 1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 15) [0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:04', 18061, 'image/jpg', NULL, '2011-04-16 21:52:04', 'medium', NULL, 'library_medium.jpg', 15, 320, NULL, 290, NULL)[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 17) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'thumb' AND `photos`.`parent_id` = 15) LIMIT 1[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 15) [0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:04', 18061, 'image/jpg', NULL, '2011-04-16 21:52:04', 'thumb', NULL, 'library_thumb.jpg', 15, 100, NULL, 100, NULL)[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 18) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;35;1mTag Create (0.2ms)[0m   [0mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag1', 0)[0m
  [4;36;1mTagging Create (0.2ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(12, 15, 'Photo')[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 12) [0m
  [4;36;1mTag Update (0.2ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 12) [0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;35;1mTag Create (0.2ms)[0m   [0mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag2', 0)[0m
  [4;36;1mTagging Create (0.2ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(13, 15, 'Photo')[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 13) [0m
  [4;36;1mTag Update (0.1ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 13) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:04', `perishable_token` = 'TJcMzwudCJdvyQjjS7x3', `last_request_at` = '2011-04-16 21:52:04' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:04', `perishable_token` = '9vxQrk93fQLC87oepN3N', `last_request_at` = '2011-04-16 21:52:04' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:04' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:04', `perishable_token` = 'Q5XZpKpx3H1Pyy77Srff', `sb_last_seen_at` = '2011-04-16 21:52:04', `current_login_at` = '2011-04-16 21:52:04', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:04' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m


Processing PhotosController#destroy (for 0.0.0.0 at 2011-04-16 14:52:04) [DELETE]
  Parameters: {"id"=>#<Photo id: 1, name: "library", description: "The MPLS library is so great", created_at: "2011-04-16 14:51:32", updated_at: "2011-04-16 14:51:32", user_id: 1, content_type: "image/jpg", filename: "test.jpg", size: 274, parent_id: nil, thumbnail: nil, width: 45, height: 45, album_id: 1, view_count: 0>, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:04', `perishable_token` = 'abIGX2PX4M8tb8-TvhU3', `last_request_at` = '2011-04-16 21:52:04' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Photo') [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.parent_id = 1) [0m
  [4;36;1mTagging Load (0.2ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Photo') [0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;36;1mTag Update (0.2ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mTagging Destroy (0.2ms)[0m   [0mDELETE FROM `taggings` WHERE `id` = 1[0m
  [4;36;1mActivity Load (0.3ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Photo') [0m
  [4;35;1mPhoto Destroy (0.2ms)[0m   [0mDELETE FROM `photos` WHERE `id` = 1[0m
Exception destroying  "/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/public/photos/0000/0001/test.jpg": [Errno::ENOENT] 
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `unlink'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1302:in `platform_support'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1296:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:771:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:549:in `rm'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `each'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `rm'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:88:in `destroy_file'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:166:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:93:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `run'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:486:in `run_callbacks'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:344:in `callback'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:338:in `destroy_without_transactions'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:182:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:192:in `destroy'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/app/controllers/photos_controller.rb:196:in `destroy'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:638:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:206:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:206:in `around_proc'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:182:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:182:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:184:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:635:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:615:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:638:in `run_before_filters'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/lib/localized_application.rb:25:in `set_locale'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:186:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:635:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:615:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:567:in `process_with_test'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:447:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:413:in `delete'
 > ./vendor/plugins/community_engine/test/functional/photos_controller_test.rb:198:in `test_should_destroy_photo'
 > ./vendor/plugins/community_engine/test/unit/../test_helper.rb:29:in `assert_difference'
 > ./vendor/plugins/community_engine/test/functional/photos_controller_test.rb:197:in `test_should_destroy_photo'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `__send__'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
 > /usr/local/lib/ruby/1.8/test/unit.rb:278
 > /usr/local/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:04', `perishable_token` = '6R3lsi1VaCFHgFsyPZUv', `last_request_at` = '2011-04-16 21:52:04' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:04', `perishable_token` = '0ohRxYKnVY5CiX4-OfV5', `last_request_at` = '2011-04-16 21:52:04' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:04' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:04', `perishable_token` = 'SUKQcKvmxbWmhy4nZUrk', `sb_last_seen_at` = '2011-04-16 21:52:04', `current_login_at` = '2011-04-16 21:52:04', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:04' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#create (for 0.0.0.0 at 2011-04-16 14:52:04) [POST]
  Parameters: {"photo"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0x1068714a8 @content_type="image/bmp", @original_filename="Granite.bmp", @tempfile=#<File:/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/Granite78586-0.bmp>>}, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:04', `perishable_token` = 'oQFFg-bIgNcIjVH7eby9', `last_request_at` = '2011-04-16 21:52:04' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering photos/new
Rendered shared/_box (0.4ms)
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'MkJoZtsMONPEqmXRadP4', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'D56_RL-iTKsCgZ-AkfnJ', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:05' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'P_eWnvC_tAUv3NSTW40D', `sb_last_seen_at` = '2011-04-16 21:52:05', `current_login_at` = '2011-04-16 21:52:05', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#create (for 0.0.0.0 at 2011-04-16 14:52:05) [POST]
  Parameters: {"photo"=>{}, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = '41cSbsLxyGgmYVXPTHUj', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering photos/new
Rendered shared/_box (0.5ms)
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'NtyOKpkogHChEz4qQ5TQ', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = '9sPK75W033F0RewcZgwk', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:05' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = '5OaMqTIdtZrYjVa2sDKH', `sb_last_seen_at` = '2011-04-16 21:52:05', `current_login_at` = '2011-04-16 21:52:05', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.3ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing PhotosController#update (for 0.0.0.0 at 2011-04-16 14:52:05) [PUT]
  Parameters: {"photo"=>{"size"=>nil}, "id"=>"1", "user_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = '0ZZ0GRq18jKlaqXE_ZC9', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Redirected to http://test.host/sessions/new
Filter chain halted as [:require_current_user] rendered_or_redirected.
Completed in 18ms (DB: 9) | 302 Found [http://test.host/photos/update/1?photo%5Bsize%5D=&user_id=2]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'FJRgUkeihv54POJVnk6v', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'SAasRTMw1Da0he6yJvn4', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.4ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:05' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'nn_mIcwv3nwAbLmKPitD', `sb_last_seen_at` = '2011-04-16 21:52:05', `current_login_at` = '2011-04-16 21:52:05', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m


Processing PhotosController#edit (for 0.0.0.0 at 2011-04-16 14:52:05) [GET]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'unOedYSjYfLVrI9PD1Oj', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering photos/edit
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'ROpkrSfTsLMucP2-DzE9', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'iKamWhpXOLmZ7EM3gw6n', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PhotosController#index (for 0.0.0.0 at 2011-04-16 14:52:05) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(DISTINCT photos.id) AS count_photos_id FROM `photos` LEFT OUTER JOIN `taggings` ON (`photos`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Photo') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (user_id = 1) AND (photos.parent_id IS NULL) [0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN photos ON photos.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Photo' AND `photos`.`user_id` = 1) GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 20[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:05' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'LH0_1Z4_LsOg4-dskIrS', `sb_last_seen_at` = '2011-04-16 21:52:05', `current_login_at` = '2011-04-16 21:52:05', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing PhotosController#index (for 0.0.0.0 at 2011-04-16 14:52:05) [GET]
  Parameters: {"user_id"=>"10"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'Uel0p70s7YHAxWBLM9Wa', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(DISTINCT photos.id) AS count_photos_id FROM `photos` LEFT OUTER JOIN `taggings` ON (`photos`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Photo') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (user_id = 10) AND (photos.parent_id IS NULL) [0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN photos ON photos.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Photo' AND `photos`.`user_id` = 10) GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 20[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'ctVXFXaqM0frQGmrN5JN', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'Q6sN_AEHEQHgOTC8wWcq', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PhotosController#index to rss (for 0.0.0.0 at 2011-04-16 14:52:05) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(DISTINCT photos.id) AS count_photos_id FROM `photos` LEFT OUTER JOIN `taggings` ON (`photos`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Photo') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (user_id = 1) AND (photos.parent_id IS NULL) [0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN photos ON photos.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Photo' AND `photos`.`user_id` = 1) GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 20[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:05' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = '5gNW__mmZ2q1_FJuclTO', `sb_last_seen_at` = '2011-04-16 21:52:05', `current_login_at` = '2011-04-16 21:52:05', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.4ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing PhotosController#new (for 0.0.0.0 at 2011-04-16 14:52:05) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'SwPd4Zm4b06Yjv4VJHRw', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering photos/new
Rendered shared/_box (0.5ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = '1vhKUmoJjWN-fPezXyyp', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'CJ-y2Y0VZoARRQltmNEq', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing PhotosController#recent (for 0.0.0.0 at 2011-04-16 14:52:05) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(photos.id) AS count_photos_id FROM `photos` WHERE (photos.parent_id IS NULL) [0m
Rendering template within layouts/application
Rendering photos/recent
  [4;36;1mPhoto Load (0.5ms)[0m   [0;1mSELECT * FROM `photos` WHERE (photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 0, 2[0m
Rendered shared/_box (0.5ms)
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PhotosController#slideshow (for 0.0.0.0 at 2011-04-16 14:52:05) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:05' WHERE (id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:05', `perishable_token` = 'L0_nJbEEVozi8Eb-ywJ8', `sb_last_seen_at` = '2011-04-16 21:52:05', `current_login_at` = '2011-04-16 21:52:05', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:05' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m


Processing PhotosController#create (for 0.0.0.0 at 2011-04-16 14:52:06) [POST]
  Parameters: {"photo"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0x10676ceb8 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/library78586-8.jpg>>}, "album_id"=>"1", "user_id"=>"1", "tag_list"=>"tag1, tag2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `perishable_token` = 'NGkNTlCb6eib0AsxM4ww', `last_request_at` = '2011-04-16 21:52:06' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:06', 16966, 'image/jpg', 1, '2011-04-16 21:52:06', NULL, 1, 'library.jpg', NULL, 300, NULL, 142, NULL)[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 19) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'large' AND `photos`.`parent_id` = 19) LIMIT 1[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 19) [0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:06', 18061, 'image/jpg', NULL, '2011-04-16 21:52:06', 'large', NULL, 'library_large.jpg', 19, 300, NULL, 142, NULL)[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 20) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.4ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'medium' AND `photos`.`parent_id` = 19) LIMIT 1[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 19) [0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:06', 18061, 'image/jpg', NULL, '2011-04-16 21:52:06', 'medium', NULL, 'library_medium.jpg', 19, 320, NULL, 290, NULL)[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 21) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.5ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'thumb' AND `photos`.`parent_id` = 19) LIMIT 1[0m
  [4;36;1mPhoto Load (0.5ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 19) [0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:06', 18061, 'image/jpg', NULL, '2011-04-16 21:52:06', 'thumb', NULL, 'library_thumb.jpg', 19, 100, NULL, 100, NULL)[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 22) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;35;1mTag Create (0.2ms)[0m   [0mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag1', 0)[0m
  [4;36;1mTagging Create (0.2ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(14, 19, 'Photo')[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 14) [0m
  [4;36;1mTag Update (0.2ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 14) [0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;35;1mTag Create (0.2ms)[0m   [0mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag2', 0)[0m
  [4;36;1mTagging Create (0.2ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(15, 19, 'Photo')[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 15) [0m
  [4;36;1mTag Update (0.2ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 15) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `perishable_token` = 'CUt9ykUeI0FQ7PjvTtDR', `last_request_at` = '2011-04-16 21:52:06' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `perishable_token` = 'BSv0Qtb2iIYXCyN69rdj', `last_request_at` = '2011-04-16 21:52:06' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:06' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `perishable_token` = 'Y81k3VdLoAwV5JOKyrFQ', `sb_last_seen_at` = '2011-04-16 21:52:06', `current_login_at` = '2011-04-16 21:52:06', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:06' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing PhotosController#destroy (for 0.0.0.0 at 2011-04-16 14:52:06) [DELETE]
  Parameters: {"id"=>#<Photo id: 1, name: "library", description: "The MPLS library is so great", created_at: "2011-04-16 14:51:32", updated_at: "2011-04-16 14:51:32", user_id: 1, content_type: "image/jpg", filename: "test.jpg", size: 274, parent_id: nil, thumbnail: nil, width: 45, height: 45, album_id: 1, view_count: 0>, "user_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `perishable_token` = 'HMcGnsfatFKMQEM2h3_5', `last_request_at` = '2011-04-16 21:52:06' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Redirected to http://test.host/sessions/new
Filter chain halted as [:require_current_user] rendered_or_redirected.
Completed in 18ms (DB: 23) | 302 Found [http://test.host/photos/destroy/1?user_id=2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `perishable_token` = '6CcpKX-p3l5xmbqSCuhD', `last_request_at` = '2011-04-16 21:52:06' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `perishable_token` = '-KoIGe586LcHw0xK_rDy', `last_request_at` = '2011-04-16 21:52:06' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing PhotosController#index (for 0.0.0.0 at 2011-04-16 14:52:06) [GET]
  Parameters: {"user_id"=>"10"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Update (0.3ms)[0m   [0;1mUPDATE `photos` SET `updated_at` = '2011-04-16 21:52:06', `user_id` = 10 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing PhotosController#show (for 0.0.0.0 at 2011-04-16 14:52:06) [GET]
  Parameters: {"id"=>"1", "user_id"=>"10"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:06' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `perishable_token` = 'atAbryMUW1bGCbpQIaUl', `sb_last_seen_at` = '2011-04-16 21:52:06', `current_login_at` = '2011-04-16 21:52:06', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:06' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `avatar_id` = 1, `perishable_token` = 'bq20YmK3rjm4Wy-ptr4J' WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#destroy (for 0.0.0.0 at 2011-04-16 14:52:06) [DELETE]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `perishable_token` = 'KG0cidrUXugJtFhKBMl-', `last_request_at` = '2011-04-16 21:52:06' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `avatar_id` = NULL, `perishable_token` = '9PCozXPUON4cJY44cFQf' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.6ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Photo') [0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.parent_id = 1) [0m
  [4;35;1mTagging Load (0.4ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Photo') [0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;35;1mTag Update (0.3ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mTagging Destroy (0.2ms)[0m   [0;1mDELETE FROM `taggings` WHERE `id` = 1[0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Photo') [0m
  [4;36;1mPhoto Destroy (0.1ms)[0m   [0;1mDELETE FROM `photos` WHERE `id` = 1[0m
Exception destroying  "/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/public/photos/0000/0001/test.jpg": [Errno::ENOENT] 
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `unlink'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1302:in `platform_support'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1296:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:771:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:549:in `rm'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `each'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `rm'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:88:in `destroy_file'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:166:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:93:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `run'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:486:in `run_callbacks'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:344:in `callback'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:338:in `destroy_without_transactions'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:182:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:192:in `destroy'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/app/controllers/photos_controller.rb:196:in `destroy'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:638:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:206:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:206:in `around_proc'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:182:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:182:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:184:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:635:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:615:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:638:in `run_before_filters'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/lib/localized_application.rb:25:in `set_locale'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:186:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:635:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:615:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:567:in `process_with_test'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:447:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:413:in `delete'
 > ./vendor/plugins/community_engine/test/functional/photos_controller_test.rb:216:in `test_should_remove_avatar_when_photo_is_destroyed'
 > ./vendor/plugins/community_engine/test/unit/../test_helper.rb:29:in `assert_difference'
 > ./vendor/plugins/community_engine/test/functional/photos_controller_test.rb:215:in `test_should_remove_avatar_when_photo_is_destroyed'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `__send__'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
 > /usr/local/lib/ruby/1.8/test/unit.rb:278
 > /usr/local/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `perishable_token` = 'b3VDmynOjdy7UcKNshlQ', `last_request_at` = '2011-04-16 21:52:06' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `perishable_token` = 'aphlkiVHi_eNo9DZzlw4', `last_request_at` = '2011-04-16 21:52:06' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PhotosController#show (for 0.0.0.0 at 2011-04-16 14:52:06) [GET]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1 AND (`photos`.user_id = 1)) ORDER BY created_at desc[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at < '2011-04-16 14:51:32')) ORDER BY created_at DESC, created_at desc LIMIT 1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at > '2011-04-16 14:51:32')) ORDER BY created_at ASC, created_at desc LIMIT 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (1.3ms)[0m   [0;1mSELECT DISTINCT photos.* FROM `photos` INNER JOIN taggings photos_taggings ON photos_taggings.taggable_id = photos.id AND photos_taggings.taggable_type = 'Photo' INNER JOIN tags photos_tags ON photos_tags.id = photos_taggings.tag_id WHERE (photos.id != 1 AND (photos_tags.name LIKE 'General')) ORDER BY created_at DESC LIMIT 8[0m
Rendering template within layouts/application
Rendering photos/show
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:06' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `perishable_token` = 'V7qjTyDHxDBOSkaDY8Fg', `sb_last_seen_at` = '2011-04-16 21:52:06', `current_login_at` = '2011-04-16 21:52:06', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:06' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m


Processing PhotosController#show (for 0.0.0.0 at 2011-04-16 14:52:06) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:06', `perishable_token` = 'cDIwplXPu7vV5AhhQHjH', `last_request_at` = '2011-04-16 21:52:06' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1 AND (`photos`.user_id = 1)) ORDER BY created_at desc[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at < '2011-04-16 14:51:32')) ORDER BY created_at DESC, created_at desc LIMIT 1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at > '2011-04-16 14:51:32')) ORDER BY created_at ASC, created_at desc LIMIT 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (1.3ms)[0m   [0;1mSELECT DISTINCT photos.* FROM `photos` INNER JOIN taggings photos_taggings ON photos_taggings.taggable_id = photos.id AND photos_taggings.taggable_type = 'Photo' INNER JOIN tags photos_tags ON photos_tags.id = photos_taggings.tag_id WHERE (photos.id != 1 AND (photos_tags.name LIKE 'General')) ORDER BY created_at DESC LIMIT 8[0m
Rendering template within layouts/application
Rendering photos/show
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = 'mKACJ4BAzcnYOe0V4Kqt', `last_request_at` = '2011-04-16 21:52:07' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = 'IG9oNnafrJtVtPh4Oww4', `last_request_at` = '2011-04-16 21:52:07' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:07' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = 'qd9ag2TmFVn8-oKibxyC', `sb_last_seen_at` = '2011-04-16 21:52:07', `current_login_at` = '2011-04-16 21:52:07', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:07' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#update (for 0.0.0.0 at 2011-04-16 14:52:07) [POST]
  Parameters: {"photo"=>{"name"=>"Another name", "album_id"=>2}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = 'bm9oa7cckIyL6fepQg3K', `last_request_at` = '2011-04-16 21:52:07' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
WARNING: Can't mass-assign these protected attributes: album_id
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Update (0.3ms)[0m   [0;1mUPDATE `photos` SET `updated_at` = '2011-04-16 21:52:07', `name` = 'Another name', `album_id` = 2 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = 'A-dGo1qNdwLtPpVJs5Gc', `last_request_at` = '2011-04-16 21:52:07' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = 'vRFNNkS7Qeb5xWakbgUF', `last_request_at` = '2011-04-16 21:52:07' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:07' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = 'yfaeap1FMhJWnKIkuRpB', `sb_last_seen_at` = '2011-04-16 21:52:07', `current_login_at` = '2011-04-16 21:52:07', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:07' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.3ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m


Processing PhotosController#update (for 0.0.0.0 at 2011-04-16 14:52:07) [PUT]
  Parameters: {"photo"=>{"name"=>"changed_name"}, "id"=>"1", "user_id"=>"1", "tag_list"=>"tagX, tagY"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = 'qpTnZ2CHAK12hSMwTBz9', `last_request_at` = '2011-04-16 21:52:07' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.1ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Update (0.3ms)[0m   [0;1mUPDATE `photos` SET `updated_at` = '2011-04-16 21:52:07', `name` = 'changed_name', `album_id` = NULL WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = 'h0AwRJVRkC_fL32_7p8a', `last_request_at` = '2011-04-16 21:52:07' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = '74T8zZju93hPGqYYXVWc', `last_request_at` = '2011-04-16 21:52:07' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mPoll Create (0.2ms)[0m   [0mINSERT INTO `polls` (`created_at`, `updated_at`, `post_id`, `votes_count`, `question`) VALUES('2011-04-16 21:52:07', '2011-04-16 21:52:07', 1, 0, 'Do you like things?')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPoll Load (0.3ms)[0m   [0mSELECT * FROM `polls` WHERE (polls.created_at > '2011-04-06 21:52:07') ORDER BY polls.votes_count desc LIMIT 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `choices` [0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mPoll Create (0.2ms)[0m   [0;1mINSERT INTO `polls` (`created_at`, `updated_at`, `post_id`, `votes_count`, `question`) VALUES('2011-04-16 21:52:07', '2011-04-16 21:52:07', 1, 0, 'Who can have a great time?')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 2) [0m
  [4;36;1mChoice Create (0.2ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'I can', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 2) [0m
  [4;36;1mChoice Create (0.3ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'You can', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 2) [0m
  [4;36;1mChoice Create (0.1ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'No one can', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `choices` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Update (0.3ms)[0m   [0;1mUPDATE `posts` SET `updated_at` = '2011-04-16 21:52:07', `published_as` = 'draft' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.1ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 30[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.1ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.1ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Post' AND favoritable_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Post' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.2ms)[0m   [0mINSERT INTO `favorites` (`created_at`, `updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `ip_address`) VALUES('2011-04-16 21:52:07', '2011-04-16 21:52:07', 'Post', 1, 1, '1.1.1.1')[0m
  [4;36;1mActivity Create (0.4ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:07', 'favorite', 1, 15, 'Favorite')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = '-64ZeuYAuVQvd3TX7935', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Post') [0m
  [4;36;1mPost Update (0.2ms)[0m   [0;1mUPDATE `posts` SET `updated_at` = '2011-04-16 21:52:07', `favorited_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 1) LIMIT 1[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:07', 'post', 1, 1, 'Post')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = '7wpW4pYR8r3rarQa6F1I', `activities_count` = 2 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.3ms)[0m   [0mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Post' AND favoritable_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (0.1ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Create (0.3ms)[0m   [0;1mINSERT INTO `posts` (`created_at`, `post`, `title`, `updated_at`, `emailed_count`, `raw_post`, `category_id`, `user_id`, `published_as`, `contest_id`, `favorited_count`, `published_at`, `view_count`) VALUES('2011-04-16 21:52:07', 'will this work?', 'testing activity tracking', '2011-04-16 21:52:07', 0, 'will this work?', NULL, 1, 'live', NULL, 0, '2011-04-16 21:52:07', 0)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:07', 'post', 1, 5, 'Post')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = 'HvVcN96ExnyYpDwImUYZ', `activities_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 5) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 5 AND `taggings`.taggable_type = 'Post') [0m
  [4;36;1mActivity Load (0.3ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Post') [0m
  [4;35;1mActivity Destroy (0.2ms)[0m   [0mDELETE FROM `activities` WHERE `id` = 28[0m
  [4;36;1mPoll Load (0.2ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 5) [0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 5 AND `favorites`.favoritable_type = 'Post') [0m
  [4;36;1mPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `posts` WHERE `id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.1ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.1ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (0.1ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Update (0.3ms)[0m   [0;1mUPDATE `posts` SET `updated_at` = '2011-04-16 21:52:07', `published_as` = 'draft' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.1ms)[0m   [0;1mSELECT * FROM `posts` [0m
  [4;35;1mSQL (13.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.1ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mPost Load (14.0ms)[0m   [0mSELECT posts.*, count(*) as comments_count FROM `posts` LEFT JOIN comments ON comments.commentable_id = posts.id WHERE (comments.commentable_type = 'Post' AND posts.published_at > '2011-04-09 21:52:07') AND (published_as = 'live') GROUP BY posts.id,posts.created_at,posts.updated_at,posts.raw_post,posts.post,posts.title,posts.category_id,posts.user_id,posts.view_count,posts.contest_id,posts.emailed_count,posts.favorited_count,posts.published_as,posts.published_at ORDER BY comments_count DESC LIMIT 10[0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 3) [0m
  [4;35;1mPost Load (1.5ms)[0m   [0mSELECT posts.*, count(*) as comments_count FROM `posts` LEFT JOIN comments ON comments.commentable_id = posts.id WHERE (comments.commentable_type = 'Post' AND posts.published_at > '2011-04-09 21:52:07') AND (published_as = 'live') GROUP BY posts.id,posts.created_at,posts.updated_at,posts.raw_post,posts.post,posts.title,posts.category_id,posts.user_id,posts.view_count,posts.contest_id,posts.emailed_count,posts.favorited_count,posts.published_as,posts.published_at ORDER BY comments_count DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (0.1ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1 AND (published_at > '2011-04-11 21:51:29' and published_as = 'live')) ORDER BY published_at ASC, published_at desc LIMIT 1[0m
  [4;36;1mPost Load (0.1ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.1ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE ((posts.published_at > '2011-04-06 21:52:07') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 3[0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE ((posts.published_at > '2011-04-15 21:52:07') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 3[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (0.1ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1 AND (published_at < '2011-04-12 21:51:29' and published_as = 'live')) ORDER BY published_at DESC, published_at desc LIMIT 1[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.1ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 3[0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `choices` [0m
  [4;35;1mPost Load (0.1ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `choices` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `choices` [0m
  [4;35;1mPost Load (0.1ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `choices` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Create (0.2ms)[0m   [0;1mINSERT INTO `posts` (`created_at`, `post`, `title`, `updated_at`, `emailed_count`, `raw_post`, `category_id`, `user_id`, `published_as`, `contest_id`, `favorited_count`, `published_at`, `view_count`) VALUES('2011-04-16 21:52:07', 'Blog post message', 'Title', '2011-04-16 21:52:07', 0, 'Blog post message', NULL, 1, 'draft', NULL, 0, NULL, 0)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 6) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Update (0.3ms)[0m   [0mUPDATE `posts` SET `updated_at` = '2011-04-16 21:52:07', `published_at` = '2011-04-16 21:52:07', `published_as` = 'live' WHERE `id` = 6[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 6) LIMIT 1[0m
  [4;35;1mActivity Create (0.3ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:07', 'post', 1, 6, 'Post')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = 'obl40c8nVj6VpXoGyH5N', `activities_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Update (0.2ms)[0m   [0mUPDATE `posts` SET `updated_at` = '2011-04-16 21:52:07', `published_as` = 'draft' WHERE `id` = 6[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 6) LIMIT 1[0m
  [4;35;1mActivity Destroy (0.1ms)[0m   [0mDELETE FROM `activities` WHERE `id` = 29[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Update (0.2ms)[0m   [0;1mUPDATE `posts` SET `updated_at` = '2011-04-16 21:52:07', `published_as` = 'live' WHERE `id` = 6[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 6) LIMIT 1[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:07', 'post', 1, 6, 'Post')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:07', `perishable_token` = '7KmeX0mLFJUEXgrCWtfn' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Create (0.2ms)[0m   [0;1mINSERT INTO `posts` (`created_at`, `post`, `title`, `updated_at`, `emailed_count`, `raw_post`, `category_id`, `user_id`, `published_as`, `contest_id`, `favorited_count`, `published_at`, `view_count`) VALUES('2011-04-16 21:52:08', 'will this work?', 'testing activity tracking', '2011-04-16 21:52:08', 0, 'will this work?', NULL, 1, 'draft', NULL, 0, NULL, 0)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 7) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 7) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.1ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Create (0.2ms)[0m   [0mINSERT INTO `posts` (`created_at`, `post`, `title`, `updated_at`, `emailed_count`, `raw_post`, `category_id`, `user_id`, `published_as`, `contest_id`, `favorited_count`, `published_at`, `view_count`) VALUES('2011-04-16 21:52:08', 'Blog post message', 'Title', '2011-04-16 21:52:08', 0, 'Blog post message', NULL, 1, 'draft', NULL, 0, NULL, 0)[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 8) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;35;1mActivity Load (0.3ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 8) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Update (0.3ms)[0m   [0;1mUPDATE `posts` SET `updated_at` = '2011-04-16 21:52:08', `published_at` = '2011-04-16 21:52:08', `published_as` = 'live' WHERE `id` = 8[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 8) LIMIT 1[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:08', 'post', 1, 8, 'Post')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'Rmyu6F8N4P_fHpXbjdaK', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.3ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.3ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Update (0.3ms)[0m   [0mUPDATE `posts` SET `updated_at` = '2011-04-16 21:52:08', `published_as` = 'draft' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Create (0.3ms)[0m   [0mINSERT INTO `posts` (`created_at`, `post`, `title`, `updated_at`, `emailed_count`, `raw_post`, `category_id`, `user_id`, `published_as`, `contest_id`, `favorited_count`, `published_at`, `view_count`) VALUES('2011-04-16 21:52:08', 'will this work?', 'testing activity tracking', '2011-04-16 21:52:08', 0, 'will this work?', NULL, 1, 'live', NULL, 0, '2011-04-16 21:52:08', 0)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:08', 'post', 1, 9, 'Post')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'FW_hFUMMmGaNWKBMBxdb', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.4ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 9) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;35;1mActivity Load (0.3ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 9) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 2) [0m
  [4;36;1mPoll Create (0.2ms)[0m   [0;1mINSERT INTO `polls` (`created_at`, `updated_at`, `post_id`, `votes_count`, `question`) VALUES('2011-04-16 21:52:08', '2011-04-16 21:52:08', 2, 0, 'Who can have a great time?')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 3) [0m
  [4;36;1mChoice Create (0.2ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'I can', 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.1ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 3) [0m
  [4;36;1mChoice Create (0.1ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'You can', 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 3) [0m
  [4;36;1mChoice Create (0.2ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'No one can', 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;35;1mPoll Load (0.1ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 2) [0m
  [4;36;1mPoll Update (0.2ms)[0m   [0;1mUPDATE `polls` SET `updated_at` = '2011-04-16 21:52:08', `question` = 'Who can have a terrible time?' WHERE `id` = 3[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;36;1mChoice Load (0.2ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.poll_id = 3) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.choice_id = 4) [0m
  [4;35;1mChoice Destroy (0.2ms)[0m   [0mDELETE FROM `choices` WHERE `id` = 4[0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.choice_id = 5) [0m
  [4;35;1mChoice Destroy (0.1ms)[0m   [0mDELETE FROM `choices` WHERE `id` = 5[0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.choice_id = 6) [0m
  [4;35;1mChoice Destroy (0.1ms)[0m   [0mDELETE FROM `choices` WHERE `id` = 6[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;36;1mPoll Load (0.1ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;35;1mPoll Load (0.1ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 3) [0m
  [4;36;1mChoice Create (0.2ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'Foo', 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 3) [0m
  [4;36;1mChoice Create (0.1ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'Bar', 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;36;1mChoice Load (0.1ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.poll_id = 3) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;36;1mPoll Load (0.1ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;35;1mChoice Load (0.2ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.poll_id = 3) ORDER BY choices.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.1ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mPoll Create (0.2ms)[0m   [0;1mINSERT INTO `polls` (`created_at`, `updated_at`, `post_id`, `votes_count`, `question`) VALUES('2011-04-16 21:52:08', '2011-04-16 21:52:08', 1, 0, 'Who can have a great time?')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 4) [0m
  [4;36;1mChoice Create (0.2ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'I can', 4)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.1ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 4) [0m
  [4;36;1mChoice Create (0.1ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'You can', 4)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 4) [0m
  [4;36;1mChoice Create (0.1ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'No one can', 4)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
  [4;36;1mPoll Load (0.1ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
  [4;36;1mPoll Load (0.1ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.1ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mPoll Update (0.2ms)[0m   [0mUPDATE `polls` SET `updated_at` = '2011-04-16 21:52:08', `question` = 'Who can have a terrible time?' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
  [4;36;1mPoll Load (0.1ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mChoice Load (0.2ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.poll_id = 4) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.choice_id = 9) [0m
  [4;36;1mChoice Destroy (0.2ms)[0m   [0;1mDELETE FROM `choices` WHERE `id` = 9[0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.choice_id = 10) [0m
  [4;36;1mChoice Destroy (0.1ms)[0m   [0;1mDELETE FROM `choices` WHERE `id` = 10[0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.choice_id = 11) [0m
  [4;36;1mChoice Destroy (0.1ms)[0m   [0;1mDELETE FROM `choices` WHERE `id` = 11[0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.poll_id = 4) [0m
  [4;36;1mPoll Destroy (0.1ms)[0m   [0;1mDELETE FROM `polls` WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:08' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'O3jM0tjlQM4sriettJ_u', `sb_last_seen_at` = '2011-04-16 21:52:08', `current_login_at` = '2011-04-16 21:52:08', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 4) [0m
  [4;36;1mContest Load (0.2ms)[0m   [0;1mSELECT * FROM `contests` WHERE (`contests`.`id` = 1) [0m


Processing PostsController#create (for 0.0.0.0 at 2011-04-16 14:52:08) [POST]
  Parameters: {"post"=>{"category"=>#<Category id: 4, name: "Talk", tips: nil, new_post_text: nil, nav_text: nil>, "title"=>"dude", "contest"=>#<Contest id: 1, title: "Enter to win!", created_at: "2011-04-11 21:51:40", updated_at: "2011-04-12 21:51:40", begin_date: "2009-12-02 21:51:40", end_date: "2011-04-15 21:51:40", raw_post: nil, post: nil, banner_title: "Enter to win!", banner_subtitle: "It's cool">, "raw_post"=>"rawness"}, "user_id"=>"1", "tag_list"=>"tag1, tag2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'LsPq1GEmm4J6M_hhmI1D', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Create (0.3ms)[0m   [0mINSERT INTO `posts` (`created_at`, `post`, `title`, `updated_at`, `emailed_count`, `raw_post`, `category_id`, `user_id`, `published_as`, `contest_id`, `favorited_count`, `published_at`, `view_count`) VALUES('2011-04-16 21:52:08', 'rawness', 'dude', '2011-04-16 21:52:08', 0, 'rawness', 4, 1, 'draft', 1, 0, NULL, 0)[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 10) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;35;1mTag Create (0.2ms)[0m   [0mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag1', 0)[0m
  [4;36;1mTagging Create (0.2ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(16, 10, 'Post')[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 16) [0m
  [4;36;1mTag Update (0.2ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 16) [0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;35;1mTag Create (0.2ms)[0m   [0mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag2', 0)[0m
  [4;36;1mTagging Create (0.2ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(17, 10, 'Post')[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 17) [0m
  [4;36;1mTag Update (0.2ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 17) [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 10) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'jX4j6vuMFQGhvE9KevCa', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'j511-l-h4NaVNokY1-RO', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:08' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'QYO8s8pMwZmuI9D-r0Lc', `sb_last_seen_at` = '2011-04-16 21:52:08', `current_login_at` = '2011-04-16 21:52:08', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 4) [0m


Processing PostsController#create (for 0.0.0.0 at 2011-04-16 14:52:08) [POST]
  Parameters: {"post"=>{"category"=>#<Category id: 4, name: "Talk", tips: nil, new_post_text: nil, nav_text: nil>, "title"=>"dude", "raw_post"=>"rawness"}, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'JOM4UHj0xXTJHCA83OFF', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Create (0.4ms)[0m   [0;1mINSERT INTO `posts` (`created_at`, `post`, `title`, `updated_at`, `emailed_count`, `raw_post`, `category_id`, `user_id`, `published_as`, `contest_id`, `favorited_count`, `published_at`, `view_count`) VALUES('2011-04-16 21:52:08', 'rawness', 'dude', '2011-04-16 21:52:08', 0, 'rawness', 4, 1, 'draft', NULL, 0, NULL, 0)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'SzLrfUVq_199wLfDL1Jz', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'NMI7VH8QfmQcOGDeXP80', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:08' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'uTJ99HCSyykv13o_Iibc', `sb_last_seen_at` = '2011-04-16 21:52:08', `current_login_at` = '2011-04-16 21:52:08', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` [0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#destroy (for 0.0.0.0 at 2011-04-16 14:52:08) [DELETE]
  Parameters: {"id"=>#<Post id: 1, created_at: "2011-04-11 21:51:29", updated_at: "2011-04-12 21:51:29", raw_post: "Seriously, how can you build a good group of people...", post: "Seriously, how can you build a good group of people...", title: "Building communities is all about love.", category_id: 1, user_id: 1, view_count: 0, contest_id: nil, emailed_count: 0, favorited_count: 0, published_as: "live", published_at: "2011-04-11 21:51:29">, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'gWFOcD0m3KT6THMD-LQ9', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.1ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.2ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.2ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Post') [0m
  [4;36;1mActivity Load (0.1ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Post') [0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 1) [0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Post') [0m
  [4;35;1mPost Destroy (0.2ms)[0m   [0mDELETE FROM `posts` WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'wW-5A0QmTOmMfSiSy7PI', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = '4HYUxaZb8OmXWS9hc9lo', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:08' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'OudiaKi5VE9vazzLj4xm', `sb_last_seen_at` = '2011-04-16 21:52:08', `current_login_at` = '2011-04-16 21:52:08', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#update (for 0.0.0.0 at 2011-04-16 14:52:08) [PUT]
  Parameters: {"post"=>{"title"=>nil}, "id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:08', `perishable_token` = 'YOsXSubDj8jUXiz412P-', `last_request_at` = '2011-04-16 21:52:08' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering posts/edit
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
Rendered categories/_tips (3.2ms)
Rendered shared/_box (0.6ms)
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'GTNXMEL34d2vkXQ5NZy5', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'YLtiZnGzmsFlYtQmbru_', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:09' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'PiPJ5caYKspOpRFbb54a', `sb_last_seen_at` = '2011-04-16 21:52:09', `current_login_at` = '2011-04-16 21:52:09', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#edit (for 0.0.0.0 at 2011-04-16 14:52:09) [GET]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'm7VdrRrdi2eB9WfVRblr', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
Rendering template within layouts/application
Rendering posts/edit
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
Rendered categories/_tips (0.2ms)
Rendered shared/_box (0.4ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = '5dfKTcuHHwQvfQQ_nLbq', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'UMjVwWfQJ-40qLmT-V1g', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing PostsController#featured (for 0.0.0.0 at 2011-04-16 14:52:09) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(DISTINCT posts.id) AS count_posts_id FROM `posts` LEFT OUTER JOIN `users` ON `users`.id = `posts`.user_id WHERE ((users.featured_writer = 1) AND (published_as = 'live')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PostsController#index (for 0.0.0.0 at 2011-04-16 14:52:09) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(posts.id) AS count_posts_id FROM `posts` WHERE (`posts`.user_id = 1) AND ((`posts`.user_id = 1) AND (published_as = 'live')) [0m
  [4;36;1mPost Load (0.6ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND (published_as = 'live') ORDER BY view_count DESC, published_at desc LIMIT 10[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PostsController#index to rss (for 0.0.0.0 at 2011-04-16 14:52:09) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(posts.id) AS count_posts_id FROM `posts` WHERE (`posts`.user_id = 1) AND ((`posts`.user_id = 1) AND (published_as = 'live')) [0m
  [4;35;1mPost Load (0.5ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND (published_as = 'live') ORDER BY view_count DESC, published_at desc LIMIT 10[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:09' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'uCzCgwLWikfAqfT1-uoV', `sb_last_seen_at` = '2011-04-16 21:52:09', `current_login_at` = '2011-04-16 21:52:09', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing PostsController#new (for 0.0.0.0 at 2011-04-16 14:52:09) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'TRptPQcioObc4Gj6jJa1', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendering template within layouts/application
Rendering posts/new
Rendered categories/_tips (0.4ms)
Rendered shared/_box (0.5ms)
Rendered shared/_box (0.4ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'y5J679SCP4oplNhTqz5p', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'rAEJ3BfVQLMcYr4aqjex', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing PostsController#popular (for 0.0.0.0 at 2011-04-16 14:52:09) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mPost Load (0.4ms)[0m   [0mSELECT * FROM `posts` WHERE ((posts.published_at > '2011-04-13 21:52:09') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 15[0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE ((posts.published_at > '2011-03-17 21:52:09') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 20[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id GROUP BY tags.id, tags.name[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PostsController#popular to rss (for 0.0.0.0 at 2011-04-16 14:52:09) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mPost Load (0.4ms)[0m   [0;1mSELECT * FROM `posts` WHERE ((posts.published_at > '2011-04-13 21:52:09') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 15[0m
  [4;35;1mPost Load (0.4ms)[0m   [0mSELECT * FROM `posts` WHERE ((posts.published_at > '2011-03-17 21:52:09') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 20[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id GROUP BY tags.id, tags.name[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PostsController#recent (for 0.0.0.0 at 2011-04-16 14:52:09) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(posts.id) AS count_posts_id FROM `posts` WHERE (published_as = 'live') [0m
  [4;36;1mClipping Load (0.2ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (created_at > '2011-04-09 21:52:09') ORDER BY created_at DESC LIMIT 15[0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (photos.created_at > '2011-04-09 21:51:27' AND photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing PostsController#recent to rss (for 0.0.0.0 at 2011-04-16 14:52:09) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(posts.id) AS count_posts_id FROM `posts` WHERE (published_as = 'live') [0m
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (created_at > '2011-04-09 21:52:09') ORDER BY created_at DESC LIMIT 15[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (photos.created_at > '2011-04-09 21:51:27' AND photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:09' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'pN60yySX2-6BTDHH4cIg', `sb_last_seen_at` = '2011-04-16 21:52:09', `current_login_at` = '2011-04-16 21:52:09', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` [0m


Processing PostsController#create (for 0.0.0.0 at 2011-04-16 14:52:09) [POST]
  Parameters: {"post"=>{"raw_post"=>"rawness"}, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = '2P5-Lzr70VsvGsR57FwY', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering posts/new
Rendered categories/_tips (0.4ms)
Rendered shared/_box (1.1ms)
Rendered shared/_box (0.4ms)
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'WN-eE5JZvXsGMO24hu1T', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = '23cCzeOmajM3ZHux0tjp', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:09' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'kovlmzH9EJ_HLiS4k7es', `sb_last_seen_at` = '2011-04-16 21:52:09', `current_login_at` = '2011-04-16 21:52:09', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` [0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#destroy (for 0.0.0.0 at 2011-04-16 14:52:09) [DELETE]
  Parameters: {"id"=>#<Post id: 1, created_at: "2011-04-11 21:51:29", updated_at: "2011-04-12 21:51:29", raw_post: "Seriously, how can you build a good group of people...", post: "Seriously, how can you build a good group of people...", title: "Building communities is all about love.", category_id: 1, user_id: 1, view_count: 0, contest_id: nil, emailed_count: 0, favorited_count: 0, published_as: "live", published_at: "2011-04-11 21:51:29">, "user_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'JTMb1YPH1Hu0_qrut_yQ', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mPost Load (0.5ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Redirected to http://test.host/sessions/new
Filter chain halted as [:require_ownership_or_moderator] rendered_or_redirected.
Completed in 19ms (DB: 9) | 302 Found [http://test.host/posts/destroy/1-building-communities-is-all-about-love?user_id=2]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'aVqN7xu8bO6fPFXk8abL', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = '37SypHXKFnEMz0l3jVZW', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing PostsController#index (for 0.0.0.0 at 2011-04-16 14:52:09) [GET]
  Parameters: {"user_id"=>"10"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:09' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'vxdgIEejTWDMn3ADGeSB', `sb_last_seen_at` = '2011-04-16 21:52:09', `current_login_at` = '2011-04-16 21:52:09', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#send_to_friend (for 0.0.0.0 at 2011-04-16 14:52:09) [POST]
  Parameters: {"id"=>"1-building-communities-is-all-about-love", "user_id"=>"1", "emails"=>"test_is_and_example.com, test2@example.com", "message"=>"you are great, friends"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:09', `perishable_token` = 'O8dgw9pKOyHAMLrXZC6F', `last_request_at` = '2011-04-16 21:52:09' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 907ms (View: 888, DB: 9) | 500 Internal Server Error [http://test.host/posts/send_to_friend/1-building-communities-is-all-about-love?emails=test_is_and_example.com%2C+test2%40example.com&message=you+are+great%2C+friends&user_id=1]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:10', `perishable_token` = 'eERp-8sblHgDzWrMbpkW', `last_request_at` = '2011-04-16 21:52:10' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:10', `perishable_token` = 'jEfZwwafwA_9cjOF-QPO', `last_request_at` = '2011-04-16 21:52:10' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing PostsController#show (for 0.0.0.0 at 2011-04-16 14:52:10) [GET]
  Parameters: {"id"=>"1", "user_id"=>"10"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:10' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:10', `perishable_token` = 'BcT1niSo7BteV8RHPgCh', `sb_last_seen_at` = '2011-04-16 21:52:10', `current_login_at` = '2011-04-16 21:52:10', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:10' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PostsController#manage (for 0.0.0.0 at 2011-04-16 14:52:10) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:51:29", updated_at: "2011-04-16 21:51:29", persistence_token: "43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc7...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:51:29", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "SkWBK8H6k4FupKHLyHvI", perishable_token: "B_wPJjKGFy4Z8tfjgiKq", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:10', `perishable_token` = 'ESqF_fnSnOPHYLseL1c4', `last_request_at` = '2011-04-16 21:52:10' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
Redirected to http://test.host/sessions/new
Filter chain halted as [:require_ownership_or_moderator] rendered_or_redirected.
Completed in 15ms (DB: 9) | 302 Found [http://test.host/posts/manage?user_id=quentin]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:10', `perishable_token` = 'kGqn6Ta4OaUAG8gOKIca', `last_request_at` = '2011-04-16 21:52:10' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = 'Io-2YLcDQhyN7kp7p5_V', `last_request_at` = '2011-04-16 21:52:10' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:11' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = '4TwRsPA_bPcJ1QIudKP-', `sb_last_seen_at` = '2011-04-16 21:52:11', `current_login_at` = '2011-04-16 21:52:11', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:11' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.1ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.1ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#send_to_friend (for 0.0.0.0 at 2011-04-16 14:52:11) [POST]
  Parameters: {"id"=>"1-building-communities-is-all-about-love", "user_id"=>"1", "emails"=>"test@example.com, test2@example.com", "message"=>"you are great, friends"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = 'Y2bAZBLgs5jvvsWdlV-V', `last_request_at` = '2011-04-16 21:52:11' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = 'fXnVmm5PzDFz6NWv1vkC', `last_request_at` = '2011-04-16 21:52:11' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = 'DUTSeHRbNvX7rRUy6SNu', `last_request_at` = '2011-04-16 21:52:11' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Update (0.3ms)[0m   [0;1mUPDATE `posts` SET `updated_at` = '2011-04-16 21:52:11', `published_as` = 'draft' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PostsController#show (for 0.0.0.0 at 2011-04-16 14:52:11) [GET]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PostsController#show (for 0.0.0.0 at 2011-04-16 14:52:11) [GET]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:11' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = 'qn_VJ4-pFpaLFBw0cTqd', `sb_last_seen_at` = '2011-04-16 21:52:11', `current_login_at` = '2011-04-16 21:52:11', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:11' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#send_to_friend (for 0.0.0.0 at 2011-04-16 14:52:11) [POST]
  Parameters: {"id"=>"1-building-communities-is-all-about-love", "user_id"=>"1", "emails"=>"test@example.com, test2@example.com", "message"=>"you are great, friends"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = 'PbT01sMTVi_GqJ3vXVjA', `last_request_at` = '2011-04-16 21:52:11' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = 'ktPB-8RAUuSoPv8TFBee', `last_request_at` = '2011-04-16 21:52:11' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = 'anbo44fXDnZ8G4_AgaiB', `last_request_at` = '2011-04-16 21:52:11' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:11' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = 'lmDhxNTEVsT1NyVkLV_Y', `sb_last_seen_at` = '2011-04-16 21:52:11', `current_login_at` = '2011-04-16 21:52:11', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:11' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#update (for 0.0.0.0 at 2011-04-16 14:52:11) [PUT]
  Parameters: {"post"=>{"title"=>"changed_name"}, "id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = '7cDjAkMcqSEk1ECIYBc1', `last_request_at` = '2011-04-16 21:52:11' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.1ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Update (0.3ms)[0m   [0;1mUPDATE `posts` SET `updated_at` = '2011-04-16 21:52:11', `title` = 'changed_name' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 1) LIMIT 1[0m
  [4;35;1mActivity Create (0.1ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:11', 'post', 1, 1, 'Post')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = 'yWt8DWm-at4jm9yORbH6', `activities_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = 'd8VdvnLteZFGsPIJW2UZ', `last_request_at` = '2011-04-16 21:52:11' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:11', `perishable_token` = 'n6OHqIWhhu7gM-JhuncO', `last_request_at` = '2011-04-16 21:52:11' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#update_views (for 0.0.0.0 at 2011-04-16 14:52:11) [PUT]
  Parameters: {"id"=>#<Post id: 1, created_at: "2011-04-11 21:51:29", updated_at: "2011-04-12 21:51:29", raw_post: "Seriously, how can you build a good group of people...", post: "Seriously, how can you build a good group of people...", title: "Building communities is all about love.", category_id: 1, user_id: 1, view_count: 0, contest_id: nil, emailed_count: 0, favorited_count: 0, published_as: "live", published_at: "2011-04-11 21:51:29">, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mPost Update (0.3ms)[0m   [0;1mUPDATE `posts` SET `view_count` = COALESCE(`view_count`, 0) + 1 WHERE (`id` = 1) [0m
Completed in 900ms (View: 895, DB: 35) | 200 OK [http://test.host/posts/update_views/1-building-communities-is-all-about-love?user_id=1]
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 6) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 6) [0m
  [4;35;1mRsvp Load (0.1ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 6) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.1ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.1ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.1ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.1ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.1ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.1ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.1ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:12' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:12', `perishable_token` = '260yv3yxnDCMeOrqRy-V', `sb_last_seen_at` = '2011-04-16 21:52:12', `current_login_at` = '2011-04-16 21:52:12', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:12' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m


Processing RsvpsController#create (for 0.0.0.0 at 2011-04-16 14:52:12) [POST]
  Parameters: {"event_id"=>"3", "rsvp"=>{"attendees_count"=>1}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:12', `perishable_token` = 'hTEJ7_haYK8ptJqt1v6b', `last_request_at` = '2011-04-16 21:52:12' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 3) [0m
  [4;36;1mRsvp Load (0.2ms)[0m   [0;1mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 3) LIMIT 1[0m
  [4;35;1mRsvp Create (0.3ms)[0m   [0mINSERT INTO `rsvps` (`attendees_count`, `created_at`, `event_id`, `updated_at`, `user_id`) VALUES(1, '2011-04-16 21:52:12', 3, '2011-04-16 21:52:12', 1)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:12', 'rsvp', 1, 2, 'Rsvp')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:12', `perishable_token` = '2Tijv33HU0lsPENbF1Cn', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:12', `perishable_token` = 't6Uv2TMn2M9gC4keHuyr', `last_request_at` = '2011-04-16 21:52:12' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:12', `perishable_token` = 'jOpCwumNKLFszyvyMECU', `last_request_at` = '2011-04-16 21:52:12' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:12' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:12', `perishable_token` = 'o4LCBIm6OVx9ttNj_2q1', `sb_last_seen_at` = '2011-04-16 21:52:12', `current_login_at` = '2011-04-16 21:52:12', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:12' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m


Processing RsvpsController#destroy (for 0.0.0.0 at 2011-04-16 14:52:12) [DELETE]
  Parameters: {"event_id"=>"2", "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:12', `perishable_token` = '9gp1vmsNNu6_-OinvFp3', `last_request_at` = '2011-04-16 21:52:12' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mRsvp Load (0.2ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.`id` = 1 AND (`rsvps`.event_id = 2)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Rsvp') [0m
  [4;36;1mRsvp Destroy (0.1ms)[0m   [0;1mDELETE FROM `rsvps` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:12', `perishable_token` = 'cj2UG72ZNjQk_bo2lPmS', `last_request_at` = '2011-04-16 21:52:12' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:12', `perishable_token` = 'LoTSWRfSRcX7PEV5SILQ', `last_request_at` = '2011-04-16 21:52:12' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:12' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:12', `perishable_token` = 'hAuTM9YTWH3zTBNh9vCw', `sb_last_seen_at` = '2011-04-16 21:52:12', `current_login_at` = '2011-04-16 21:52:12', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:12' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m


Processing RsvpsController#create (for 0.0.0.0 at 2011-04-16 14:52:12) [POST]
  Parameters: {"event_id"=>"2", "rsvp"=>{}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:12', `perishable_token` = 'uI8e0q6KjDGpf9ncBdYE', `last_request_at` = '2011-04-16 21:52:12' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mRsvp Load (0.2ms)[0m   [0;1mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering rsvps/new
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'hlPxq3VBx-jFZohAH1cY', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = '10dVWlekdzBh69GSnJu3', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:13' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'Ow--kV3PCxoG96xUSPow', `sb_last_seen_at` = '2011-04-16 21:52:13', `current_login_at` = '2011-04-16 21:52:13', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.3ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m


Processing RsvpsController#create (for 0.0.0.0 at 2011-04-16 14:52:13) [POST]
  Parameters: {"event_id"=>"6", "rsvp"=>{"attendees_count"=>1}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'DGpS5sEhPYm_m9GF3XrD', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 6) [0m
  [4;36;1mRsvp Load (0.2ms)[0m   [0;1mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 6) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering rsvps/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = '6VRRkDjak9cgvsGiClo6', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'FfGBQhjxk9TmM6X4y2QY', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:13' WHERE (id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'gyyjvRnkzUDM_OjR1--Y', `sb_last_seen_at` = '2011-04-16 21:52:13', `current_login_at` = '2011-04-16 21:52:13', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m


Processing RsvpsController#create (for 0.0.0.0 at 2011-04-16 14:52:13) [POST]
  Parameters: {"event_id"=>"1", "rsvp"=>{"attendees_count"=>1}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'SA9fgZayFYowCRXe58y2', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;36;1mRsvp Load (0.2ms)[0m   [0;1mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering rsvps/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'RaLOZCCSxgkmUeijE0mH', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'DV8XcscgQjboryArOCd-', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:13' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'EBZsvsY8wpWa3lDVWJ2O', `sb_last_seen_at` = '2011-04-16 21:52:13', `current_login_at` = '2011-04-16 21:52:13', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m


Processing RsvpsController#create (for 0.0.0.0 at 2011-04-16 14:52:13) [POST]
  Parameters: {"event_id"=>"2", "rsvp"=>{"attendees_count"=>1}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = '0vawFTsmwdqmWterLGRI', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mRsvp Load (0.2ms)[0m   [0;1mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering rsvps/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'H1CezY2LCntj9UwLDsOT', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'rxtt9p1ijatJZ-yltnGY', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:13' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'lXnyus-i-SyksJt0apbG', `sb_last_seen_at` = '2011-04-16 21:52:13', `current_login_at` = '2011-04-16 21:52:13', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing RsvpsController#update (for 0.0.0.0 at 2011-04-16 14:52:13) [PUT]
  Parameters: {"event_id"=>"2", "id"=>"1", "rsvp"=>{"attendees_count"=>nil}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'gpD3QnqC6hn-QiPGERoU', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.2ms)[0m   [0mSELECT * FROM `rsvps` WHERE (`rsvps`.`id` = 1 AND (`rsvps`.event_id = 2)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.2ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2 AND `rsvps`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering rsvps/edit
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'qjIGtgeBFzpxq_dKnPTD', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:13', `perishable_token` = 'YHY8kQWBv2ILJCj-bKSa', `last_request_at` = '2011-04-16 21:52:13' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:14' WHERE (id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = '_KR2hoY12N9qWZcC_1-l', `sb_last_seen_at` = '2011-04-16 21:52:14', `current_login_at` = '2011-04-16 21:52:14', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing RsvpsController#update (for 0.0.0.0 at 2011-04-16 14:52:14) [PUT]
  Parameters: {"event_id"=>"2", "id"=>"1", "rsvp"=>{"attendees_count"=>"3"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'VXvf_zjkRRwyjYnCbvbw', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.2ms)[0m   [0mSELECT * FROM `rsvps` WHERE (`rsvps`.`id` = 1 AND (`rsvps`.event_id = 2)) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'NvOTdiKNcVBv7r32kBNv', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'CBrILFScSreKoo8dDQTQ', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:14' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'ASnJ1Fo9Y0OsGCF2-zJk', `sb_last_seen_at` = '2011-04-16 21:52:14', `current_login_at` = '2011-04-16 21:52:14', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.3ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing RsvpsController#edit (for 0.0.0.0 at 2011-04-16 14:52:14) [GET]
  Parameters: {"event_id"=>"2", "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = '1NFAbbAmtoYrFhtO2lvp', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mRsvp Load (0.1ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.`id` = 1 AND (`rsvps`.event_id = 2)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering rsvps/edit
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'RBo4ykFlczXEngyTSFRO', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'fqjs1_cMzxzpV0-I0bLj', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:14' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'ehXVbqU3rCu_yBsz7uRM', `sb_last_seen_at` = '2011-04-16 21:52:14', `current_login_at` = '2011-04-16 21:52:14', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing RsvpsController#new (for 0.0.0.0 at 2011-04-16 14:52:14) [GET]
  Parameters: {"event_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'cJqpNy6mIPPDaNUa9XUH', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
Rendering template within layouts/application
Rendering rsvps/new
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = '4wdsc7f72u0Bw761iCYB', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'bvvbF8gfwSYOZTfN6LCd', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:14' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = '7jWRF05wyxfzOS7sipEC', `sb_last_seen_at` = '2011-04-16 21:52:14', `current_login_at` = '2011-04-16 21:52:14', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'da_8vcNJ2wFhMHiXm5gD', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'VbeOwNQZ-hrLJt8UaAEc', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:14' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'o9g-4pawRVz-xbcZqteB', `sb_last_seen_at` = '2011-04-16 21:52:14', `current_login_at` = '2011-04-16 21:52:14', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing RsvpsController#update (for 0.0.0.0 at 2011-04-16 14:52:14) [PUT]
  Parameters: {"event_id"=>"2", "id"=>"1", "rsvp"=>{"attendees_count"=>"3"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'SJhbV4jMqbjULlOX5IsH', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.2ms)[0m   [0mSELECT * FROM `rsvps` WHERE (`rsvps`.`id` = 1 AND (`rsvps`.event_id = 2)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.2ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2 AND `rsvps`.id <> 1) LIMIT 1[0m
  [4;36;1mRsvp Update (0.2ms)[0m   [0;1mUPDATE `rsvps` SET `updated_at` = '2011-04-16 21:52:14', `attendees_count` = 3 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'Txf8xlCWgGdeQOfTqNrc', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'XLVRD-HkVEM_auinYEfL', `last_request_at` = '2011-04-16 21:52:14' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.3ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTopic Load (0.3ms)[0m   [0;1mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE (`topics`.`id` = 4) AND ((`monitorships`.user_id = 2) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mSbPost Create (0.2ms)[0m   [0mINSERT INTO `sb_posts` (`created_at`, `body_html`, `body`, `updated_at`, `forum_id`, `user_id`, `topic_id`) VALUES('2011-04-16 21:52:14', 'blah', 'blah', '2011-04-16 21:52:14', 1, 2, 4)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:14', 'sb_post', 2, 11, 'SbPost')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'pd3RvCO04arqJblxX9NY', `activities_count` = 1 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 4) [0m
  [4;35;1mTopic Update (0.3ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-16 21:52:14', replied_by = 2, last_post_id = 11 WHERE (id = 4) [0m
  [4;36;1mMonitorship Load (0.1ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 4) LIMIT 1[0m
  [4;35;1mMonitorship Create (0.1ms)[0m   [0mINSERT INTO `monitorships` (`user_id`, `topic_id`, `active`) VALUES(2, 4, 1)[0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE (`topics`.`id` = 4) AND ((`monitorships`.user_id = 2) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 9) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 2 AND `taggings`.taggable_type = 'User') [0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.1ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 3[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.2ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 6[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE (`messages`.sender_id = 2 AND (sender_deleted = 0)) ORDER BY created_at DESC[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE (`messages`.recipient_id = 2 AND (recipient_deleted = 0)) ORDER BY created_at DESC[0m
  [4;35;1mMessage Destroy (0.1ms)[0m   [0mDELETE FROM `messages` WHERE `id` = 1[0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.user_id = 2) AND (published_as = 'live') ORDER BY published_at desc[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 3 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Comment') [0m
  [4;35;1mComment Destroy (0.2ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 5[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 3) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mTagging Load (0.4ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 3 AND `taggings`.taggable_type = 'Post') [0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'Post') [0m
  [4;36;1mPoll Load (0.2ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 3) [0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 3 AND `favorites`.favoritable_type = 'Post') [0m
  [4;36;1mPost Destroy (0.2ms)[0m   [0;1mDELETE FROM `posts` WHERE `id` = 3[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 3) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 4 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 4 AND `taggings`.taggable_type = 'Post') [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Post') [0m
  [4;35;1mPoll Load (0.1ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 4) [0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 4 AND `favorites`.favoritable_type = 'Post') [0m
  [4;35;1mPost Destroy (0.2ms)[0m   [0mDELETE FROM `posts` WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.user_id = 2) ORDER BY created_at desc[0m
  [4;36;1mInvitation Load (0.1ms)[0m   [0;1mSELECT * FROM `invitations` WHERE (`invitations`.user_id = 2) [0m
  [4;35;1mOffering Load (0.2ms)[0m   [0mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 2) [0m
  [4;36;1mRsvp Load (0.2ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.user_id = 2) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2) [0m
  [4;36;1mFriendship Destroy (0.2ms)[0m   [0;1mDELETE FROM `friendships` WHERE `id` = 2[0m
  [4;35;1mFriendship Load (0.3ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2 AND (initiator = 1)) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2 AND (initiator = 0)) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.friend_id = 2) [0m
  [4;36;1mFriendship Destroy (0.2ms)[0m   [0;1mDELETE FROM `friendships` WHERE `id` = 1[0m
  [4;35;1mModeratorship Load (0.2ms)[0m   [0mSELECT * FROM `moderatorships` WHERE (`moderatorships`.user_id = 2) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.user_id = 2) [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.1ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 1[0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-14 21:51:47', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;36;1mActivity Load (0.1ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.1ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 3[0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-13 21:51:47', replied_by = 11, last_post_id = 2 WHERE (id = 1) [0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mForum Update (0.1ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 6) [0m
  [4;36;1mSbPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 6[0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-16 20:39:47', replied_by = 11, last_post_id = 7 WHERE (id = 6) [0m
  [4;36;1mActivity Load (0.1ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 9 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mForum Update (0.1ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 7) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 9[0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mSbPost Load (0.1ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 7) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-16 20:51:47', replied_by = 11, last_post_id = 8 WHERE (id = 7) [0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 10 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.1ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 8) [0m
  [4;36;1mSbPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 10[0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.user_id = 2) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Topic') [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Topic') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.2ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Destroy (0.3ms)[0m   [0mDELETE FROM `topics` WHERE `id` = 1[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Topic') [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 5 AND `taggings`.taggable_type = 'Topic') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.3ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 5) [0m
  [4;36;1mSbPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 5[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Destroy (0.2ms)[0m   [0mDELETE FROM `topics` WHERE `id` = 5[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'Topic') [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 6 AND `taggings`.taggable_type = 'Topic') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 7 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 6) [0m
  [4;36;1mSbPost Destroy (0.2ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 7[0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Destroy (0.2ms)[0m   [0mDELETE FROM `topics` WHERE `id` = 6[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 8 AND `activities`.item_type = 'Topic') [0m
  [4;35;1mTagging Load (0.3ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 8 AND `taggings`.taggable_type = 'Topic') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Load (0.1ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at[0m
  [4;35;1mTopic Destroy (0.1ms)[0m   [0mDELETE FROM `topics` WHERE `id` = 8[0m
  [4;36;1mMonitorship Load (0.1ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.user_id = 2) [0m
  [4;35;1mMonitorship Destroy (0.1ms)[0m   [0mDELETE FROM `monitorships` WHERE `id` = 1[0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.user_id = 2) ORDER BY created_at desc[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.2ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.recipient_id = 2) ORDER BY created_at desc[0m
  [4;36;1mClipping Load (0.2ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 2) ORDER BY created_at desc[0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.user_id = 2) ORDER BY created_at desc[0m
  [4;36;1mUser Destroy (0.2ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 2[0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`user_id` = 2) [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSbPost Load (0.1ms)[0m   [0;1mSELECT `sb_posts`.id FROM `sb_posts` WHERE (`sb_posts`.`id` = 9) LIMIT 1[0m
  [4;35;1mSQL (1.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Create (0.2ms)[0m   [0mINSERT INTO `sb_posts` (`created_at`, `body_html`, `body`, `updated_at`, `forum_id`, `user_id`, `topic_id`) VALUES('2011-04-16 21:52:14', 'blah', 'blah', '2011-04-16 21:52:14', 1, 2, 1)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:14', 'sb_post', 2, 12, 'SbPost')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = '0Uau2LU0VCD3D3e6zISp', `activities_count` = 1 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mTopic Update (0.3ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-16 21:52:14', replied_by = 2, last_post_id = 12 WHERE (id = 1) [0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;35;1mMonitorship Load (0.2ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Create (0.3ms)[0m   [0;1mINSERT INTO `sb_posts` (`created_at`, `body_html`, `body`, `updated_at`, `forum_id`, `user_id`, `topic_id`) VALUES('2011-04-16 21:52:14', 'blah', 'blah', '2011-04-16 21:52:14', 1, 2, 1)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:14', 'sb_post', 2, 13, 'SbPost')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:14', `perishable_token` = 'wJIufzdAGe9j-V9dKr7H', `activities_count` = 1 WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-16 21:52:14', replied_by = 2, last_post_id = 13 WHERE (id = 1) [0m
  [4;35;1mMonitorship Load (0.1ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;36;1mMonitorship Load (0.1ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.1ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.2ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 3[0m
  [4;35;1mTopic Load (0.3ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.3ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.3ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-13 21:51:47', replied_by = 11, last_post_id = 2 WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-14 21:51:47', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 8) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 8) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSbPost Load (0.1ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 9) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 2) AND (`moderatorships`.user_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Create (0.2ms)[0m   [0;1mINSERT INTO `sb_posts` (`created_at`, `body_html`, `body`, `updated_at`, `forum_id`, `user_id`, `topic_id`) VALUES('2011-04-16 21:52:15', 'foo', 'foo', '2011-04-16 21:52:15', 1, 2, 1)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:15', 'sb_post', 2, 14, 'SbPost')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'IKL22iHv6aQ8ZhqBpb7s', `activities_count` = 1 WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-16 21:52:15', replied_by = 2, last_post_id = 14 WHERE (id = 1) [0m
  [4;35;1mMonitorship Load (0.2ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;36;1mMonitorship Load (0.1ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.3ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.1ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;35;1mSbPost Load (0.1ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Create (0.2ms)[0m   [0;1mINSERT INTO `sb_posts` (`created_at`, `body_html`, `body`, `updated_at`, `forum_id`, `user_id`, `topic_id`) VALUES('2011-04-16 21:52:15', 'ok, ill get right on it', 'ok, ill get right on it', '2011-04-16 21:52:15', 1, 2, 1)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:15', 'sb_post', 2, 15, 'SbPost')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'bt9I1-NygaKalnsXG-9q', `activities_count` = 1 WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-16 21:52:15', replied_by = 2, last_post_id = 15 WHERE (id = 1) [0m
  [4;35;1mMonitorship Load (0.2ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;36;1mMonitorship Load (0.3ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 9) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:15' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `login_slug` = 'administrator', `perishable_token` = 'H0ieHQxYznhzJ75j8ICX', `sb_last_seen_at` = '2011-04-16 21:52:15', `current_login_at` = '2011-04-16 21:52:15', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m


Processing SbPostsController#update (for 0.0.0.0 at 2011-04-16 14:52:15) [PUT]
  Parameters: {"post"=>{}, "id"=>"3", "forum_id"=>"1-rails", "topic_id"=>"1-pdi-this"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSbPost Load (0.3ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`forum_id` = 1 AND `sb_posts`.`id` = 3 AND `sb_posts`.`topic_id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'LLT08uhYEa9EOGcfgipi', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'RTOWplwsXtAUC5uGOUCR', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'oaCdCF037VHN-BhmCtd-', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:15' WHERE (id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'R0b5pOuueU1m6W7zSP4x', `sb_last_seen_at` = '2011-04-16 21:52:15', `current_login_at` = '2011-04-16 21:52:15', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m


Processing SbPostsController#update (for 0.0.0.0 at 2011-04-16 14:52:15) [PUT]
  Parameters: {"post"=>{}, "id"=>"3", "forum_id"=>"1-rails", "topic_id"=>"1-pdi-this"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSbPost Load (0.3ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`forum_id` = 1 AND `sb_posts`.`id` = 3 AND `sb_posts`.`topic_id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'oQ9dE31xOG8NmwnGIEAi', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'j8dXW1R2rysjKAUAGDS7', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = '0w2B9bIJuTKKh6shaD9v', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:15' WHERE (id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'Is0SzvdwTUl79e1T5R1g', `sb_last_seen_at` = '2011-04-16 21:52:15', `current_login_at` = '2011-04-16 21:52:15', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.3ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 7) [0m


Processing SbPostsController#update (for 0.0.0.0 at 2011-04-16 14:52:15) [PUT]
  Parameters: {"post"=>{}, "id"=>"7", "forum_id"=>"2-comics", "topic_id"=>"6-galactus-is-coming"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`forum_id` = 2 AND `sb_posts`.`id` = 7 AND `sb_posts`.`topic_id` = 6) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'lOOKGUdAqd1XoxNgBu5e', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'rrEG53B_gLFgtuO6Gtak', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'bWG5VvwiAFyKV65_Yipq', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:15' WHERE (id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'NBPEVlvd8mQToWsDsF0v', `sb_last_seen_at` = '2011-04-16 21:52:15', `current_login_at` = '2011-04-16 21:52:15', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 6) [0m


Processing SbPostsController#update (for 0.0.0.0 at 2011-04-16 14:52:15) [PUT]
  Parameters: {"post"=>{}, "id"=>"6", "forum_id"=>"2-comics", "topic_id"=>"6-galactus-is-coming"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSbPost Load (0.3ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`forum_id` = 2 AND `sb_posts`.`id` = 6 AND `sb_posts`.`topic_id` = 6) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'vpfgR4MtMQWWIAU5to9j', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 2) AND (`moderatorships`.user_id = 11) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'rVLaayk__kU4QNSL3YoM', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'DAtUOGaHxrEAg-PZ2lGi', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:15' WHERE (id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'gM85D2E6mMjnQYpBFE5b', `sb_last_seen_at` = '2011-04-16 21:52:15', `current_login_at` = '2011-04-16 21:52:15', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.1ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m


Processing SbPostsController#update (for 0.0.0.0 at 2011-04-16 14:52:15) [PUT]
  Parameters: {"post"=>{"user_id"=>32}, "id"=>"2", "forum_id"=>"1-rails", "topic_id"=>"1-pdi-this"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`forum_id` = 1 AND `sb_posts`.`id` = 2 AND `sb_posts`.`topic_id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = '3Kg2FGhqjaA1xwJuAif4', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: user_id
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Update (0.2ms)[0m   [0mUPDATE `sb_posts` SET `updated_at` = '2011-04-16 21:52:15', `body_html` = 'what? pdi' WHERE `id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'TRBwd62Ae-io7aI-WE7L', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = '_fo5qMGiwv41wEsAnHsr', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET `locked` = 1, `updated_at` = '2011-04-16 21:52:15' WHERE `id` = 6[0m
  [4;36;1mSbPost Update (0.2ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 2 WHERE (topic_id = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:15' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'YvyvwLIk1u0QXWXANmHt', `sb_last_seen_at` = '2011-04-16 21:52:15', `current_login_at` = '2011-04-16 21:52:15', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m


Processing SbPostsController#create (for 0.0.0.0 at 2011-04-16 14:52:15) [POST]
  Parameters: {"post"=>{"body"=>"blah"}, "forum_id"=>"2-comics", "topic_id"=>"6-galactus-is-coming"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'zPARG37uqy8iJJV8goIq', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.3ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`forum_id` = 2 AND `topics`.`id` = 6) LIMIT 1[0m
  [4;35;1mForum Load (0.3ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:15', `perishable_token` = 'fnAcUZn80aN2VIkx48fS', `last_request_at` = '2011-04-16 21:52:15' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = '2ptS7vv5P2Y0psmFUXSA', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:16' WHERE (id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'hJOWBr0YD4mhUpOLYEk4', `sb_last_seen_at` = '2011-04-16 21:52:16', `current_login_at` = '2011-04-16 21:52:16', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 7) [0m


Processing SbPostsController#edit to js (for 0.0.0.0 at 2011-04-16 14:52:16) [GET]
  Parameters: {"id"=>"7", "forum_id"=>"2-comics", "topic_id"=>"6-galactus-is-coming"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`forum_id` = 2 AND `sb_posts`.`id` = 7 AND `sb_posts`.`topic_id` = 6) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'Z2XSkbq6iflHWibqBUJ9', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering sb_posts/edit
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'HXLmjCnyC6eTyPIkUA1z', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'WXIKIDUV_2S6nE-sSngb', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:16' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'EGMJdHhchhEPlwN5s-er', `sb_last_seen_at` = '2011-04-16 21:52:16', `current_login_at` = '2011-04-16 21:52:16', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing SbPostsController#create (for 0.0.0.0 at 2011-04-16 14:52:16) [POST]
  Parameters: {"post"=>{"body"=>"blah"}, "forum_id"=>"1-rails", "topic_id"=>"1-pdi-this"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'WPAYfDFXjA-7sNV4I4EO', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`forum_id` = 1 AND `topics`.`id` = 1) LIMIT 1[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Create (0.2ms)[0m   [0mINSERT INTO `sb_posts` (`created_at`, `body_html`, `body`, `updated_at`, `forum_id`, `user_id`, `topic_id`) VALUES('2011-04-16 21:52:16', 'blah', 'blah', '2011-04-16 21:52:16', 1, 2, 1)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:16', 'sb_post', 2, 16, 'SbPost')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'lH4m95KMj5ryUMcEFORk', `activities_count` = 1 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-16 21:52:16', replied_by = 2, last_post_id = 16 WHERE (id = 1) [0m
  [4;36;1mMonitorship Load (0.1ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;35;1mMonitorship Load (0.1ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'uwDDNl0R6g04RSeFxq-K', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'KdQaCXtpoy5fidCJ2XPd', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:16' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `login_slug` = 'administrator', `perishable_token` = 'Kv-I2T8JO-cw9-Yhktv1', `sb_last_seen_at` = '2011-04-16 21:52:16', `current_login_at` = '2011-04-16 21:52:16', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m


Processing SbPostsController#destroy (for 0.0.0.0 at 2011-04-16 14:52:16) [DELETE]
  Parameters: {"id"=>"2", "forum_id"=>"1-rails", "topic_id"=>"1-pdi-this"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`forum_id` = 1 AND `sb_posts`.`id` = 2 AND `sb_posts`.`topic_id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'PfUZZmU-8zrwaSedzYIW', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Load (0.1ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.1ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;36;1mTopic Load (0.4ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.3ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.3ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-14 21:51:47', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'qIiXRAvgpIzQEKqIXaZJ', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'WHjI3koOlq0xuOTN9EKm', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:16' WHERE (id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = '4PHZMXLmcFPXjwMmKgZ1', `sb_last_seen_at` = '2011-04-16 21:52:16', `current_login_at` = '2011-04-16 21:52:16', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m


Processing SbPostsController#destroy (for 0.0.0.0 at 2011-04-16 14:52:16) [DELETE]
  Parameters: {"id"=>"3", "forum_id"=>"1-rails", "topic_id"=>"1-pdi-this"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`forum_id` = 1 AND `sb_posts`.`id` = 3 AND `sb_posts`.`topic_id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'cWU-61UcnomeiwzPMg5u', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 3[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-13 21:51:47', replied_by = 11, last_post_id = 2 WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = '98yoE9-eMN9DNs389UWR', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'eiWRR1edwMkF4pN3Yywy', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `topics` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:16' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'nL8z-eLGASAwnvwmYA2t', `sb_last_seen_at` = '2011-04-16 21:52:16', `current_login_at` = '2011-04-16 21:52:16', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.3ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 10) [0m


Processing SbPostsController#destroy (for 0.0.0.0 at 2011-04-16 14:52:16) [DELETE]
  Parameters: {"id"=>"10", "forum_id"=>"1-rails", "topic_id"=>"8-il8n-in-rails"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSbPost Load (0.4ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`forum_id` = 1 AND `sb_posts`.`id` = 10 AND `sb_posts`.`topic_id` = 8) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = '6oQiV43tBHRiYz8gffdu', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Load (0.1ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 10 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.1ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 8) [0m
  [4;35;1mSbPost Destroy (0.2ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 10[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 8 AND `activities`.item_type = 'Topic') [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 8 AND `taggings`.taggable_type = 'Topic') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at[0m
  [4;35;1mTopic Destroy (0.2ms)[0m   [0mDELETE FROM `topics` WHERE `id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'PkMTbcd2hhmARJCNcC44', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'PCtZpiI2DED7VDLZnrJ_', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:16' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'NFx5HdZPukWyUrIL3Jud', `sb_last_seen_at` = '2011-04-16 21:52:16', `current_login_at` = '2011-04-16 21:52:16', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.1ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 1) [0m


Processing SbPostsController#create (for 0.0.0.0 at 2011-04-16 14:52:16) [POST]
  Parameters: {"post"=>{}, "forum_id"=>"1-rails", "topic_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'CtWep3b_V32wLo-bwMTJ', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`forum_id` = 1 AND `topics`.`id` = 1) LIMIT 1[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = '8eo37S5mSaGK9Pw2Y97Y', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = '75-OBCN8g_tFrLOs22El', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m


Processing SbPostsController#search (for 0.0.0.0 at 2011-04-16 14:52:16) [GET]
  Parameters: {"forum_id"=>"2-comics", "q"=>"galactus"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%galactus%') [0m
  [4;36;1mSbPost Load (2.1ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%galactus%') ORDER BY sb_posts.created_at desc LIMIT 0, 2[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT distinct * FROM `users` WHERE (id in (11,2)) [0m
Rendering template within layouts/application
Rendering sb_posts/index
  [4;36;1mForum Load (0.4ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing SbPostsController#search (for 0.0.0.0 at 2011-04-16 14:52:16) [GET]
  Parameters: {"q"=>"pdi"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%pdi%') [0m
  [4;36;1mSbPost Load (2.6ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%pdi%') ORDER BY sb_posts.created_at desc LIMIT 0, 3[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT distinct * FROM `users` WHERE (id in (2,11)) [0m
Rendering template within layouts/application
Rendering sb_posts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.3ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:16' WHERE (id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'K47YXnLLWmVCxSBIiQQe', `sb_last_seen_at` = '2011-04-16 21:52:16', `current_login_at` = '2011-04-16 21:52:16', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m


Processing SbPostsController#create (for 0.0.0.0 at 2011-04-16 14:52:16) [POST]
  Parameters: {"post"=>{"body"=>"blah"}, "forum_id"=>"1-rails", "topic_id"=>"1-pdi-this"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:16', `perishable_token` = 'nRwltCKnj_5oBmIxL7x2', `last_request_at` = '2011-04-16 21:52:16' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`forum_id` = 1 AND `topics`.`id` = 1) LIMIT 1[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Create (0.2ms)[0m   [0mINSERT INTO `sb_posts` (`created_at`, `body_html`, `body`, `updated_at`, `forum_id`, `user_id`, `topic_id`) VALUES('2011-04-16 21:52:16', 'blah', 'blah', '2011-04-16 21:52:16', 1, 2, 1)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:16', 'sb_post', 2, 17, 'SbPost')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:17', `perishable_token` = 'i_Bf8YUaVynnhyAgez7I', `activities_count` = 1 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mForum Load (0.3ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mTopic Update (0.3ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-16 21:52:16', replied_by = 2, last_post_id = 17 WHERE (id = 1) [0m
  [4;36;1mMonitorship Load (0.3ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;35;1mMonitorship Load (0.3ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:17', `perishable_token` = '31gxZ2GagjM-hTDoIE3e', `last_request_at` = '2011-04-16 21:52:17' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:17', `perishable_token` = 'hvXu5hVyCyMXAXeDdBXK', `last_request_at` = '2011-04-16 21:52:17' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing SbPostsController#monitored (for 0.0.0.0 at 2011-04-16 14:52:17) [GET]
  Parameters: {"user_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id INNER JOIN monitorships ON monitorships.topic_id = topics.id WHERE (monitorships.user_id = '2' AND sb_posts.user_id != 2) [0m
Rendering template within layouts/application
Rendering sb_posts/monitored
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mForum Load (0.3ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m


Processing SbPostsController#index (for 0.0.0.0 at 2011-04-16 14:52:17) [GET]
  Parameters: {"forum_id"=>"2-comics"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) [0m
  [4;35;1mSbPost Load (1.8ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) ORDER BY sb_posts.created_at desc LIMIT 0, 4[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT distinct * FROM `users` WHERE (id in (2,11)) [0m
Rendering template within layouts/application
Rendering sb_posts/index
  [4;35;1mForum Load (0.3ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m


Processing SbPostsController#index to rss (for 0.0.0.0 at 2011-04-16 14:52:17) [GET]
  Parameters: {"forum_id"=>"2-comics"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) [0m
  [4;36;1mSbPost Load (2.2ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) ORDER BY sb_posts.created_at desc LIMIT 0, 4[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT distinct * FROM `users` WHERE (id in (2,11)) [0m
Rendering sb_posts/index
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m


Processing SbPostsController#index (for 0.0.0.0 at 2011-04-16 14:52:17) [GET]
  Parameters: {"user_id"=>"11"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) [0m
  [4;35;1mSbPost Load (2.1ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) ORDER BY sb_posts.created_at desc LIMIT 0, 5[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT distinct * FROM `users` WHERE (id in (11)) [0m
Rendering template within layouts/application
Rendering sb_posts/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m


Processing SbPostsController#index to rss (for 0.0.0.0 at 2011-04-16 14:52:17) [GET]
  Parameters: {"user_id"=>"11"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) [0m
  [4;36;1mSbPost Load (2.4ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) ORDER BY sb_posts.created_at desc LIMIT 0, 5[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT distinct * FROM `users` WHERE (id in (11)) [0m
Rendering sb_posts/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing SbPostsController#index (for 0.0.0.0 at 2011-04-16 14:52:17) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id [0m
  [4;36;1mSbPost Load (2.3ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT distinct * FROM `users` WHERE (id in (2,11)) [0m
Rendering template within layouts/application
Rendering sb_posts/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing SbPostsController#index to rss (for 0.0.0.0 at 2011-04-16 14:52:17) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id [0m
  [4;35;1mSbPost Load (2.3ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT distinct * FROM `users` WHERE (id in (2,11)) [0m
Rendering sb_posts/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:17' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:17', `perishable_token` = '_v0spj-W_OHzwLnwzDb-', `sb_last_seen_at` = '2011-04-16 21:52:17', `current_login_at` = '2011-04-16 21:52:17', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:17' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing SessionsController#destroy (for 0.0.0.0 at 2011-04-16 14:52:17) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:17', `perishable_token` = 'umQILvMU0r-zODC4dMwY', `last_request_at` = '2011-04-16 21:52:17' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'invalid_token') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'invalid_token') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing SessionsController#create (for 0.0.0.0 at 2011-04-16 14:52:17) [POST]
  Parameters: {"login"=>"quentin", "password"=>"bad password"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.login) = 'quentin') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `failed_login_count` = 1, `updated_at` = '2011-04-16 21:52:17', `perishable_token` = '6vqc-o9BzwSs1nT6_o1e' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.1ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering sessions/new
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing SessionsController#create (for 0.0.0.0 at 2011-04-16 14:52:17) [POST]
  Parameters: {"login"=>"quentin", "password"=>"test"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.login) = 'quentin') LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:17' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:17', `perishable_token` = 'AWKIRY-fwN8utTphGsR3', `sb_last_seen_at` = '2011-04-16 21:52:17', `current_login_at` = '2011-04-16 21:52:17', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:17' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:17', `perishable_token` = 'v6cb24iG0FZP2dYTxRel', `last_request_at` = '2011-04-16 21:52:17' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:17', `perishable_token` = 'psTUCPEzge5hjZPC8iva', `last_request_at` = '2011-04-16 21:52:17' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc70a231e301cf39db5ff987ea46015d93a9b02f276eecc0e1cbe55cf27f871caafbc59ca9a1554c') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:17', `perishable_token` = '8P6bFSnX-mLP8O68TtWk', `last_request_at` = '2011-04-16 21:52:17' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.3ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc70a231e301cf39db5ff987ea46015d93a9b02f276eecc0e1cbe55cf27f871caafbc59ca9a1554c') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:17', `perishable_token` = 'UwHOPwxFV-xTubpTj98n', `last_request_at` = '2011-04-16 21:52:17' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '43d9db72879c2773459930e9be406e234b5c0c4144fcbc73dc70a231e301cf39db5ff987ea46015d93a9b02f276eecc0e1cbe55cf27f871caafbc59ca9a1554c') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:17', `perishable_token` = 'nPTCohbV-a03OeyhtbAO', `last_request_at` = '2011-04-16 21:52:17' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'edc6f86c35f3c8f8b16d8cec90dfe707910bbc3ca3462637b7e90da81f6759da6c58cfc6369c6dfff931d525cd4eefdffaba1ea9d17880909abeb896aa38a2c8' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'edc6f86c35f3c8f8b16d8cec90dfe707910bbc3ca3462637b7e90da81f6759da6c58cfc6369c6dfff931d525cd4eefdffaba1ea9d17880909abeb896aa38a2c8' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:17', `crypted_password` = '968bb591a69e372b636ff3a048863fc48c26bdb1', `perishable_token` = 'LT1LXaPglr2IIg_T7kJz', `password_salt` = '78zLE9670NGRdDdfjvD5', `persistence_token` = 'edc6f86c35f3c8f8b16d8cec90dfe707910bbc3ca3462637b7e90da81f6759da6c58cfc6369c6dfff931d525cd4eefdffaba1ea9d17880909abeb896aa38a2c8' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.5ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing SessionsController#create (for 0.0.0.0 at 2011-04-16 14:52:18) [POST]
  Parameters: {"login"=>"quentin", "password"=>"Cd3WyzKj"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.login) = 'quentin') LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:18' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'sORQxm76Hes6HuFkjRso', `sb_last_seen_at` = '2011-04-16 21:52:18', `current_login_at` = '2011-04-16 21:52:18', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = '54n0lX6u759T9bmZPGTY', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'sxlIgGu1xfKngSozr1t5', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:18' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'CgehxqGozAUVuzktuyjN', `sb_last_seen_at` = '2011-04-16 21:52:18', `current_login_at` = '2011-04-16 21:52:18', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing SessionsController#destroy (for 0.0.0.0 at 2011-04-16 14:52:18) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'U2rqW8MCxlHS_NZGw7r5', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing SessionsController#create (for 0.0.0.0 at 2011-04-16 14:52:18) [POST]
  Parameters: {"remember_me"=>"0", "login"=>"quentin", "password"=>"test"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.login) = 'quentin') LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:18' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = '6l_2RVI0onxCWxyuh5yp', `sb_last_seen_at` = '2011-04-16 21:52:18', `current_login_at` = '2011-04-16 21:52:18', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'n-Y49euz5OE8qZCNr2b0', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 't3qmuwDDj2YtnbZQ2qa2', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing SessionsController#create (for 0.0.0.0 at 2011-04-16 14:52:18) [POST]
  Parameters: {"remember_me"=>"1", "login"=>"quentin", "password"=>"test"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.login) = 'quentin') LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:18' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'psukYVySuHSJ7Zl19Kn9', `sb_last_seen_at` = '2011-04-16 21:52:18', `current_login_at` = '2011-04-16 21:52:18', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'NizM9E15d4imW7E5qQ6G', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'pCoh6O7N9xmZGbqkz916', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing SitemapController#index (for 0.0.0.0 at 2011-04-16 14:52:18) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT id, login, updated_at, login_slug FROM `users` WHERE (users.activated_at IS NOT NULL) [0m
  [4;35;1mPost Load Including Associations (0.5ms)[0m   [0mSELECT `posts`.`id` AS t0_r0, `posts`.`created_at` AS t0_r1, `posts`.`updated_at` AS t0_r2, `posts`.`raw_post` AS t0_r3, `posts`.`post` AS t0_r4, `posts`.`title` AS t0_r5, `posts`.`category_id` AS t0_r6, `posts`.`user_id` AS t0_r7, `posts`.`view_count` AS t0_r8, `posts`.`contest_id` AS t0_r9, `posts`.`emailed_count` AS t0_r10, `posts`.`favorited_count` AS t0_r11, `posts`.`published_as` AS t0_r12, `posts`.`published_at` AS t0_r13, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`email` AS t1_r2, `users`.`description` AS t1_r3, `users`.`avatar_id` AS t1_r4, `users`.`crypted_password` AS t1_r5, `users`.`password_salt` AS t1_r6, `users`.`created_at` AS t1_r7, `users`.`updated_at` AS t1_r8, `users`.`persistence_token` AS t1_r9, `users`.`stylesheet` AS t1_r10, `users`.`view_count` AS t1_r11, `users`.`vendor` AS t1_r12, `users`.`activation_code` AS t1_r13, `users`.`activated_at` AS t1_r14, `users`.`state_id` AS t1_r15, `users`.`metro_area_id` AS t1_r16, `users`.`login_slug` AS t1_r17, `users`.`notify_comments` AS t1_r18, `users`.`notify_friend_requests` AS t1_r19, `users`.`notify_community_news` AS t1_r20, `users`.`country_id` AS t1_r21, `users`.`featured_writer` AS t1_r22, `users`.`last_login_at` AS t1_r23, `users`.`zip` AS t1_r24, `users`.`birthday` AS t1_r25, `users`.`gender` AS t1_r26, `users`.`profile_public` AS t1_r27, `users`.`activities_count` AS t1_r28, `users`.`sb_posts_count` AS t1_r29, `users`.`sb_last_seen_at` AS t1_r30, `users`.`role_id` AS t1_r31, `users`.`single_access_token` AS t1_r32, `users`.`perishable_token` AS t1_r33, `users`.`login_count` AS t1_r34, `users`.`failed_login_count` AS t1_r35, `users`.`last_request_at` AS t1_r36, `users`.`current_login_at` AS t1_r37, `users`.`current_login_ip` AS t1_r38, `users`.`last_login_ip` AS t1_r39 FROM `posts` LEFT OUTER JOIN `users` ON `users`.id = `posts`.user_id WHERE (published_as = 'live') [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendering template within layouts/application
Rendering sitemap/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:18' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `login_slug` = 'administrator', `perishable_token` = 'b2eJgkGHl_xVelIZW4Jq', `sb_last_seen_at` = '2011-04-16 21:52:18', `current_login_at` = '2011-04-16 21:52:18', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `skills` [0m


Processing SkillsController#create (for 0.0.0.0 at 2011-04-16 14:52:18) [POST]
  Parameters: {"skill"=>{"name"=>"Soldering"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'jhyh3aHtnN8RK3PUGn09', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSkill Load (0.2ms)[0m   [0;1mSELECT `skills`.id FROM `skills` WHERE (`skills`.`name` = BINARY 'Soldering') LIMIT 1[0m
  [4;35;1mSkill Create (0.2ms)[0m   [0mINSERT INTO `skills` (`name`) VALUES('Soldering')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'dQswAHyCK4MkMv_FjUE5', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'biddF6myYs2RHGb3R9fh', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:18' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `login_slug` = 'administrator', `perishable_token` = 'QV3mhioXpnDL61FmUyzw', `sb_last_seen_at` = '2011-04-16 21:52:18', `current_login_at` = '2011-04-16 21:52:18', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `skills` [0m


Processing SkillsController#destroy (for 0.0.0.0 at 2011-04-16 14:52:18) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'atJ8IE-P77oDAYOOScKq', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSkill Load (0.1ms)[0m   [0mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSkill Destroy (0.1ms)[0m   [0mDELETE FROM `skills` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'I-9Vg8Mj9wQRfJzkZgv8', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'JHlV_7zLUcOqF5w7PCBw', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:18' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'QWIoRqlpq3ytH_RIHV67', `sb_last_seen_at` = '2011-04-16 21:52:18', `current_login_at` = '2011-04-16 21:52:18', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.1ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing SkillsController#new (for 0.0.0.0 at 2011-04-16 14:52:18) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = 'dVUZ9HoMrc6Q5h17sUvi', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = '0QujjggC6r7OQbkxjOyb', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:18', `perishable_token` = '73SfRaQvZEf5DKzuT9bj', `last_request_at` = '2011-04-16 21:52:18' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:19' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `login_slug` = 'administrator', `perishable_token` = 'mIBlmEk62V5OtO3mCULc', `sb_last_seen_at` = '2011-04-16 21:52:19', `current_login_at` = '2011-04-16 21:52:18', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing SkillsController#edit (for 0.0.0.0 at 2011-04-16 14:52:19) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = 'jApk5Phf9wBGi-uCyyAI', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSkill Load (0.1ms)[0m   [0;1mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
Rendering template within layouts/application
Rendering skills/edit
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = 'PRXUumLQn22aQKnq3KWA', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = 'i4p7IAh3kXch5Bd3R1T3', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing SkillsController#index (for 0.0.0.0 at 2011-04-16 14:52:19) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSkill Load (0.2ms)[0m   [0mSELECT * FROM `skills` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (users.vendor = 1) [0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (users.updated_at > '2011-04-11 21:52:19' AND vendor = 1) ORDER BY users.view_count DESC LIMIT 5[0m
  [4;35;1mOffering Load (0.3ms)[0m   [0mSELECT `offerings`.* FROM `offerings` WHERE (`offerings`.user_id IN (5,9)) [0m
Rendering template within layouts/application
Rendering skills/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:19' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `login_slug` = 'administrator', `perishable_token` = '-_STKcyj9UupKfMYw1Dl', `sb_last_seen_at` = '2011-04-16 21:52:19', `current_login_at` = '2011-04-16 21:52:19', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing SkillsController#new (for 0.0.0.0 at 2011-04-16 14:52:19) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = '394p8KIQ-096Q3aJlAZw', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering skills/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = '6NzKbyvlpzM1V8WsyVF-', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = '7SIOkmopMRJK4wMqddn7', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:19' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = '-1d3SbrQFKSdPVKvg-rS', `sb_last_seen_at` = '2011-04-16 21:52:19', `current_login_at` = '2011-04-16 21:52:19', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.1ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing SkillsController#create (for 0.0.0.0 at 2011-04-16 14:52:19) [POST]
  Parameters: {"skill"=>{"name"=>"plumbing"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = 'YxMZEmCzz2gI3N9Gp0BF', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = 'bIy3Ws4mmCNtBCJTk8Da', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = '-oMlkgEwiQfuZNHfvgsy', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing SkillsController#index (for 0.0.0.0 at 2011-04-16 14:52:19) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSkill Load (0.2ms)[0m   [0mSELECT * FROM `skills` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (users.vendor = 1) [0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (users.updated_at > '2011-04-11 21:52:19' AND vendor = 1) ORDER BY users.view_count DESC LIMIT 5[0m
  [4;35;1mOffering Load (0.1ms)[0m   [0mSELECT `offerings`.* FROM `offerings` WHERE (`offerings`.user_id IN (5,9)) [0m
Rendering template within layouts/application
Rendering skills/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:19' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `login_slug` = 'administrator', `perishable_token` = 'sg4HAefOLC7R4sKTPYla', `sb_last_seen_at` = '2011-04-16 21:52:19', `current_login_at` = '2011-04-16 21:52:19', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `skills` [0m


Processing SkillsController#create (for 0.0.0.0 at 2011-04-16 14:52:19) [POST]
  Parameters: {"skill"=>{"name"=>"plumbing"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = 'zH8vQTr7p6TXHXVVtdyt', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSkill Load (0.2ms)[0m   [0mSELECT `skills`.id FROM `skills` WHERE (`skills`.`name` = BINARY 'plumbing') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering skills/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = 'jl4eiWTZtfm2A0WbAbye', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = 'Nz2eF4RuReVbZDaXpKGn', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SkillsController#show (for 0.0.0.0 at 2011-04-16 14:52:19) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSkill Load (0.3ms)[0m   [0mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(`users`.id) AS count_users_id FROM `users` INNER JOIN `offerings` ON `users`.id = `offerings`.user_id WHERE ((`offerings`.skill_id = 1)) [0m
Rendering template within layouts/application
Rendering skills/show
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:19' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `login_slug` = 'administrator', `perishable_token` = 'ah-8TjSCs-pQqDevwgCg', `sb_last_seen_at` = '2011-04-16 21:52:19', `current_login_at` = '2011-04-16 21:52:19', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing SkillsController#update (for 0.0.0.0 at 2011-04-16 14:52:19) [PUT]
  Parameters: {"id"=>"1", "skill"=>{"name"=>"Welding"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = 'gfLMXNg7DpNrZuOrqWP-', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSkill Load (0.1ms)[0m   [0;1mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSkill Load (0.3ms)[0m   [0;1mSELECT `skills`.id FROM `skills` WHERE (`skills`.`name` = BINARY 'Welding' AND `skills`.id <> 1) LIMIT 1[0m
  [4;35;1mSkill Update (0.2ms)[0m   [0mUPDATE `skills` SET `name` = 'Welding' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = 'Lg97boRFE79S0R3tm12g', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = 'myCmpsBYAOScftarezOH', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:19' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `login_slug` = 'administrator', `perishable_token` = '34lANH96hFfdYT6EZye7', `sb_last_seen_at` = '2011-04-16 21:52:19', `current_login_at` = '2011-04-16 21:52:19', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing StatisticsController#activities_chart (for 0.0.0.0 at 2011-04-16 14:52:19) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:19', `perishable_token` = 'BaDjyvPCNDfdJgMpQ6TV', `last_request_at` = '2011-04-16 21:52:19' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all, date(created_at) AS date_created_at FROM `activities` WHERE (action = 'logged_in' AND created_at > '2011-04-06 21:52:20') GROUP BY date(created_at) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all, date(created_at) AS date_created_at FROM `activities` WHERE (action = 'comment' AND created_at > '2011-04-06 21:52:20') GROUP BY date(created_at) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all, date(created_at) AS date_created_at FROM `activities` WHERE (action = 'post' AND created_at > '2011-04-06 21:52:20') GROUP BY date(created_at) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all, date(created_at) AS date_created_at FROM `activities` WHERE (action = 'photo' AND created_at > '2011-04-06 21:52:20') GROUP BY date(created_at) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all, date(created_at) AS date_created_at FROM `activities` WHERE (action = 'clipping' AND created_at > '2011-04-06 21:52:20') GROUP BY date(created_at) [0m
Completed in 999ms (View: 749, DB: 13) | 200 OK [http://test.host/statistics/activities_chart]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:20', `perishable_token` = 'OO7vNR5bTZ8f7KHSzBXj', `last_request_at` = '2011-04-16 21:52:20' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:20', `perishable_token` = 'CXw1X9CFY8yj77i2BFnw', `last_request_at` = '2011-04-16 21:52:20' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:20' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:21', `login_slug` = 'administrator', `perishable_token` = 'nEYbW1Pka3ZIjpc0qHFx', `sb_last_seen_at` = '2011-04-16 21:52:20', `current_login_at` = '2011-04-16 21:52:20', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:20' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing StatisticsController#index (for 0.0.0.0 at 2011-04-16 14:52:21) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:21', `perishable_token` = 'c5wm8gfYwW2sjJwi36j4', `last_request_at` = '2011-04-16 21:52:21' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (activated_at IS NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (activated_at IS NULL) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE ((activated_at IS NOT NULL) AND created_at >= '2011-04-15 00:00:00' AND created_at <= '2011-04-16 00:00:00') [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE ((activated_at IS NOT NULL) AND created_at >= '2011-04-16 00:00:00' AND created_at <= '2011-04-17 00:00:00') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all, user_id AS user_id FROM `activities` WHERE (created_at > '2011-03-16 21:52:21') GROUP BY user_id [0m
  [4;35;1mActivity Load (0.3ms)[0m   [0mSELECT activities.user_id, count(*) as count FROM `activities` LEFT JOIN users ON users.id = activities.user_id WHERE ( users.avatar_id IS NOT NULL AND users.activated_at IS NOT NULL) AND (activities.created_at > '2011-03-16 21:52:21') GROUP BY activities.user_id ORDER BY count DESC LIMIT 30[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (zip IS NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (gender IS NOT NULL) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (gender = 'M') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (gender = 'F') [0m
  [4;36;1mPost Load Including Associations (0.5ms)[0m   [0;1mSELECT `posts`.`id` AS t0_r0, `posts`.`created_at` AS t0_r1, `posts`.`updated_at` AS t0_r2, `posts`.`raw_post` AS t0_r3, `posts`.`post` AS t0_r4, `posts`.`title` AS t0_r5, `posts`.`category_id` AS t0_r6, `posts`.`user_id` AS t0_r7, `posts`.`view_count` AS t0_r8, `posts`.`contest_id` AS t0_r9, `posts`.`emailed_count` AS t0_r10, `posts`.`favorited_count` AS t0_r11, `posts`.`published_as` AS t0_r12, `posts`.`published_at` AS t0_r13, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`email` AS t1_r2, `users`.`description` AS t1_r3, `users`.`avatar_id` AS t1_r4, `users`.`crypted_password` AS t1_r5, `users`.`password_salt` AS t1_r6, `users`.`created_at` AS t1_r7, `users`.`updated_at` AS t1_r8, `users`.`persistence_token` AS t1_r9, `users`.`stylesheet` AS t1_r10, `users`.`view_count` AS t1_r11, `users`.`vendor` AS t1_r12, `users`.`activation_code` AS t1_r13, `users`.`activated_at` AS t1_r14, `users`.`state_id` AS t1_r15, `users`.`metro_area_id` AS t1_r16, `users`.`login_slug` AS t1_r17, `users`.`notify_comments` AS t1_r18, `users`.`notify_friend_requests` AS t1_r19, `users`.`notify_community_news` AS t1_r20, `users`.`country_id` AS t1_r21, `users`.`featured_writer` AS t1_r22, `users`.`last_login_at` AS t1_r23, `users`.`zip` AS t1_r24, `users`.`birthday` AS t1_r25, `users`.`gender` AS t1_r26, `users`.`profile_public` AS t1_r27, `users`.`activities_count` AS t1_r28, `users`.`sb_posts_count` AS t1_r29, `users`.`sb_last_seen_at` AS t1_r30, `users`.`role_id` AS t1_r31, `users`.`single_access_token` AS t1_r32, `users`.`perishable_token` AS t1_r33, `users`.`login_count` AS t1_r34, `users`.`failed_login_count` AS t1_r35, `users`.`last_request_at` AS t1_r36, `users`.`current_login_at` AS t1_r37, `users`.`current_login_ip` AS t1_r38, `users`.`last_login_ip` AS t1_r39 FROM `posts` LEFT OUTER JOIN `users` ON `users`.id = `posts`.user_id WHERE ('2011-04-01 00:00:00' <= posts.published_at AND posts.published_at <= '2011-05-01 23:59:59' AND users.featured_writer = 1) AND (published_as = 'live') [0m
Rendering template within layouts/application
Rendering statistics/index
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (users.featured_writer = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:21', `perishable_token` = 'j7FQDD-U3rtWzeKY8zmz', `last_request_at` = '2011-04-16 21:52:21' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:21', `perishable_token` = 'fzVcmXsiUSoTGcMgfrpW', `last_request_at` = '2011-04-16 21:52:21' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:21' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:21', `perishable_token` = 'Rh9CQI85iZ6AzcQG2QY4', `sb_last_seen_at` = '2011-04-16 21:52:21', `current_login_at` = '2011-04-16 21:52:21', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:21' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing StatisticsController#index (for 0.0.0.0 at 2011-04-16 14:52:21) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:21', `perishable_token` = 'bN3EHRzrtBsR5Xi9cR0I', `last_request_at` = '2011-04-16 21:52:21' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:21', `perishable_token` = 'Svk9J--drUR1ncQS2D5N', `last_request_at` = '2011-04-16 21:52:21' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:21', `perishable_token` = 'dp5qDVQoAZTrgQBGUp8T', `last_request_at` = '2011-04-16 21:52:21' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TagsController#auto_complete_for_tag_name to js (for 0.0.0.0 at 2011-04-16 14:52:21) [GET]
  Parameters: {"id"=>"mis"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT * FROM `tags` WHERE (LOWER(name) LIKE '%mis%') LIMIT 10[0m
Completed in 934ms (View: 765, DB: 12) | 200 OK [http://test.host/tags/auto_complete_for_tag_name/mis?format=js]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TagsController#show (for 0.0.0.0 at 2011-04-16 14:52:22) [GET]
  Parameters: {"id"=>"tag_that_does_not_exist"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT * FROM `tags` WHERE (name IN ('tag_that_does_not_exist')) [0m
Redirected to http://test.host/tags
Completed in 2ms (DB: 1) | 302 Found [http://test.host/tags/show/tag_that_does_not_exist]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing TagsController#index (for 0.0.0.0 at 2011-04-16 14:52:22) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id GROUP BY tags.id, tags.name ORDER BY count DESC LIMIT 100[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id AND taggings.taggable_type = 'User' GROUP BY tags.id, tags.name ORDER BY count DESC LIMIT 75[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id AND taggings.taggable_type = 'Post' GROUP BY tags.id, tags.name ORDER BY count DESC LIMIT 75[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id AND taggings.taggable_type = 'Photo' GROUP BY tags.id, tags.name ORDER BY count DESC LIMIT 75[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id AND taggings.taggable_type = 'Clipping' GROUP BY tags.id, tags.name ORDER BY count DESC LIMIT 75[0m
Rendering template within layouts/application
Rendering tags/index
Rendered shared/_box (0.4ms)
Rendered shared/_box (0.3ms)
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 3) [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;35;1mTag Load (0.1ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 3) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'General') LIMIT 1[0m
  [4;36;1mTagging Create (0.2ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(1, 3, 'Post')[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;36;1mTag Update (0.3ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'Extra') LIMIT 1[0m
  [4;36;1mTagging Create (0.3ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(3, 3, 'Post')[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 3) [0m
  [4;36;1mTag Update (0.2ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 3) [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 3) LIMIT 1[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:22', 'post', 2, 3, 'Post')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:22', `perishable_token` = 'IgbVoEm4viHz76VAm3ec', `activities_count` = 1 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 4) [0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'General') LIMIT 1[0m
  [4;36;1mTagging Create (0.2ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(1, 4, 'Post')[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;36;1mTag Update (0.2ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'Extra') LIMIT 1[0m
  [4;36;1mTagging Create (0.2ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(3, 4, 'Post')[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 3) [0m
  [4;36;1mTag Update (0.2ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 3) [0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'Misc') LIMIT 1[0m
  [4;36;1mTagging Create (0.2ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(2, 4, 'Post')[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;36;1mTag Update (0.2ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_type` = 'Post' AND `activities`.`item_id` = 4) LIMIT 1[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:22', 'post', 2, 4, 'Post')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:22', `perishable_token` = 's9d5pUB0w_QWYgL85jjE', `activities_count` = 2 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing TagsController#show (for 0.0.0.0 at 2011-04-16 14:52:22) [GET]
  Parameters: {"id"=>"General,Extra"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name IN ('General','Extra')) [0m
  [4;35;1mTagging Load (0.1ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.tag_id = 1) LIMIT 10[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count FROM tags
 LEFT OUTER JOIN taggings
 ON taggings.tag_id = tags.id
 WHERE (taggings.taggable_id IN (1,3,4))
 AND tags.id != '1'
 GROUP BY tags.id, tags.name
 ORDER BY count DESC
 LIMIT 10[0m
  [4;35;1mTagging Load (0.1ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.tag_id = 3) LIMIT 10[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count FROM tags
 LEFT OUTER JOIN taggings
 ON taggings.tag_id = tags.id
 WHERE (taggings.taggable_id IN (3,4))
 AND tags.id != '3'
 GROUP BY tags.id, tags.name
 ORDER BY count DESC
 LIMIT 10[0m
  [4;35;1mPost Load (2.4ms)[0m   [0mSELECT DISTINCT posts.* FROM `posts` INNER JOIN taggings posts_taggings ON posts_taggings.taggable_id = posts.id AND posts_taggings.taggable_type = 'Post' INNER JOIN tags posts_tags ON posts_tags.id = posts_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'Post' AND
 taggable_id = posts.id AND
 (tags.name LIKE 'General' OR tags.name LIKE 'Extra')) = 2
) AND (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 5[0m
  [4;36;1mPhoto Load (1.2ms)[0m   [0;1mSELECT DISTINCT photos.* FROM `photos` INNER JOIN taggings photos_taggings ON photos_taggings.taggable_id = photos.id AND photos_taggings.taggable_type = 'Photo' INNER JOIN tags photos_tags ON photos_tags.id = photos_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'Photo' AND
 taggable_id = photos.id AND
 (tags.name LIKE 'General' OR tags.name LIKE 'Extra')) = 2
) AND (photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 10[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT DISTINCT users.* FROM `users` INNER JOIN taggings users_taggings ON users_taggings.taggable_id = users.id AND users_taggings.taggable_type = 'User' INNER JOIN tags users_tags ON users_tags.id = users_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'User' AND
 taggable_id = users.id AND
 (tags.name LIKE 'General' OR tags.name LIKE 'Extra')) = 2
) ORDER BY users.created_at DESC LIMIT 10[0m
  [4;36;1mClipping Load (0.4ms)[0m   [0;1mSELECT DISTINCT clippings.* FROM `clippings` INNER JOIN taggings clippings_taggings ON clippings_taggings.taggable_id = clippings.id AND clippings_taggings.taggable_type = 'Clipping' INNER JOIN tags clippings_tags ON clippings_tags.id = clippings_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'Clipping' AND
 taggable_id = clippings.id AND
 (tags.name LIKE 'General' OR tags.name LIKE 'Extra')) = 2
) ORDER BY clippings.created_at DESC LIMIT 10[0m
Rendering template within layouts/application
Rendering tags/show
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m


Processing TagsController#show (for 0.0.0.0 at 2011-04-16 14:52:22) [GET]
  Parameters: {"id"=>"General"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name IN ('General')) [0m
  [4;35;1mTagging Load (0.1ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.tag_id = 1) LIMIT 10[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count FROM tags
 LEFT OUTER JOIN taggings
 ON taggings.tag_id = tags.id
 WHERE (taggings.taggable_id IN (1))
 AND tags.id != '1'
 GROUP BY tags.id, tags.name
 ORDER BY count DESC
 LIMIT 10[0m
  [4;35;1mPost Load (1.2ms)[0m   [0mSELECT DISTINCT posts.* FROM `posts` INNER JOIN taggings posts_taggings ON posts_taggings.taggable_id = posts.id AND posts_taggings.taggable_type = 'Post' INNER JOIN tags posts_tags ON posts_tags.id = posts_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'Post' AND
 taggable_id = posts.id AND
 (tags.name LIKE 'General')) = 1
) AND (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 5[0m
  [4;36;1mPhoto Load (1.5ms)[0m   [0;1mSELECT DISTINCT photos.* FROM `photos` INNER JOIN taggings photos_taggings ON photos_taggings.taggable_id = photos.id AND photos_taggings.taggable_type = 'Photo' INNER JOIN tags photos_tags ON photos_tags.id = photos_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'Photo' AND
 taggable_id = photos.id AND
 (tags.name LIKE 'General')) = 1
) AND (photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 10[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT DISTINCT users.* FROM `users` INNER JOIN taggings users_taggings ON users_taggings.taggable_id = users.id AND users_taggings.taggable_type = 'User' INNER JOIN tags users_tags ON users_tags.id = users_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'User' AND
 taggable_id = users.id AND
 (tags.name LIKE 'General')) = 1
) ORDER BY users.created_at DESC LIMIT 10[0m
  [4;36;1mClipping Load (0.3ms)[0m   [0;1mSELECT DISTINCT clippings.* FROM `clippings` INNER JOIN taggings clippings_taggings ON clippings_taggings.taggable_id = clippings.id AND clippings_taggings.taggable_type = 'Clipping' INNER JOIN tags clippings_tags ON clippings_tags.id = clippings_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'Clipping' AND
 taggable_id = clippings.id AND
 (tags.name LIKE 'General')) = 1
) ORDER BY clippings.created_at DESC LIMIT 10[0m
Rendering template within layouts/application
Rendering tags/show
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ThemeController#stylesheets (for 0.0.0.0 at 2011-04-16 14:52:22) [GET]
  Parameters: {"filename"=>"../../../config/database.yml"}
[I18n] loading locale: en from config
[I18n] Locale set to en
Completed in 942ms (View: 937, DB: 0) | 404 Not Found [http://test.host/theme/stylesheets?filename=..%2F..%2F..%2Fconfig%2Fdatabase.yml]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSbPost Update (0.2ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET `hits` = COALESCE(`hits`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `hits` = COALESCE(`hits`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Create (0.3ms)[0m   [0mINSERT INTO `topics` (`hits`, `created_at`, `title`, `updated_at`, `replied_at`, `forum_id`, `user_id`, `replied_by`, `sb_posts_count`, `last_post_id`, `sticky`, `locked`) VALUES(0, '2011-04-16 21:52:23', 'happy life', '2011-04-16 21:52:23', '2011-04-16 21:52:23', 1, 2, NULL, 0, NULL, 0, 0)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:23', 'topic', 2, 9, 'Topic')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:23', `perishable_token` = 'xmqgZqIusSHYlsv8-QJc', `activities_count` = 1 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mForum Update (0.3ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 9) LIMIT 1[0m
  [4;35;1mMonitorship Create (0.2ms)[0m   [0mINSERT INTO `monitorships` (`user_id`, `topic_id`, `active`) VALUES(2, 9, 1)[0m
  [4;36;1mSbPost Update (0.2ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 9) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET `updated_at` = '2011-04-16 21:52:23', `forum_id` = 2 WHERE `id` = 1[0m
  [4;36;1mSbPost Update (0.2ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 2 WHERE (topic_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` WHERE (`sb_posts`.user_id = 11) [0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Create (0.3ms)[0m   [0;1mINSERT INTO `sb_posts` (`created_at`, `body_html`, `body`, `updated_at`, `forum_id`, `user_id`, `topic_id`) VALUES('2011-04-16 21:52:23', 'I\'ll do it', 'I\'ll do it', '2011-04-16 21:52:23', 1, 11, 1)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:23', 'sb_post', 11, 18, 'SbPost')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 11) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:23', `perishable_token` = 'Jo_Osi4NfC_WtO9B4ChZ', `activities_count` = 1 WHERE `id` = 11[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-16 21:52:23', replied_by = 11, last_post_id = 18 WHERE (id = 1) [0m
  [4;35;1mMonitorship Load (0.2ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 11 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;36;1mMonitorship Load (0.1ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 11 AND `taggings`.taggable_type = 'User') [0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 11 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE (`messages`.sender_id = 11 AND (sender_deleted = 0)) ORDER BY created_at DESC[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE (`messages`.recipient_id = 11 AND (recipient_deleted = 0)) ORDER BY created_at DESC[0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 11) AND (published_as = 'live') ORDER BY published_at desc[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 11) ORDER BY created_at desc[0m
  [4;35;1mInvitation Load (0.2ms)[0m   [0mSELECT * FROM `invitations` WHERE (`invitations`.user_id = 11) [0m
  [4;36;1mOffering Load (0.2ms)[0m   [0;1mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 11) [0m
  [4;35;1mRsvp Load (0.2ms)[0m   [0mSELECT * FROM `rsvps` WHERE (`rsvps`.user_id = 11) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 11) [0m
  [4;35;1mFriendship Load (0.1ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 11 AND (initiator = 1)) [0m
  [4;36;1mFriendship Load (0.1ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 11 AND (initiator = 0)) [0m
  [4;35;1mFriendship Load (0.1ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.friend_id = 11) [0m
  [4;36;1mModeratorship Load (0.1ms)[0m   [0;1mSELECT * FROM `moderatorships` WHERE (`moderatorships`.user_id = 11) [0m
  [4;35;1mModeratorship Destroy (0.2ms)[0m   [0mDELETE FROM `moderatorships` WHERE `id` = 1[0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.user_id = 11) [0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.1ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 5) [0m
  [4;36;1mSbPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 5[0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.1ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.3ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-14 21:51:47', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;36;1mActivity Load (0.1ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 4) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 4[0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mSbPost Load (0.3ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mActivity Load (0.1ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 7 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mForum Update (0.1ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 6) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 7[0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSbPost Load (0.1ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-16 19:51:47', replied_by = 2, last_post_id = 6 WHERE (id = 6) [0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 8 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mForum Update (0.1ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 7) [0m
  [4;36;1mSbPost Destroy (0.1ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 8[0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;36;1mSbPost Load (0.1ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 7) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-16 21:36:47', replied_by = 2, last_post_id = 9 WHERE (id = 7) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.user_id = 11) [0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.2ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 4 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.1ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.1ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at[0m
  [4;36;1mTopic Destroy (0.2ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 4[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 7 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.2ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 7 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mForum Update (0.3ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mSbPost Load (0.3ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 7) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 9 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;36;1mTopic Update (0.3ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 7) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 9[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 7) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.2ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 7[0m
  [4;35;1mMonitorship Load (0.1ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.user_id = 11) [0m
  [4;36;1mMonitorship Destroy (0.1ms)[0m   [0;1mDELETE FROM `monitorships` WHERE `id` = 2[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.user_id = 11) ORDER BY created_at desc[0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.recipient_id = 11) ORDER BY created_at desc[0m
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 11) ORDER BY created_at desc[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.user_id = 11) ORDER BY created_at desc[0m
  [4;35;1mUser Destroy (0.2ms)[0m   [0mDELETE FROM `users` WHERE `id` = 11[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`user_id` = 11) [0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT `topics`.id FROM `topics` WHERE (`topics`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `topics` [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Create (0.4ms)[0m   [0mINSERT INTO `topics` (`hits`, `created_at`, `title`, `updated_at`, `replied_at`, `forum_id`, `user_id`, `replied_by`, `sb_posts_count`, `last_post_id`, `sticky`, `locked`) VALUES(0, '2011-04-16 21:52:24', 'foo', '2011-04-16 21:52:24', '2011-04-16 21:52:24', 1, 2, NULL, 0, NULL, 0, 0)[0m
  [4;36;1mActivity Create (0.3ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:24', 'topic', 2, 10, 'Topic')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'SPkhvT-XlgvhVcsCJNur', `activities_count` = 1 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 10) LIMIT 1[0m
  [4;35;1mMonitorship Create (0.2ms)[0m   [0mINSERT INTO `monitorships` (`user_id`, `topic_id`, `active`) VALUES(2, 10, 1)[0m
  [4;36;1mSbPost Update (0.2ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `topics` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `topics` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mTopic Load (0.3ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.4ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.2ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 4 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.1ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.1ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.1ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 4) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 4[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.2ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `topics` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Create (0.2ms)[0m   [0mINSERT INTO `topics` (`hits`, `created_at`, `title`, `updated_at`, `replied_at`, `forum_id`, `user_id`, `replied_by`, `sb_posts_count`, `last_post_id`, `sticky`, `locked`) VALUES(0, '2011-04-16 21:52:24', 'happy life', '2011-04-16 21:52:24', '2011-04-16 21:52:24', 1, 2, NULL, 0, NULL, 0, 0)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:24', 'topic', 2, 11, 'Topic')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'SSNqVaRxSWttbkhh_5qt', `activities_count` = 1 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 11) LIMIT 1[0m
  [4;35;1mMonitorship Create (0.2ms)[0m   [0mINSERT INTO `monitorships` (`user_id`, `topic_id`, `active`) VALUES(2, 11, 1)[0m
  [4;36;1mSbPost Update (0.2ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Create (0.2ms)[0m   [0;1mINSERT INTO `topics` (`hits`, `created_at`, `title`, `updated_at`, `replied_at`, `forum_id`, `user_id`, `replied_by`, `sb_posts_count`, `last_post_id`, `sticky`, `locked`) VALUES(0, '2011-04-16 21:52:24', 'foo', '2011-04-16 21:52:24', '2011-04-16 21:52:24', 1, 2, NULL, 0, NULL, 0, 0)[0m
  [4;35;1mActivity Create (0.1ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:24', 'topic', 2, 12, 'Topic')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = '0LdQgYVmJ5FqzyUWQfmo', `activities_count` = 1 WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mForum Update (0.1ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mMonitorship Load (0.1ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 12) LIMIT 1[0m
  [4;36;1mMonitorship Create (0.2ms)[0m   [0;1mINSERT INTO `monitorships` (`user_id`, `topic_id`, `active`) VALUES(2, 12, 1)[0m
  [4;35;1mSbPost Update (0.2ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE (`topics`.`id` = 12) AND ((`monitorships`.user_id = 2) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:24' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `login_slug` = 'administrator', `perishable_token` = 'UcySjRtHs5JSaTwhXO_g', `sb_last_seen_at` = '2011-04-16 21:52:24', `current_login_at` = '2011-04-16 21:52:24', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:24' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m


Processing TopicsController#create (for 0.0.0.0 at 2011-04-16 14:52:24) [POST]
  Parameters: {"topic"=>{"body"=>"foo", "title"=>"blah2", "sticky"=>"1", "locked"=>"1"}, "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'BL8gEYDuCKzv6qFsDWXE', `last_request_at` = '2011-04-16 21:52:24' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: body, sticky, locked
WARNING: Can't mass-assign these protected attributes: title, sticky, locked
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Create (0.2ms)[0m   [0mINSERT INTO `topics` (`hits`, `created_at`, `title`, `updated_at`, `replied_at`, `forum_id`, `user_id`, `replied_by`, `sb_posts_count`, `last_post_id`, `sticky`, `locked`) VALUES(0, '2011-04-16 21:52:24', 'blah2', '2011-04-16 21:52:24', '2011-04-16 21:52:24', 1, 4, NULL, 0, NULL, 1, 1)[0m
  [4;36;1mActivity Create (0.1ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:24', 'topic', 4, 13, 'Topic')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'iArsoIYaX10yEie_hA-X', `activities_count` = 1 WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Create (0.2ms)[0m   [0;1mINSERT INTO `sb_posts` (`created_at`, `body_html`, `body`, `updated_at`, `forum_id`, `user_id`, `topic_id`) VALUES('2011-04-16 21:52:24', 'foo', 'foo', '2011-04-16 21:52:24', 1, 4, 13)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:24', 'sb_post', 4, 19, 'SbPost')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 4) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'XS7jekO1iP10kCZ3BiQI', `activities_count` = 2 WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.2ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 4) [0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 13) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-16 21:52:24', replied_by = 4, last_post_id = 19 WHERE (id = 13) [0m
  [4;35;1mMonitorship Load (0.2ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 4 AND `monitorships`.`topic_id` = 13) LIMIT 1[0m
  [4;36;1mMonitorship Create (0.1ms)[0m   [0;1mINSERT INTO `monitorships` (`user_id`, `topic_id`, `active`) VALUES(4, 13, 1)[0m
  [4;35;1mMonitorship Load (0.2ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 13) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mMonitorship Load (0.2ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 4 AND `monitorships`.`topic_id` = 13) LIMIT 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 13) AND (`taggings`.taggable_type = 'Topic')) [0m
  [4;35;1mSbPost Update (0.2ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 13) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'I8dTXAvJ5YqHGUosprnP', `last_request_at` = '2011-04-16 21:52:24' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'eufVpoHYkSei8ziE2vMT', `last_request_at` = '2011-04-16 21:52:24' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `topics` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:24' WHERE (id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'UYVsFoGXDC70vcEuetMx', `sb_last_seen_at` = '2011-04-16 21:52:24', `current_login_at` = '2011-04-16 21:52:24', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:24' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing TopicsController#destroy (for 0.0.0.0 at 2011-04-16 14:52:24) [DELETE]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.3ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'eLdHjERqomrN5x48cS17', `last_request_at` = '2011-04-16 21:52:24' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.2ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.1ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.1ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 1[0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-14 21:51:47', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.1ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.4ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-14 21:51:47', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.1ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 3[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.2ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = '7R6ESJej3GBiDg-KNGDo', `last_request_at` = '2011-04-16 21:52:24' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'K-Z-3kPr09zyHlD8-PxJ', `last_request_at` = '2011-04-16 21:52:24' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `topics` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:24' WHERE (id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'xaX2tIwa9ZyipSOedm88', `sb_last_seen_at` = '2011-04-16 21:52:24', `current_login_at` = '2011-04-16 21:52:24', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:24' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing TopicsController#create (for 0.0.0.0 at 2011-04-16 14:52:24) [POST]
  Parameters: {"topic"=>{"body"=>"foo", "title"=>"blah"}, "forum_id"=>"1", "tag_list"=>"tag1, tag2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'sJxozg607HyyjSaXPWkI', `last_request_at` = '2011-04-16 21:52:24' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: body
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 2) [0m
WARNING: Can't mass-assign these protected attributes: title
  [4;36;1mTopic Create (0.2ms)[0m   [0;1mINSERT INTO `topics` (`hits`, `created_at`, `title`, `updated_at`, `replied_at`, `forum_id`, `user_id`, `replied_by`, `sb_posts_count`, `last_post_id`, `sticky`, `locked`) VALUES(0, '2011-04-16 21:52:24', 'blah', '2011-04-16 21:52:24', '2011-04-16 21:52:24', 1, 2, NULL, 0, NULL, 0, 0)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:24', 'topic', 2, 14, 'Topic')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'yt6wh1bpZIV9H0r5k3TR', `activities_count` = 1 WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mForum Update (0.3ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Create (0.2ms)[0m   [0mINSERT INTO `sb_posts` (`created_at`, `body_html`, `body`, `updated_at`, `forum_id`, `user_id`, `topic_id`) VALUES('2011-04-16 21:52:24', 'foo', 'foo', '2011-04-16 21:52:24', 1, 2, 14)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:24', 'sb_post', 2, 20, 'SbPost')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'VlMDWuhQKMEwyAPfvBvA', `activities_count` = 2 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mForum Load (0.3ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 14) [0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-16 21:52:24', replied_by = 2, last_post_id = 20 WHERE (id = 14) [0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 14) LIMIT 1[0m
  [4;35;1mMonitorship Create (0.2ms)[0m   [0mINSERT INTO `monitorships` (`user_id`, `topic_id`, `active`) VALUES(2, 14, 1)[0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 14) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 14) LIMIT 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 14) AND (`taggings`.taggable_type = 'Topic')) [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;35;1mTag Load (0.1ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;36;1mTag Create (0.1ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag1', 0)[0m
  [4;35;1mTagging Create (0.2ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(18, 14, 'Topic')[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 18) [0m
  [4;35;1mTag Update (0.2ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 18) [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;36;1mTag Create (0.2ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag2', 0)[0m
  [4;35;1mTagging Create (0.2ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(19, 14, 'Topic')[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 19) [0m
  [4;35;1mTag Update (0.2ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 19) [0m
  [4;36;1mSbPost Update (0.2ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'O5R-i-9F9CEljGt1_Gwc', `last_request_at` = '2011-04-16 21:52:24' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:24', `perishable_token` = 'ttLv2t0OH6NwjT83z1FA', `last_request_at` = '2011-04-16 21:52:24' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:24' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:25', `login_slug` = 'administrator', `perishable_token` = '74JNyclxCs57SjWETsiF', `sb_last_seen_at` = '2011-04-16 21:52:24', `current_login_at` = '2011-04-16 21:52:24', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:24' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m


Processing TopicsController#destroy (for 0.0.0.0 at 2011-04-16 14:52:25) [DELETE]
  Parameters: {"id"=>"4", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:25', `perishable_token` = 'GwrN8ZL-wlbuygbL7UWR', `last_request_at` = '2011-04-16 21:52:25' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.2ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 4 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.1ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 4) [0m
  [4;35;1mSbPost Destroy (0.2ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 4[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.2ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:25', `perishable_token` = 'woClE8piWstepj7a3_j5', `last_request_at` = '2011-04-16 21:52:25' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:25', `perishable_token` = 'kZwcCJJSgDSENz5yVR0J', `last_request_at` = '2011-04-16 21:52:25' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:25' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:25', `login_slug` = 'administrator', `perishable_token` = 'OxOTQj8BubXMxUJaVRJB', `sb_last_seen_at` = '2011-04-16 21:52:25', `current_login_at` = '2011-04-16 21:52:25', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:25' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing TopicsController#edit (for 0.0.0.0 at 2011-04-16 14:52:25) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:25', `perishable_token` = '-dFkHzzKUH18pko8pW77', `last_request_at` = '2011-04-16 21:52:25' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering topics/edit
Rendered shared/_box (0.4ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:25', `perishable_token` = 'y2JonYR3rByo9I__MiJL', `last_request_at` = '2011-04-16 21:52:25' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:25', `perishable_token` = 'VxWgXMGvNadzU4VuHCFP', `last_request_at` = '2011-04-16 21:52:25' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TopicsController#index (for 0.0.0.0 at 2011-04-16 14:52:25) [GET]
  Parameters: {"forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TopicsController#index to xml (for 0.0.0.0 at 2011-04-16 14:52:25) [GET]
  Parameters: {"forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.4ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.forum_id = 1) ORDER BY sticky desc, replied_at desc, sticky desc, replied_at desc LIMIT 25[0m
Completed in 962ms (View: 951, DB: 4) | 200 OK [http://test.host/topics?format=xml&forum_id=1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:26' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:26', `perishable_token` = 'dkmIHNzxziXjzTdpGK6r', `sb_last_seen_at` = '2011-04-16 21:52:26', `current_login_at` = '2011-04-16 21:52:26', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:26' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing TopicsController#new (for 0.0.0.0 at 2011-04-16 14:52:26) [GET]
  Parameters: {"forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:26', `perishable_token` = 'tuI7BHcOwS_CZN_vGpbT', `last_request_at` = '2011-04-16 21:52:26' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering topics/new
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:26', `perishable_token` = 'ZTXZF3JbaNtiuQnet4Xc', `last_request_at` = '2011-04-16 21:52:26' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:26', `perishable_token` = 'ZBk2QXBIx5XSXlEe5J-6', `last_request_at` = '2011-04-16 21:52:26' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:26' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:26', `perishable_token` = '4QGON8m8hqAw8-3roUMJ', `sb_last_seen_at` = '2011-04-16 21:52:26', `current_login_at` = '2011-04-16 21:52:26', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:26' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing TopicsController#show to rss (for 0.0.0.0 at 2011-04-16 14:52:26) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mSbPost Load (0.3ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY created_at desc, sb_posts.created_at LIMIT 25[0m
Rendering topics/show
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:26', `perishable_token` = 'nEbqJx0AkfmUqnsMwX0f', `last_request_at` = '2011-04-16 21:52:26' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:26', `perishable_token` = 'fgmOoMki0gY8syNxmh9R', `last_request_at` = '2011-04-16 21:52:26' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `topics` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:26' WHERE (id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:26', `perishable_token` = '1wZehE1v0N0mtxUknuOj', `sb_last_seen_at` = '2011-04-16 21:52:26', `current_login_at` = '2011-04-16 21:52:26', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:26' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m


Processing TopicsController#create (for 0.0.0.0 at 2011-04-16 14:52:26) [POST]
  Parameters: {"topic"=>{"title"=>"blah"}, "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:26', `perishable_token` = '3cj48vuayn9YcabadX9J', `last_request_at` = '2011-04-16 21:52:26' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 2) [0m
WARNING: Can't mass-assign these protected attributes: title
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering topics/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:26', `perishable_token` = '5-zH-KA29WnBpzR7Qfos', `last_request_at` = '2011-04-16 21:52:26' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:26', `perishable_token` = 'KgKtSByRo5s75fskjqRQ', `last_request_at` = '2011-04-16 21:52:26' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:27' WHERE (id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:27', `perishable_token` = '67F0gXs7dsKxqJJub74n', `sb_last_seen_at` = '2011-04-16 21:52:27', `current_login_at` = '2011-04-16 21:52:27', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:27' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m


Processing TopicsController#update (for 0.0.0.0 at 2011-04-16 14:52:27) [PUT]
  Parameters: {"topic"=>{}, "id"=>"6", "forum_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.3ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mTopic Load (0.3ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6 AND (`topics`.forum_id = 2)) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:27', `perishable_token` = 'vgOxXjods6I6ONQD0Bxi', `last_request_at` = '2011-04-16 21:52:27' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 2) AND (`moderatorships`.user_id = 11) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:27', `perishable_token` = 'ClzJT9GjL5QcT4wQX8Kw', `last_request_at` = '2011-04-16 21:52:27' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:27', `perishable_token` = 'VLJVItyrIShBz2O1UIvH', `last_request_at` = '2011-04-16 21:52:27' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:27' WHERE (id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:27', `perishable_token` = 'S6B_HHnenbIAy1v1p2hP', `sb_last_seen_at` = '2011-04-16 21:52:27', `current_login_at` = '2011-04-16 21:52:27', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:27' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m


Processing TopicsController#update (for 0.0.0.0 at 2011-04-16 14:52:27) [PUT]
  Parameters: {"topic"=>{"user_id"=>32}, "id"=>"4", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:27', `perishable_token` = 'NSVDssPu_IkrXdQFktvg', `last_request_at` = '2011-04-16 21:52:27' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: user_id
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mTopic Update (0.3ms)[0m   [0mUPDATE `topics` SET `locked` = NULL, `updated_at` = '2011-04-16 21:52:27', `sticky` = NULL WHERE `id` = 4[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'Topic')) [0m
  [4;35;1mSbPost Update (0.1ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:27', `perishable_token` = 'ju7TmLQ3f9wwsG6IOG0E', `last_request_at` = '2011-04-16 21:52:27' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:27', `perishable_token` = 'M7ZBm7WQPsYHW2ssxHwD', `last_request_at` = '2011-04-16 21:52:27' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m


Processing TopicsController#show to rss (for 0.0.0.0 at 2011-04-16 14:52:27) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY created_at desc, sb_posts.created_at LIMIT 25[0m
Rendering topics/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m


Processing TopicsController#show (for 0.0.0.0 at 2011-04-16 14:52:27) [GET]
  Parameters: {"id"=>"4", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `hits` = COALESCE(`hits`, 0) + 1 WHERE (`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(DISTINCT sb_posts.id) AS count_sb_posts_id FROM `sb_posts` LEFT OUTER JOIN `users` ON `users`.id = `sb_posts`.user_id WHERE (`sb_posts`.topic_id = 4) AND (`sb_posts`.topic_id = 4) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) AND (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at LIMIT 0, 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/application
Rendering topics/show
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'Topic')) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing TopicsController#show (for 0.0.0.0 at 2011-04-16 14:52:27) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET `hits` = COALESCE(`hits`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(DISTINCT sb_posts.id) AS count_sb_posts_id FROM `sb_posts` LEFT OUTER JOIN `users` ON `users`.id = `sb_posts`.user_id WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) [0m
  [4;35;1mSbPost Load (0.3ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
Rendering template within layouts/application
Rendering topics/show
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Topic')) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.1ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing TopicsController#show to rss (for 0.0.0.0 at 2011-04-16 14:52:27) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mSbPost Load (0.3ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY created_at desc, sb_posts.created_at LIMIT 25[0m
Rendering topics/show
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing TopicsController#show to xml (for 0.0.0.0 at 2011-04-16 14:52:27) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
Completed in 981ms (View: 975, DB: 1) | 200 OK [http://test.host/topics/show/1?format=xml&forum_id=1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:28' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:28', `login_slug` = 'administrator', `perishable_token` = '1h8HgS1yJ55uhsLW2cAQ', `sb_last_seen_at` = '2011-04-16 21:52:28', `current_login_at` = '2011-04-16 21:52:28', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:28' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m


Processing TopicsController#update (for 0.0.0.0 at 2011-04-16 14:52:28) [PUT]
  Parameters: {"topic"=>{}, "id"=>#<Topic id: 4, forum_id: 1, user_id: 11, title: "ponies", created_at: "2011-04-14 22:52:26", updated_at: "2011-04-16 21:52:27", hits: 0, sticky: 0, sb_posts_count: 1, replied_at: "2011-04-14 22:52:26", locked: false, replied_by: 2, last_post_id: 4>, "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:28', `perishable_token` = 'IKRW2Cuue4eIA__ezxQB', `last_request_at` = '2011-04-16 21:52:28' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mTopic Update (0.3ms)[0m   [0mUPDATE `topics` SET `locked` = NULL, `updated_at` = '2011-04-16 21:52:28', `sticky` = NULL WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'Topic')) [0m
  [4;35;1mSbPost Update (0.2ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:28', `perishable_token` = '-xzby1FbzRbvNg3pEHX3', `last_request_at` = '2011-04-16 21:52:28' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:28', `perishable_token` = 'MQPT9SWRi6ZYiS3UU_He', `last_request_at` = '2011-04-16 21:52:28' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:28' WHERE (id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:28', `perishable_token` = 'NhwXrryrQP7I-6khFq-Y', `sb_last_seen_at` = '2011-04-16 21:52:28', `current_login_at` = '2011-04-16 21:52:28', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:28' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.3ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing TopicsController#update (for 0.0.0.0 at 2011-04-16 14:52:28) [PUT]
  Parameters: {"topic"=>{}, "id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.3ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:28', `perishable_token` = 'JFwyqVOofRq0cbvxL2Pq', `last_request_at` = '2011-04-16 21:52:28' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mTopic Update (0.2ms)[0m   [0mUPDATE `topics` SET `locked` = NULL, `updated_at` = '2011-04-16 21:52:28', `sticky` = NULL WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Topic')) [0m
  [4;35;1mSbPost Update (0.2ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:28', `perishable_token` = 'GYpPENnxQGcPvTyK7mhT', `last_request_at` = '2011-04-16 21:52:28' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:28', `perishable_token` = 'JrfJalmUfj7vMsAq9ZQ1', `last_request_at` = '2011-04-16 21:52:28' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:28' WHERE (id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:28', `perishable_token` = 'D0LJL69p2Qupw4j2bIur', `sb_last_seen_at` = '2011-04-16 21:52:28', `current_login_at` = '2011-04-16 21:52:28', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:28' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m


Processing TopicsController#update (for 0.0.0.0 at 2011-04-16 14:52:28) [PUT]
  Parameters: {"topic"=>{}, "id"=>"4", "forum_id"=>"1", "tag_list"=>"tagX, tagY"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:28', `perishable_token` = 'YzxDJJHJZZH4shfIcjAD', `last_request_at` = '2011-04-16 21:52:28' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mTopic Update (0.3ms)[0m   [0;1mUPDATE `topics` SET `locked` = NULL, `updated_at` = '2011-04-16 21:52:28', `sticky` = NULL WHERE `id` = 4[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'Topic')) [0m
  [4;36;1mTag Load (0.1ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tagX') LIMIT 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tagX') LIMIT 1[0m
  [4;36;1mTag Create (0.2ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tagX', 0)[0m
  [4;35;1mTagging Create (0.2ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(20, 4, 'Topic')[0m
  [4;36;1mTag Load (0.1ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 20) [0m
  [4;35;1mTag Update (0.1ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 20) [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tagY') LIMIT 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tagY') LIMIT 1[0m
  [4;36;1mTag Create (0.1ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tagY', 0)[0m
  [4;35;1mTagging Create (0.2ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(21, 4, 'Topic')[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 21) [0m
  [4;35;1mTag Update (0.1ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 21) [0m
  [4;36;1mSbPost Update (0.1ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:28', `perishable_token` = 'aykkju0XGyAEWMzY5AbZ', `last_request_at` = '2011-04-16 21:52:28' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:28', `perishable_token` = '4XKAA7Xua6Xbi9Gy9q9h', `last_request_at` = '2011-04-16 21:52:28' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m


Processing TopicsController#show (for 0.0.0.0 at 2011-04-16 14:52:28) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mTopic Update (0.2ms)[0m   [0;1mUPDATE `topics` SET `hits` = COALESCE(`hits`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(DISTINCT sb_posts.id) AS count_sb_posts_id FROM `sb_posts` LEFT OUTER JOIN `users` ON `users`.id = `sb_posts`.user_id WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
Rendering template within layouts/application
Rendering topics/show
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Topic')) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:29' WHERE (id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = 'hCiS1I5HU2Y9Z-yI6Hdh', `sb_last_seen_at` = '2011-04-16 21:52:29', `current_login_at` = '2011-04-16 21:52:29', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:29' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m


Processing TopicsController#show (for 0.0.0.0 at 2011-04-16 14:52:29) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = 'YTFkD77bavFy9KdntgLP', `last_request_at` = '2011-04-16 21:52:29' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:29' WHERE (id = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(DISTINCT sb_posts.id) AS count_sb_posts_id FROM `sb_posts` LEFT OUTER JOIN `users` ON `users`.id = `sb_posts`.user_id WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) [0m
  [4;35;1mSbPost Load (0.2ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
Rendering template within layouts/application
Rendering topics/show
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Topic')) [0m
  [4;36;1mTopic Load (0.2ms)[0m   [0;1mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE (`topics`.`id` = 1) AND ((`monitorships`.user_id = 2) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = 'QhAeSYe9STLsV8hoIEG-', `last_request_at` = '2011-04-16 21:52:29' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = 'hOsGGqCB7iMVg1nULwzz', `last_request_at` = '2011-04-16 21:52:29' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:29' WHERE (id = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = 'c36S5kLP9Pf3gG78vV18', `sb_last_seen_at` = '2011-04-16 21:52:29', `current_login_at` = '2011-04-16 21:52:29', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:29' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m


Processing TopicsController#create (for 0.0.0.0 at 2011-04-16 14:52:29) [POST]
  Parameters: {"topic"=>{"body"=>"foo", "title"=>"blah", "sticky"=>"1", "locked"=>"1"}, "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.3ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = '96uipogw1j9PdcKvFJ--', `last_request_at` = '2011-04-16 21:52:29' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: body, sticky, locked
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
WARNING: Can't mass-assign these protected attributes: title, sticky, locked
  [4;36;1mTopic Create (0.3ms)[0m   [0;1mINSERT INTO `topics` (`hits`, `created_at`, `title`, `updated_at`, `replied_at`, `forum_id`, `user_id`, `replied_by`, `sb_posts_count`, `last_post_id`, `sticky`, `locked`) VALUES(0, '2011-04-16 21:52:29', 'blah', '2011-04-16 21:52:29', '2011-04-16 21:52:29', 1, 11, NULL, 0, NULL, 1, 1)[0m
  [4;35;1mActivity Create (0.3ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:29', 'topic', 11, 15, 'Topic')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 11) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = 'mtHLHuE6Ak_uqq-hxk2H', `activities_count` = 1 WHERE `id` = 11[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Create (0.2ms)[0m   [0mINSERT INTO `sb_posts` (`created_at`, `body_html`, `body`, `updated_at`, `forum_id`, `user_id`, `topic_id`) VALUES('2011-04-16 21:52:29', 'foo', 'foo', '2011-04-16 21:52:29', 1, 11, 15)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:29', 'sb_post', 11, 21, 'SbPost')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 11) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = 'yNDp3mH7bxj4JFIkgJgS', `activities_count` = 2 WHERE `id` = 11[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.2ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Update (0.3ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 15) [0m
  [4;35;1mTopic Update (0.3ms)[0m   [0mUPDATE `topics` SET replied_at = '2011-04-16 21:52:29', replied_by = 11, last_post_id = 21 WHERE (id = 15) [0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 11 AND `monitorships`.`topic_id` = 15) LIMIT 1[0m
  [4;35;1mMonitorship Create (0.2ms)[0m   [0mINSERT INTO `monitorships` (`user_id`, `topic_id`, `active`) VALUES(11, 15, 1)[0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 15) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mMonitorship Load (0.1ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 11 AND `monitorships`.`topic_id` = 15) LIMIT 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 15) AND (`taggings`.taggable_type = 'Topic')) [0m
  [4;36;1mSbPost Update (0.2ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 15) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = 'ZvWd1uSGX0nvnTafdb0r', `last_request_at` = '2011-04-16 21:52:29' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = '5DxNnp9xRrwPfZy9UBdr', `last_request_at` = '2011-04-16 21:52:29' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 11) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:29' WHERE (id = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = 'eNVY_ntx8TGrlvFcWxHt', `sb_last_seen_at` = '2011-04-16 21:52:29', `current_login_at` = '2011-04-16 21:52:29', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:29' WHERE `id` = 12[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 12) [0m


Processing TopicsController#create (for 0.0.0.0 at 2011-04-16 14:52:29) [POST]
  Parameters: {"topic"=>{"body"=>"foo", "title"=>"blah", "sticky"=>"1", "locked"=>"1"}, "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.2ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = 'A2KCjrLCdeOK2wV7y8PR', `last_request_at` = '2011-04-16 21:52:29' WHERE `id` = 12[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: body, sticky, locked
  [4;35;1mForum Load (0.2ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 12) [0m
WARNING: Can't mass-assign these protected attributes: title, sticky, locked
  [4;35;1mTopic Create (0.2ms)[0m   [0mINSERT INTO `topics` (`hits`, `created_at`, `title`, `updated_at`, `replied_at`, `forum_id`, `user_id`, `replied_by`, `sb_posts_count`, `last_post_id`, `sticky`, `locked`) VALUES(0, '2011-04-16 21:52:29', 'blah', '2011-04-16 21:52:29', '2011-04-16 21:52:29', 1, 12, NULL, 0, NULL, 0, 0)[0m
  [4;36;1mActivity Create (0.1ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:29', 'topic', 12, 16, 'Topic')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 12) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = 'zAiQsHuNlQq1pwsyun9V', `activities_count` = 1 WHERE `id` = 12[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mForum Update (0.1ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Create (0.1ms)[0m   [0;1mINSERT INTO `sb_posts` (`created_at`, `body_html`, `body`, `updated_at`, `forum_id`, `user_id`, `topic_id`) VALUES('2011-04-16 21:52:29', 'foo', 'foo', '2011-04-16 21:52:29', 1, 12, 16)[0m
  [4;35;1mActivity Create (0.1ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:29', 'sb_post', 12, 22, 'SbPost')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 12) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = 'zulSFre160EZcS5DAT-Z', `activities_count` = 2 WHERE `id` = 12[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mForum Load (0.1ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.1ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 12) [0m
  [4;35;1mTopic Update (0.1ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 16) [0m
  [4;36;1mTopic Update (0.1ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2011-04-16 21:52:29', replied_by = 12, last_post_id = 22 WHERE (id = 16) [0m
  [4;35;1mMonitorship Load (0.1ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 12 AND `monitorships`.`topic_id` = 16) LIMIT 1[0m
  [4;36;1mMonitorship Create (0.1ms)[0m   [0;1mINSERT INTO `monitorships` (`user_id`, `topic_id`, `active`) VALUES(12, 16, 1)[0m
  [4;35;1mMonitorship Load (0.1ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 16) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;35;1mMonitorship Load (0.1ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 12 AND `monitorships`.`topic_id` = 16) LIMIT 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 16) AND (`taggings`.taggable_type = 'Topic')) [0m
  [4;35;1mSbPost Update (0.2ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 16) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = '4ZzVZDWrAyyLMkdc8UNG', `last_request_at` = '2011-04-16 21:52:29' WHERE `id` = 12[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `perishable_token` = 'tf5fi5OPFsqC1jsJJeOj', `last_request_at` = '2011-04-16 21:52:29' WHERE `id` = 12[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 12) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mPost Load (0.2ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.1ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Sent mail to aaron@example.com

Date: Sat, 16 Apr 2011 14:52:29 -0700
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: aaron@example.com
Subject: [Community] Community User information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi there!
You asked us to remind you of your Community username.
Your username is: aaron. 

If you have any questions, or you think this reminder was sent in error, please contact Community support at support@community.com.

Thanks,
The Community team
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 2 AND `friendships`.id <> 2) LIMIT 1[0m
  [4;35;1mFriendship Update (0.2ms)[0m   [0mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (user_id = 1 and friend_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 2 AND `friendships`.user_id = 1 AND `friendships`.id <> 1) LIMIT 1[0m
  [4;36;1mFriendship Update (0.2ms)[0m   [0;1mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mSbPost Load (0.1ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mTopic Load (0.1ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mForum Load (0.1ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Sent mail to aaron@example.com

Date: Sat, 16 Apr 2011 14:52:29 -0700
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: aaron@example.com
Subject: [Community] Community User information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi there!
We've reset your Community password. Your new password is: . 

If you have any questions, please contact Community support at support@community.com.

Thanks,
The Community team
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'aaron' AND `users`.id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:29', `activated_at` = NULL, `perishable_token` = '-V-beAfUfQo3TyakK3l-', `activation_code` = '123456' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('foo', '2011-04-16 21:52:29', '', 'User', NULL, 1, 1, 2, NULL, NULL, NULL, 1)[0m
  [4;36;1mActivity Create (0.1ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:30', 'comment', 2, 26, 'Comment')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `perishable_token` = '8wEU20ugvdqa7nCborW5', `activities_count` = 1 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`comment`, `created_at`, `title`, `commentable_type`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `author_url`, `author_ip`, `notify_by_email`) VALUES('foo', '2011-04-16 21:52:30', '', 'User', NULL, 1, 1, 2, NULL, NULL, NULL, 1)[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:30', 'comment', 2, 27, 'Comment')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `perishable_token` = '9To7PvT3Op7p6c2M0WWY', `activities_count` = 2 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(activities.id) AS count_activities_id FROM `activities` LEFT JOIN comments ON comments.id = activities.item_id AND activities.item_type = 'Comment' WHERE (comments.recipient_id = 1 AND activities.user_id != 1) AND (activities.created_at > '2011-04-09 21:52:30') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:30', 'logged_in', 2, NULL, NULL)[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `perishable_token` = 'DFh_vhqxVYRyXpmzqB5M', `activities_count` = 1 WHERE `id` = 2[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 2 AND `friendships`.id <> 2) LIMIT 1[0m
  [4;35;1mFriendship Update (0.2ms)[0m   [0mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (user_id = 1 and friend_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 2 AND `friendships`.user_id = 1 AND `friendships`.id <> 1) LIMIT 1[0m
  [4;36;1mFriendship Update (0.2ms)[0m   [0;1mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'user-name') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '556dfd0f214066de9525ee10e53754bdf6f963425575e92ce7f3b5a72c420be6709da68d9de4f0124d37fb081a9d3de3be47432bc7a842b27e6bb4e128b949a6') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'gC7AWjAha_ubSwl6Omau') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `activated_at`, `notify_comments`, `zip`, `single_access_token`, `last_request_at`, `crypted_password`, `updated_at`, `stylesheet`, `login_slug`, `perishable_token`, `activation_code`, `country_id`, `role_id`, `avatar_id`, `gender`, `failed_login_count`, `current_login_ip`, `password_salt`, `current_login_at`, `persistence_token`, `birthday`, `activities_count`, `login_count`, `description`, `vendor`, `notify_friend_requests`, `featured_writer`, `sb_posts_count`, `sb_last_seen_at`, `last_login_ip`, `login`, `state_id`, `metro_area_id`, `notify_community_news`, `last_login_at`, `profile_public`, `email`, `view_count`) VALUES('2011-04-16 21:52:30', NULL, 1, NULL, 'gC7AWjAha_ubSwl6Omau', NULL, '4edb72d633f6bbb30986a9e6ee242ec1d6b49caa', '2011-04-16 21:52:30', NULL, 'user-name', 'toi9FRnMOdcFNEGmPZV7', 'd99c76ed8876cae1c2b57ea3747956e8e646e779', NULL, NULL, NULL, NULL, 0, NULL, 'lLz1K1E6icUa2zs2SQVh', NULL, '556dfd0f214066de9525ee10e53754bdf6f963425575e92ce7f3b5a72c420be6709da68d9de4f0124d37fb081a9d3de3be47432bc7a842b27e6bb4e128b949a6', '1997-04-16', 0, 0, NULL, 0, 1, 0, 0, NULL, NULL, 'user-name', NULL, NULL, 1, NULL, 1, 'quire@example.com', 0)[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `login_slug` = 'user-name', `login` = 'user-name', `crypted_password` = '4edb72d633f6bbb30986a9e6ee242ec1d6b49caa', `perishable_token` = 'iOUTb4xBvccqWPvpVnYR', `created_at` = '2011-04-16 21:52:30', `activation_code` = 'd99c76ed8876cae1c2b57ea3747956e8e646e779', `single_access_token` = 'gC7AWjAha_ubSwl6Omau', `birthday` = '1997-04-16', `last_login_at` = '2011-04-16 21:52:30', `email` = 'quire@example.com', `password_salt` = 'lLz1K1E6icUa2zs2SQVh', `persistence_token` = '556dfd0f214066de9525ee10e53754bdf6f963425575e92ce7f3b5a72c420be6709da68d9de4f0124d37fb081a9d3de3be47432bc7a842b27e6bb4e128b949a6' WHERE `id` = 14[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 14) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'foo_and_bar') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '84e61e8a185af9bdf15cff8743c1640d23393355076cf80d0f4e27d796f055566694c7404eb6947cb7c193fa034ffe3086008ae1ed4e42093381868283f71297') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'nXDmMLT7ool0KSsmjU0M') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `activated_at`, `notify_comments`, `zip`, `single_access_token`, `last_request_at`, `crypted_password`, `updated_at`, `stylesheet`, `login_slug`, `perishable_token`, `activation_code`, `country_id`, `role_id`, `avatar_id`, `gender`, `failed_login_count`, `current_login_ip`, `password_salt`, `current_login_at`, `persistence_token`, `birthday`, `activities_count`, `login_count`, `description`, `vendor`, `notify_friend_requests`, `featured_writer`, `sb_posts_count`, `sb_last_seen_at`, `last_login_ip`, `login`, `state_id`, `metro_area_id`, `notify_community_news`, `last_login_at`, `profile_public`, `email`, `view_count`) VALUES('2011-04-16 21:52:30', NULL, 1, NULL, 'nXDmMLT7ool0KSsmjU0M', NULL, 'a2fa62db7c56e90f1a7029774875fbf683918c20', '2011-04-16 21:52:30', NULL, 'foo_and_bar', 'Dzi17td_LJyx28PxU3qK', 'b58b0c545ed32990f91b5654ab42baeddccf265c', NULL, NULL, NULL, NULL, 0, NULL, 'Aqw_OCYTcY94OVgUP5Da', NULL, '84e61e8a185af9bdf15cff8743c1640d23393355076cf80d0f4e27d796f055566694c7404eb6947cb7c193fa034ffe3086008ae1ed4e42093381868283f71297', '1997-04-16', 0, 0, NULL, 0, 1, 0, 0, NULL, NULL, 'foo_and_bar', NULL, NULL, 1, NULL, 1, 'quire@example.com', 0)[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `login_slug` = 'foo_and_bar', `login` = 'foo_and_bar', `crypted_password` = 'a2fa62db7c56e90f1a7029774875fbf683918c20', `perishable_token` = 'GGvfOZjPPxH40nGATNVL', `created_at` = '2011-04-16 21:52:30', `activation_code` = 'b58b0c545ed32990f91b5654ab42baeddccf265c', `single_access_token` = 'nXDmMLT7ool0KSsmjU0M', `birthday` = '1997-04-16', `last_login_at` = '2011-04-16 21:52:30', `email` = 'quire@example.com', `password_salt` = 'Aqw_OCYTcY94OVgUP5Da', `persistence_token` = '84e61e8a185af9bdf15cff8743c1640d23393355076cf80d0f4e27d796f055566694c7404eb6947cb7c193fa034ffe3086008ae1ed4e42093381868283f71297' WHERE `id` = 15[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 15) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7a23838660d1f1fb0ca44669c9ba1c3e44446bfb3614febcb1b919d5a220b738621b486762adb07abcce79c45d6efdedcc5d1379fde04ccbb771a2b6a5c291fa') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'f_RLiUMccStUdVGp3NOT') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `activated_at`, `notify_comments`, `zip`, `single_access_token`, `last_request_at`, `crypted_password`, `updated_at`, `stylesheet`, `login_slug`, `perishable_token`, `activation_code`, `country_id`, `role_id`, `avatar_id`, `gender`, `failed_login_count`, `current_login_ip`, `password_salt`, `current_login_at`, `persistence_token`, `birthday`, `activities_count`, `login_count`, `description`, `vendor`, `notify_friend_requests`, `featured_writer`, `sb_posts_count`, `sb_last_seen_at`, `last_login_ip`, `login`, `state_id`, `metro_area_id`, `notify_community_news`, `last_login_at`, `profile_public`, `email`, `view_count`) VALUES('2011-04-16 21:52:30', NULL, 1, NULL, 'f_RLiUMccStUdVGp3NOT', NULL, 'cc710629757da4993f90e969fa8f0defd1c340b3', '2011-04-16 21:52:30', NULL, 'quire', 'A8MvPv35tABWazO32PTF', '3a93a133f85efe1ba4c6ab1414455cd9892d5793', NULL, NULL, NULL, NULL, 0, NULL, 't5HTHcTezZcG9-9BveSg', NULL, '7a23838660d1f1fb0ca44669c9ba1c3e44446bfb3614febcb1b919d5a220b738621b486762adb07abcce79c45d6efdedcc5d1379fde04ccbb771a2b6a5c291fa', '1997-04-16', 0, 0, NULL, 0, 1, 0, 0, NULL, NULL, 'quire', NULL, NULL, 1, NULL, 1, 'quire@example.com', 0)[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `login_slug` = 'quire', `login` = 'quire', `crypted_password` = 'cc710629757da4993f90e969fa8f0defd1c340b3', `perishable_token` = 'dfHbV8VXrtHDISr34DC0', `created_at` = '2011-04-16 21:52:30', `activation_code` = '3a93a133f85efe1ba4c6ab1414455cd9892d5793', `single_access_token` = 'f_RLiUMccStUdVGp3NOT', `birthday` = '1997-04-16', `last_login_at` = '2011-04-16 21:52:30', `email` = 'quire@example.com', `password_salt` = 't5HTHcTezZcG9-9BveSg', `persistence_token` = '7a23838660d1f1fb0ca44669c9ba1c3e44446bfb3614febcb1b919d5a220b738621b486762adb07abcce79c45d6efdedcc5d1379fde04ccbb771a2b6a5c291fa' WHERE `id` = 16[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 16) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.2ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `activated_at` = NULL, `perishable_token` = 'zEBtz67yRpMRJnECxCFY', `activation_code` = 'e3ef2dc12c79a639a0df2cd86dec9b9fcc0d589d' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.3ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:30', 'logged_in', 1, NULL, NULL)[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `perishable_token` = '8JA7EE5LMhMvGsba-SJb', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.1ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:30', 'logged_in', 1, NULL, NULL)[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `perishable_token` = 'a10ybILkwnlDn9b1ci-n', `activities_count` = 2 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:30', 'logged_in', 1, NULL, NULL)[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `perishable_token` = 'KnLpwmhBkHM1-0nFHZN9', `activities_count` = 3 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mActivity Load (0.4ms)[0m   [0;1mSELECT activities.user_id, count(*) as count FROM `activities` LEFT JOIN users ON users.id = activities.user_id WHERE ( users.activated_at IS NOT NULL) AND (activities.created_at > '2011-04-09 21:52:30') GROUP BY activities.user_id ORDER BY count DESC LIMIT 30[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `avatar_id` = 1, `perishable_token` = 'k7cTad05hVNh6C-qNIfn' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mActivity Load (0.4ms)[0m   [0;1mSELECT activities.user_id, count(*) as count FROM `activities` LEFT JOIN users ON users.id = activities.user_id WHERE ( users.avatar_id IS NOT NULL AND users.activated_at IS NOT NULL) AND (activities.created_at > '2011-04-09 21:52:30') GROUP BY activities.user_id ORDER BY count DESC LIMIT 30[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (users.featured_writer = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY '2foo-and-bar') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '26adc910012e9debe0ed418b89ad01a9b1e436af5ef457b82e80395503ea786ec6a7d760bf628ac90a95071582d099893add1a0c6fc964b95cb227418c7cf900') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'pYjjAKThmhYtVy0UeNiz') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `activated_at`, `notify_comments`, `zip`, `single_access_token`, `last_request_at`, `crypted_password`, `updated_at`, `stylesheet`, `login_slug`, `perishable_token`, `activation_code`, `country_id`, `role_id`, `avatar_id`, `gender`, `failed_login_count`, `current_login_ip`, `password_salt`, `current_login_at`, `persistence_token`, `birthday`, `activities_count`, `login_count`, `description`, `vendor`, `notify_friend_requests`, `featured_writer`, `sb_posts_count`, `sb_last_seen_at`, `last_login_ip`, `login`, `state_id`, `metro_area_id`, `notify_community_news`, `last_login_at`, `profile_public`, `email`, `view_count`) VALUES('2011-04-16 21:52:30', NULL, 1, NULL, 'pYjjAKThmhYtVy0UeNiz', NULL, '704b3258f492fd6aeccfe9a1d1b852f642f1e194', '2011-04-16 21:52:30', NULL, '2foo-and-bar', 'sKQBTSdj1eUrsCYH5dDC', 'f10f09a72ccd0f6dc4ffa5a5ce3b2e1d125130c9', NULL, NULL, NULL, NULL, 0, NULL, 'UnSHl1yIvKE3R5UPU2Kv', NULL, '26adc910012e9debe0ed418b89ad01a9b1e436af5ef457b82e80395503ea786ec6a7d760bf628ac90a95071582d099893add1a0c6fc964b95cb227418c7cf900', '1997-04-16', 0, 0, NULL, 0, 1, 0, 0, NULL, NULL, '2foo-and-bar', NULL, NULL, 1, NULL, 1, 'quire@example.com', 0)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `login_slug` = '2foo-and-bar', `login` = '2foo-and-bar', `crypted_password` = '704b3258f492fd6aeccfe9a1d1b852f642f1e194', `perishable_token` = '_J22jDDlnl5kIjOvSjSG', `created_at` = '2011-04-16 21:52:30', `activation_code` = 'f10f09a72ccd0f6dc4ffa5a5ce3b2e1d125130c9', `single_access_token` = 'pYjjAKThmhYtVy0UeNiz', `birthday` = '1997-04-16', `last_login_at` = '2011-04-16 21:52:30', `email` = 'quire@example.com', `password_salt` = 'UnSHl1yIvKE3R5UPU2Kv', `persistence_token` = '26adc910012e9debe0ed418b89ad01a9b1e436af5ef457b82e80395503ea786ec6a7d760bf628ac90a95071582d099893add1a0c6fc964b95cb227418c7cf900' WHERE `id` = 17[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 17) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'benmoore@benmoore.net') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5573adfacd0f9ee84422363e5945e8216d7ea084a4b07e7f4897e2ab225492e77d37083d6cd7e5e7f59a060cf83c826ba3dc78466e37033e3f64797ed1069dbe') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'tHjVz2igVSnc6xEZ1wak') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `activated_at`, `notify_comments`, `zip`, `single_access_token`, `last_request_at`, `crypted_password`, `updated_at`, `stylesheet`, `login_slug`, `perishable_token`, `activation_code`, `country_id`, `role_id`, `avatar_id`, `gender`, `failed_login_count`, `current_login_ip`, `password_salt`, `current_login_at`, `persistence_token`, `birthday`, `activities_count`, `login_count`, `description`, `vendor`, `notify_friend_requests`, `featured_writer`, `sb_posts_count`, `sb_last_seen_at`, `last_login_ip`, `login`, `state_id`, `metro_area_id`, `notify_community_news`, `last_login_at`, `profile_public`, `email`, `view_count`) VALUES('2011-04-16 21:52:30', NULL, 1, NULL, 'tHjVz2igVSnc6xEZ1wak', NULL, 'a10fedd3dd807d91d2e75b9aa5c8f301bcabd2bf', '2011-04-16 21:52:30', NULL, 'quire', '3A1dl2KoyxJWHLYzqedd', 'c507a10a9107c658188a268162d4207ec7297be2', NULL, NULL, NULL, NULL, 0, NULL, 'UGPrw2dBm4U_-9BRM0wi', NULL, '5573adfacd0f9ee84422363e5945e8216d7ea084a4b07e7f4897e2ab225492e77d37083d6cd7e5e7f59a060cf83c826ba3dc78466e37033e3f64797ed1069dbe', '1997-04-16', 0, 0, NULL, 0, 1, 0, 0, NULL, NULL, 'quire', NULL, NULL, 1, NULL, 1, 'BENMOORE@BENMOORE.NET', 0)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `login_slug` = 'quire', `login` = 'quire', `crypted_password` = 'a10fedd3dd807d91d2e75b9aa5c8f301bcabd2bf', `perishable_token` = 'C481NYt9PcLGRJ7RhfhO', `created_at` = '2011-04-16 21:52:30', `activation_code` = 'c507a10a9107c658188a268162d4207ec7297be2', `single_access_token` = 'tHjVz2igVSnc6xEZ1wak', `birthday` = '1997-04-16', `last_login_at` = '2011-04-16 21:52:30', `email` = 'BENMOORE@BENMOORE.NET', `password_salt` = 'UGPrw2dBm4U_-9BRM0wi', `persistence_token` = '5573adfacd0f9ee84422363e5945e8216d7ea084a4b07e7f4897e2ab225492e77d37083d6cd7e5e7f59a060cf83c826ba3dc78466e37033e3f64797ed1069dbe' WHERE `id` = 18[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 18) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2011-04-16 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFriendship Load (0.3ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 3 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2011-04-16 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;36;1mFriendship Create (0.2ms)[0m   [0;1mINSERT INTO `friendships` (`created_at`, `user_id`, `initiator`, `friendship_status_id`, `friend_id`) VALUES('2011-04-16 21:52:30', 1, 1, 1, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2011-04-16 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'b9818ae6225e6c05baeb5e0b223edefc935dc4c5a0b43ec6d237101623efce5ad06d06924aec643adbbd717cbe945de45928d322ef9f9cc8ba8a2b2900f6add1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'N6_mXRgo_yRoaRdnrLMu') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `activated_at`, `notify_comments`, `zip`, `single_access_token`, `last_request_at`, `crypted_password`, `updated_at`, `stylesheet`, `login_slug`, `perishable_token`, `activation_code`, `country_id`, `role_id`, `avatar_id`, `gender`, `failed_login_count`, `current_login_ip`, `password_salt`, `current_login_at`, `persistence_token`, `birthday`, `activities_count`, `login_count`, `description`, `vendor`, `notify_friend_requests`, `featured_writer`, `sb_posts_count`, `sb_last_seen_at`, `last_login_ip`, `login`, `state_id`, `metro_area_id`, `notify_community_news`, `last_login_at`, `profile_public`, `email`, `view_count`) VALUES('2011-04-16 21:52:30', NULL, 1, NULL, 'N6_mXRgo_yRoaRdnrLMu', NULL, 'c5e404630280a475e32ba4ffe4c95b31a230d4cb', '2011-04-16 21:52:30', NULL, 'quire', 'pnc-T3saKXjTln4-9EqW', 'f1788cb74be6dad6ab2c7092916c3dbdc6e26c88', NULL, NULL, NULL, NULL, 0, NULL, 'G995AXqawCtDGUyi-8n2', NULL, 'b9818ae6225e6c05baeb5e0b223edefc935dc4c5a0b43ec6d237101623efce5ad06d06924aec643adbbd717cbe945de45928d322ef9f9cc8ba8a2b2900f6add1', '1997-04-16', 0, 0, NULL, 0, 1, 0, 0, NULL, NULL, 'quire', NULL, NULL, 1, NULL, 1, 'quire@example.com', 0)[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `login_slug` = 'quire', `login` = 'quire', `crypted_password` = 'c5e404630280a475e32ba4ffe4c95b31a230d4cb', `perishable_token` = 'EXCgAVLGH_ub-ijm_ypu', `created_at` = '2011-04-16 21:52:30', `activation_code` = 'f1788cb74be6dad6ab2c7092916c3dbdc6e26c88', `single_access_token` = 'N6_mXRgo_yRoaRdnrLMu', `birthday` = '1997-04-16', `last_login_at` = '2011-04-16 21:52:30', `email` = 'quire@example.com', `password_salt` = 'G995AXqawCtDGUyi-8n2', `persistence_token` = 'b9818ae6225e6c05baeb5e0b223edefc935dc4c5a0b43ec6d237101623efce5ad06d06924aec643adbbd717cbe945de45928d322ef9f9cc8ba8a2b2900f6add1' WHERE `id` = 19[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 19) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin_two' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mState Load (0.2ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `login_slug` = 'quentin_two', `login` = 'quentin_two', `perishable_token` = '5HkAHpxgmxRn1c2qdKZ4' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.login) = 'quentin_two') LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:30' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `perishable_token` = 't_UYDDD1VWrO0zTT6b7g', `sb_last_seen_at` = '2011-04-16 21:52:30', `current_login_at` = '2011-04-16 21:52:30', `login_count` = 1, `current_login_ip` = '1.1.1.1', `last_request_at` = '2011-04-16 21:52:30' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `perishable_token` = 'eCvzRNSo7THWMbJYtd9N', `last_request_at` = '2011-04-16 21:52:30' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:30', `perishable_token` = '6yEr5ynLi25y-JD4E_ep', `last_request_at` = '2011-04-16 21:52:30' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'foo bar') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9eaafba1426c4f65217a7e068019d93f5d024fa4d897b86da6e37c3afe08a1cd6c479f3d44fb7dca94167de9e3d17c2fdf8b4356d529113b0811c2b9b8412f51') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'LNnHxHuMUXIpC3icSsH9') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'contests') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '48abc9d232497b7a17ef9143a5b958bab338821464a1dfee312afcf1c22714d67517e0e52bbac7b53c995b73ec843608dfe7d8463008764b8d1fa6f87323c147') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'c_MyQkyLDWyg9YKusUrO') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'contests') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '48abc9d232497b7a17ef9143a5b958bab338821464a1dfee312afcf1c22714d67517e0e52bbac7b53c995b73ec843608dfe7d8463008764b8d1fa6f87323c147') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'c_MyQkyLDWyg9YKusUrO') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY '&stripes') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '02d73338a307b393ef2fad1f0110f776fc0a4af75f28d61c845a8cfa46fdc970f5d3ef0a0740c84f839068759cccf7fcf014ea93558e57f1367f1d082c756ab0') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'KLiX_scbI_JEwDvXiUdf') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5390a77dcbd39d6fdc92df38058f764db8c169d9b90394035ec23964f4dc12ea3ce305d7f4619fcdce8785f93c71abd569f888a2a1910286be526f542e3015b0') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'i4hWjD4BKnN-e6PRL2jd') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6155af563540e138000a73bce0ca343b0105946c7f2e0adadfa92bfd4e7f771c746223fbe56348effe310d851a2e3143c7de3b244982d137571a5b31f0d6a2cc') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'te3tNDyCbuwh3QTSFU2s') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2a1d9ef3b7f32935750ea9fba8d0447eb17fac3bf005dcaebe11b3b5b613a8e850878b9f1f86202cdce761607435074b07348724c17ed59d08f648268e251821') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY '6IcLLN1PLXLRtO3jqlv3') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1610182761ba7ee63ba2df5d19b9771afae2e5adea01212dc7d15ac993b45d9da1fe1c46453351fcfb88a9a1b9b1a1683ca2bb806e6c1dee2fabe2a5554bcb1a') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'BQzRaASOvnqjMR-UwoDM') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bd67c48cdc5d3675200129e40a66ad6c685b435c1f8dad3668abc136ad2e4db1b868418f2077352faa5912a317421c6e0e68a00b2919e0e36900778f3c6c7420') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY '-suSj7L0JBI9Zhd3Rsig') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8b753fbbf8d4cddbc9bba1d10658a8a80bf5ff948ac32e2b4eff468fab3020f92d7c94862c98f8004447562d029cf8e34e75b612b0186ba20086639d09562516' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mState Load (0.3ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:31' WHERE (id = 1) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `crypted_password` = '48ba6b3e6332ca6f9d3f8f25f48af739c04c1fda', `perishable_token` = 'HbWWDYbovXnAvKHLyJXa', `sb_last_seen_at` = '2011-04-16 21:52:31', `current_login_at` = '2011-04-16 21:52:31', `password_salt` = 'D5nYt9FentdCt8TUtUh-', `login_count` = 1, `persistence_token` = '8b753fbbf8d4cddbc9bba1d10658a8a80bf5ff948ac32e2b4eff468fab3020f92d7c94862c98f8004447562d029cf8e34e75b612b0186ba20086639d09562516', `current_login_ip` = '1.1.1.1', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.login) = 'quentin') LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:31' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'lmWibdfIxVc6noTCUQ5i', `sb_last_seen_at` = '2011-04-16 21:52:31', `last_login_at` = '2011-04-16 21:52:31', `last_login_ip` = '1.1.1.1', `current_login_at` = '2011-04-16 21:52:31', `login_count` = 2, `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'FXBYsy07lSPKN2Oz9MP0', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'oWjEFB_omh31fPGNrqsk', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin ' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'r10RqcsR9T2MCq44s4dz' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.3ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'G-uACbJOdAJROfYuC_6J' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:31', 'logged_in', 1, NULL, NULL)[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'nSpHwp6YdX_xbYcNA9US', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:31' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `login_slug` = 'administrator', `perishable_token` = '52VRiZo_l-QWFLFfON8I', `sb_last_seen_at` = '2011-04-16 21:52:31', `current_login_at` = '2011-04-16 21:52:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#assume (for 0.0.0.0 at 2011-04-16 14:52:31) [POST]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'kIgWqv_r6C0FtwRhNlLE', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:31' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'ZeHukAk2nQGbQhIoNtXx', `sb_last_seen_at` = '2011-04-16 21:52:31', `current_login_at` = '2011-04-16 21:52:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'TifsqhpB2uqucd2qj2x0', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'SlCcEqyvjWrfuyvbJqD0', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#create (for 0.0.0.0 at 2011-04-16 14:52:31) [POST]
  Parameters: {"inviter_code"=>"52a63c0716bb9c45d66f2093d11cc229d94b0cc0", "inviter_id"=>"1", "user"=>{"password_confirmation"=>"quire123", "birthday"=>Tue, 16 Apr 1996 21:52:31 UTC +00:00, "login"=>"quire", "password"=>"quire123", "email"=>"quire@example.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f4f08746c0177159822f0937e3c65e4cbdd8867d0e1cfc08e3ec847f8378d8fc08a996fe97fd5819437001181dc4150c41a3b4e76767a3165fd733ca0ab9d05c') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'F7AuQ94y9IFNLW-ISr5F') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `activated_at`, `notify_comments`, `zip`, `single_access_token`, `last_request_at`, `crypted_password`, `updated_at`, `stylesheet`, `login_slug`, `perishable_token`, `activation_code`, `country_id`, `role_id`, `avatar_id`, `gender`, `failed_login_count`, `current_login_ip`, `password_salt`, `current_login_at`, `persistence_token`, `birthday`, `activities_count`, `login_count`, `description`, `vendor`, `notify_friend_requests`, `featured_writer`, `sb_posts_count`, `sb_last_seen_at`, `last_login_ip`, `login`, `state_id`, `metro_area_id`, `notify_community_news`, `last_login_at`, `profile_public`, `email`, `view_count`) VALUES('2011-04-16 21:52:31', NULL, 1, NULL, 'F7AuQ94y9IFNLW-ISr5F', NULL, 'b61caad6b45d2959f86b9c1c669025939bcff1f5', '2011-04-16 21:52:31', NULL, 'quire', 'k9y1qasZ9wBS1wln9MbN', 'e21e74f836327d49d9e4cbab8e2aa9b2f3591efb', NULL, 3, NULL, NULL, 0, NULL, '35xri0PxFv2hC45RRyjR', NULL, 'f4f08746c0177159822f0937e3c65e4cbdd8867d0e1cfc08e3ec847f8378d8fc08a996fe97fd5819437001181dc4150c41a3b4e76767a3165fd733ca0ab9d05c', '1996-04-16', 0, 0, NULL, 0, 1, 0, 0, NULL, NULL, 'quire', NULL, NULL, 1, NULL, 1, 'quire@example.com', 0)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `login_slug` = 'quire', `login` = 'quire', `crypted_password` = 'b61caad6b45d2959f86b9c1c669025939bcff1f5', `perishable_token` = 'i4r6Bh7cvunovZcT4ehE', `created_at` = '2011-04-16 21:52:31', `activation_code` = 'e21e74f836327d49d9e4cbab8e2aa9b2f3591efb', `single_access_token` = 'F7AuQ94y9IFNLW-ISr5F', `birthday` = '1996-04-16', `last_login_at` = '2011-04-16 21:52:31', `email` = 'quire@example.com', `password_salt` = '35xri0PxFv2hC45RRyjR', `role_id` = 3, `persistence_token` = 'f4f08746c0177159822f0937e3c65e4cbdd8867d0e1cfc08e3ec847f8378d8fc08a996fe97fd5819437001181dc4150c41a3b4e76767a3165fd733ca0ab9d05c' WHERE `id` = 20[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 20) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:31' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'BynIcTH47UATOmyIij5D', `sb_last_seen_at` = '2011-04-16 21:52:31', `current_login_at` = '2011-04-16 21:52:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.1ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing UsersController#assume (for 0.0.0.0 at 2011-04-16 14:52:31) [POST]
  Parameters: {"id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'nziCM4ZZoGA9Jwqi-h6w', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'YJcBFIbB8C1U0v2UZE5U', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = '2OjFqSsopAUhLOsTW13k', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:31' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'N6j1fGfhQPVgZGPKJFAS', `sb_last_seen_at` = '2011-04-16 21:52:31', `current_login_at` = '2011-04-16 21:52:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.6ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.3ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing UsersController#return_admin (for 0.0.0.0 at 2011-04-16 14:52:31) [POST]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = '7izC5s1XOuyhBHIhgsys', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:31' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `login_slug` = 'administrator', `perishable_token` = 'otuRHgRDpk0QQ7h4GVIk', `sb_last_seen_at` = '2011-04-16 21:52:31', `current_login_at` = '2011-04-16 21:52:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'xLTO-8MwpdkgQQb-FVKL', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'sCYCyqrZpyghEQHrgUbv', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:31' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = 'w9oSLBHCsX7SsMypc9lT', `sb_last_seen_at` = '2011-04-16 21:52:31', `current_login_at` = '2011-04-16 21:52:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing UsersController#return_admin (for 0.0.0.0 at 2011-04-16 14:52:31) [POST]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:31', `perishable_token` = '8ToPpSh3914KD_tMlx8W', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:31' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `login_slug` = 'administrator', `perishable_token` = 'A9q1ZhtZs-KO7ruH_JOe', `sb_last_seen_at` = '2011-04-16 21:52:32', `current_login_at` = '2011-04-16 21:52:31', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:31' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `perishable_token` = 'wy6IMS4qVZRXoCOaQRDS', `last_request_at` = '2011-04-16 21:52:32' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `perishable_token` = 'ECRlUD1XMiL41w1cKTeF', `last_request_at` = '2011-04-16 21:52:32' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.1ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `activated_at` = NULL, `perishable_token` = 'Htd4kEp5Mtze2BrWpO6-', `activation_code` = ':quentin_activation_code' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `perishable_token` = 'DmNqEsEXAU-22cODpQXw', `activation_code` = '26c45bf7a887fed12712b8d848699dbc1dcacdc3' WHERE `id` = 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#activate (for 0.0.0.0 at 2011-04-16 14:52:32) [GET]
  Parameters: {"id"=>"26c45bf7a887fed12712b8d848699dbc1dcacdc3"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`activation_code` = '26c45bf7a887fed12712b8d848699dbc1dcacdc3') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.3ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `activated_at` = '2011-04-16 21:52:32', `perishable_token` = 'JyAyH_5UH1VvgOgH508s', `activation_code` = NULL WHERE `id` = 1[0m
  [4;35;1mTag Load (0.6ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2011-04-16 14:52:32) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"quire123", "birthday"=>Tue, 16 Apr 1996 21:52:32 UTC +00:00, "login"=>"quire", "password"=>"quire123", "email"=>"quire@example.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ee542344a2b35bfb5e4a299d4100fef767f98e24a1543a502a3e8c0b5edbe1f75d52653939e41c817d74d1b9832f2598cbe3b8634d66f12e8edbf085cb008b97') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY '-UyeWdeC8P0WI-6i5reH') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `activated_at`, `notify_comments`, `zip`, `single_access_token`, `last_request_at`, `crypted_password`, `updated_at`, `stylesheet`, `login_slug`, `perishable_token`, `activation_code`, `country_id`, `role_id`, `avatar_id`, `gender`, `failed_login_count`, `current_login_ip`, `password_salt`, `current_login_at`, `persistence_token`, `birthday`, `activities_count`, `login_count`, `description`, `vendor`, `notify_friend_requests`, `featured_writer`, `sb_posts_count`, `sb_last_seen_at`, `last_login_ip`, `login`, `state_id`, `metro_area_id`, `notify_community_news`, `last_login_at`, `profile_public`, `email`, `view_count`) VALUES('2011-04-16 21:52:32', NULL, 1, NULL, '-UyeWdeC8P0WI-6i5reH', NULL, '26112a8884d1950b7af3ff28662920e563624723', '2011-04-16 21:52:32', NULL, 'quire', 'ifxGb4Zlc5t4hPfI5Jtp', '43e4e6370ffeee1d6615d37509066df9704d7b4a', NULL, 3, NULL, NULL, 0, NULL, 'fqfQc_O3UEPy24QZ9Imv', NULL, 'ee542344a2b35bfb5e4a299d4100fef767f98e24a1543a502a3e8c0b5edbe1f75d52653939e41c817d74d1b9832f2598cbe3b8634d66f12e8edbf085cb008b97', '1996-04-16', 0, 0, NULL, 0, 1, 0, 0, NULL, NULL, 'quire', NULL, NULL, 1, NULL, 1, 'quire@example.com', 0)[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `login_slug` = 'quire', `login` = 'quire', `crypted_password` = '26112a8884d1950b7af3ff28662920e563624723', `perishable_token` = 'fS97vun1ym-0ByKbCjdz', `created_at` = '2011-04-16 21:52:32', `activation_code` = '43e4e6370ffeee1d6615d37509066df9704d7b4a', `single_access_token` = '-UyeWdeC8P0WI-6i5reH', `birthday` = '1996-04-16', `last_login_at` = '2011-04-16 21:52:32', `email` = 'quire@example.com', `password_salt` = 'fqfQc_O3UEPy24QZ9Imv', `role_id` = 3, `persistence_token` = 'ee542344a2b35bfb5e4a299d4100fef767f98e24a1543a502a3e8c0b5edbe1f75d52653939e41c817d74d1b9832f2598cbe3b8634d66f12e8edbf085cb008b97' WHERE `id` = 21[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 21) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:32' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `perishable_token` = 'wdHsAiPq7NJ30A2xGnzv', `sb_last_seen_at` = '2011-04-16 21:52:32', `current_login_at` = '2011-04-16 21:52:32', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:32' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:32', 16966, 'image/jpg', NULL, '2011-04-16 21:52:32', NULL, 1, 'library.jpg', NULL, 300, NULL, 142, NULL)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:32', 'photo', 1, 23, 'Photo')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `perishable_token` = 'xhcBvnfZ0QWksTyE-Twf', `activities_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 23) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'large' AND `photos`.`parent_id` = 23) LIMIT 1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 23) [0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:32', 18061, 'image/jpg', NULL, '2011-04-16 21:52:32', 'large', NULL, 'library_large.jpg', 23, 300, NULL, 142, NULL)[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 24) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'medium' AND `photos`.`parent_id` = 23) LIMIT 1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 23) [0m
  [4;35;1mPhoto Create (0.4ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:32', 18061, 'image/jpg', NULL, '2011-04-16 21:52:32', 'medium', NULL, 'library_medium.jpg', 23, 320, NULL, 290, NULL)[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 25) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'thumb' AND `photos`.`parent_id` = 23) LIMIT 1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 23) [0m
  [4;35;1mPhoto Create (0.4ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:32', 18061, 'image/jpg', NULL, '2011-04-16 21:52:32', 'thumb', NULL, 'library_thumb.jpg', 23, 100, NULL, 100, NULL)[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 26) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `avatar_id` = 23, `perishable_token` = 'Gt4uSyXLjJRbVJqd9OFn' WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#crop_profile_photo (for 0.0.0.0 at 2011-04-16 14:52:32) [PUT]
  Parameters: {"y1"=>"0", "x1"=>"0", "id"=>"1", "height"=>"320", "width"=>"290"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `perishable_token` = '7HJBnbLnuKsU1JW9GMf3', `last_request_at` = '2011-04-16 21:52:32' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mPhoto Load (0.1ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 23) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPhoto Update (0.4ms)[0m   [0mUPDATE `photos` SET `updated_at` = '2011-04-16 21:52:32', `filename` = 'custom_library.jpg', `size` = 18058 WHERE `id` = 23[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 23) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'large' AND `photos`.`parent_id` = 23) LIMIT 1[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 23) [0m
  [4;35;1mPhoto Update (0.3ms)[0m   [0mUPDATE `photos` SET `updated_at` = '2011-04-16 21:52:32', `filename` = 'custom_library_large.jpg', `size` = 18050 WHERE `id` = 24[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 24) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'medium' AND `photos`.`parent_id` = 23) LIMIT 1[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 23) [0m
  [4;35;1mPhoto Update (0.4ms)[0m   [0mUPDATE `photos` SET `updated_at` = '2011-04-16 21:52:32', `filename` = 'custom_library_medium.jpg', `size` = 18050 WHERE `id` = 25[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 25) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'thumb' AND `photos`.`parent_id` = 23) LIMIT 1[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 23) [0m
  [4;35;1mPhoto Update (0.4ms)[0m   [0mUPDATE `photos` SET `updated_at` = '2011-04-16 21:52:32', `filename` = 'custom_library_thumb.jpg', `size` = 18050 WHERE `id` = 26[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 26) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `perishable_token` = '8zuVJeB8YH52CDPdpaSz', `last_request_at` = '2011-04-16 21:52:32' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `perishable_token` = 'vgRnxQ8cOQwVlg97Oqmc', `last_request_at` = '2011-04-16 21:52:32' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:32' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `perishable_token` = '8UkyR47rPZmGw0QnhjJs', `sb_last_seen_at` = '2011-04-16 21:52:32', `current_login_at` = '2011-04-16 21:52:32', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:32' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#deactivate (for 0.0.0.0 at 2011-04-16 14:52:32) [PUT]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `perishable_token` = 'ntUld7yVtnTzHelRNupR', `last_request_at` = '2011-04-16 21:52:32' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.1ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `activated_at` = NULL, `perishable_token` = 'xRkUmu6VyeihFhXqo7RP', `activation_code` = 'd417b0b018522d14afec33c53c980a8f47dfa499' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `perishable_token` = '4E9hzp2smWjOLdYSdAdC', `metro_area_id` = 2 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 2) [0m
  [4;36;1mMetroArea Update (0.3ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:32' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `login_slug` = 'administrator', `perishable_token` = 'VrBuiXY_3myOkkbWgPpy', `sb_last_seen_at` = '2011-04-16 21:52:32', `current_login_at` = '2011-04-16 21:52:32', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:32' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2011-04-16 14:52:32) [DELETE]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:52:26", updated_at: "2011-04-16 21:52:26", persistence_token: "b3424803297418b2bfed1764730e2507c6fc4575f24d06a1037...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:52:26", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "NtJKnn6qcQIAgFbSCCBp", perishable_token: "ks6OD-Zs2WL5QZN6Pcfi", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:32', `perishable_token` = 'vAU1NbqF30yQ5ZbsNecS', `last_request_at` = '2011-04-16 21:52:32' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTagging Load (0.3ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'User') [0m
  [4;36;1mComment Load (0.4ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` WHERE (`messages`.sender_id = 1 AND (sender_deleted = 0)) ORDER BY created_at DESC[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE (`messages`.recipient_id = 1 AND (recipient_deleted = 0)) ORDER BY created_at DESC[0m
  [4;35;1mPost Load (0.3ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND (published_as = 'live') ORDER BY published_at desc[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 2 AND `taggings`.taggable_type = 'Post') [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Post') [0m
  [4;35;1mPoll Load (0.3ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 2 AND `favorites`.favoritable_type = 'Post') [0m
  [4;35;1mPost Destroy (0.2ms)[0m   [0mDELETE FROM `posts` WHERE `id` = 2[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Comment') [0m
  [4;35;1mComment Destroy (0.2ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Comment') [0m
  [4;35;1mComment Destroy (0.5ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.4ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mTagging Load (0.3ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Post') [0m
  [4;35;1mActivity Load (0.3ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Post') [0m
  [4;36;1mPoll Load (0.2ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 1) [0m
  [4;35;1mFavorite Load (0.2ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Post') [0m
  [4;36;1mPost Destroy (0.2ms)[0m   [0;1mDELETE FROM `posts` WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Post')) [0m
  [4;36;1mPhoto Load (0.4ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 1) ORDER BY created_at desc[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Photo') [0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.parent_id = 1) [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Photo') [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;35;1mTag Update (0.2ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mTagging Destroy (0.2ms)[0m   [0;1mDELETE FROM `taggings` WHERE `id` = 1[0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Photo') [0m
  [4;36;1mPhoto Destroy (0.1ms)[0m   [0;1mDELETE FROM `photos` WHERE `id` = 1[0m
Exception destroying  "/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/public/photos/0000/0001/test.jpg": [Errno::ENOENT] 
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `unlink'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1302:in `platform_support'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1296:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:771:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:549:in `rm'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `each'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `rm'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:88:in `destroy_file'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:166:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:93:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `run'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:486:in `run_callbacks'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:344:in `callback'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:338:in `destroy_without_transactions'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:182:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:192:in `destroy'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations.rb:1421:in `has_many_dependent_destroy_for_photos'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_collection.rb:369:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_collection.rb:369:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations.rb:1421:in `has_many_dependent_destroy_for_photos'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:166:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:93:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:276:in `run_callbacks'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:344:in `callback'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:336:in `destroy_without_transactions'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:182:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:192:in `destroy'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/app/controllers/users_controller.rb:161:in `destroy'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:638:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:206:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:206:in `around_proc'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:182:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:182:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:184:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:635:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:615:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:638:in `run_before_filters'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/lib/localized_application.rb:25:in `set_locale'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:186:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:635:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:615:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:567:in `process_with_test'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:447:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:413:in `delete'
 > ./vendor/plugins/community_engine/test/functional/users_controller_test.rb:240:in `test_should_destroy_user'
 > ./vendor/plugins/community_engine/test/unit/../test_helper.rb:29:in `assert_difference'
 > ./vendor/plugins/community_engine/test/functional/users_controller_test.rb:239:in `test_should_destroy_user'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `__send__'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
 > /usr/local/lib/ruby/1.8/test/unit.rb:278
 > /usr/local/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Photo') [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.parent_id = 2) [0m
  [4;36;1mTagging Load (0.2ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 2 AND `taggings`.taggable_type = 'Photo') [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Photo') [0m
  [4;36;1mPhoto Destroy (0.2ms)[0m   [0;1mDELETE FROM `photos` WHERE `id` = 2[0m
Exception destroying  "/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/public/photos/0000/0002/test.jpg": [Errno::ENOENT] 
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `unlink'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1297:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1302:in `platform_support'
 > /usr/local/lib/ruby/1.8/fileutils.rb:1296:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:771:in `remove_file'
 > /usr/local/lib/ruby/1.8/fileutils.rb:549:in `rm'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `each'
 > /usr/local/lib/ruby/1.8/fileutils.rb:548:in `rm'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:88:in `destroy_file'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:166:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:93:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `run'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:486:in `run_callbacks'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:344:in `callback'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:338:in `destroy_without_transactions'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:182:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:192:in `destroy'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations.rb:1421:in `has_many_dependent_destroy_for_photos'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_collection.rb:369:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations/association_collection.rb:369:in `method_missing'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/associations.rb:1421:in `has_many_dependent_destroy_for_photos'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:166:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:93:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `each'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:92:in `run'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:276:in `run_callbacks'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:344:in `callback'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/callbacks.rb:336:in `destroy_without_transactions'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:182:in `transaction'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/transactions.rb:192:in `destroy'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/app/controllers/users_controller.rb:161:in `destroy'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:638:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:206:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:206:in `around_proc'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:182:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:182:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:184:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:635:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:615:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:638:in `run_before_filters'
 > /Users/robertyu/Desktop/rhigh5/vendor/plugins/community_engine/lib/localized_application.rb:25:in `set_locale'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:186:in `call'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:635:in `run_before_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:615:in `call_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:567:in `process_with_test'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:447:in `process'
 > /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/test_process.rb:413:in `delete'
 > ./vendor/plugins/community_engine/test/functional/users_controller_test.rb:240:in `test_should_destroy_user'
 > ./vendor/plugins/community_engine/test/unit/../test_helper.rb:29:in `assert_difference'
 > ./vendor/plugins/community_engine/test/functional/users_controller_test.rb:239:in `test_should_destroy_user'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `__send__'
 > /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/testing/setup_and_teardown.rb:62:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > /usr/local/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
 > /usr/local/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
 > /usr/local/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
 > /usr/local/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
 > /usr/local/lib/ruby/1.8/test/unit.rb:278
 > /usr/local/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mInvitation Load (0.1ms)[0m   [0;1mSELECT * FROM `invitations` WHERE (`invitations`.user_id = 1) [0m
  [4;35;1mOffering Load (0.1ms)[0m   [0mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 1) [0m
  [4;36;1mRsvp Load (0.2ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.user_id = 1) [0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Rsvp') [0m
  [4;36;1mRsvp Destroy (0.1ms)[0m   [0;1mDELETE FROM `rsvps` WHERE `id` = 1[0m
  [4;35;1mFriendship Load (0.1ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 1) [0m
  [4;36;1mFriendship Destroy (0.1ms)[0m   [0;1mDELETE FROM `friendships` WHERE `id` = 1[0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;36;1mFriendship Load (0.2ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 1 AND (initiator = 0)) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.friend_id = 1) [0m
  [4;36;1mFriendship Destroy (0.1ms)[0m   [0;1mDELETE FROM `friendships` WHERE `id` = 2[0m
  [4;35;1mModeratorship Load (0.1ms)[0m   [0mSELECT * FROM `moderatorships` WHERE (`moderatorships`.user_id = 1) [0m
  [4;36;1mSbPost Load (0.2ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.user_id = 1) [0m
  [4;35;1mTopic Load (0.2ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.user_id = 1) [0m
  [4;36;1mMonitorship Load (0.2ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.user_id = 1) [0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.user_id = 1) ORDER BY created_at desc[0m
  [4;36;1mActivity Load (0.1ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Comment') [0m
  [4;35;1mComment Destroy (0.1ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 5[0m
  [4;36;1mPost Load (0.1ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 3) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'Comment') [0m
  [4;35;1mComment Destroy (0.1ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 6[0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.recipient_id = 1) ORDER BY created_at desc[0m
  [4;35;1mClipping Load (0.1ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 1) ORDER BY created_at desc[0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Clipping') [0m
  [4;35;1mClippingImage Load (0.1ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Clipping') [0m
  [4;36;1mTag Load (0.1ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;35;1mTag Update (0.2ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTagging Destroy (0.1ms)[0m   [0;1mDELETE FROM `taggings` WHERE `id` = 2[0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Clipping') [0m
  [4;36;1mClipping Destroy (0.1ms)[0m   [0;1mDELETE FROM `clippings` WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Clipping') [0m
  [4;35;1mClippingImage Load (0.2ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 2 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 2 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mTagging Load (0.2ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 2 AND `taggings`.taggable_type = 'Clipping') [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;35;1mTag Update (0.2ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTagging Destroy (0.1ms)[0m   [0;1mDELETE FROM `taggings` WHERE `id` = 3[0m
  [4;35;1mActivity Load (0.1ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Clipping') [0m
  [4;36;1mClipping Destroy (0.1ms)[0m   [0;1mDELETE FROM `clippings` WHERE `id` = 2[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'Clipping')) [0m
  [4;36;1mFavorite Load (0.2ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.user_id = 1) ORDER BY created_at desc[0m
  [4;35;1mUser Destroy (0.2ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mActivity Load (0.2ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`user_id` = 1) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:33', `perishable_token` = 'JkZtrxqwlbFdJLJxbbu0', `last_request_at` = '2011-04-16 21:52:33' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:33', `perishable_token` = 'F8nF-fLsRF9KFyGxQrTd', `last_request_at` = '2011-04-16 21:52:33' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m


Processing UsersController#index (for 0.0.0.0 at 2011-04-16 14:52:33) [GET]
  Parameters: {"metro_area_id"=>"5"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m
  [4;35;1mCountry Load (0.2ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` = 3) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.country_id = 3) [0m
  [4;35;1mState Load Including Associations (0.2ms)[0m   [0mSELECT `states`.`id` AS t0_r0, `states`.`name` AS t0_r1, `metro_areas`.`id` AS t1_r0, `metro_areas`.`name` AS t1_r1, `metro_areas`.`state_id` AS t1_r2, `metro_areas`.`country_id` AS t1_r3, `metro_areas`.`users_count` AS t1_r4 FROM `states` LEFT OUTER JOIN `metro_areas` ON metro_areas.state_id = states.id WHERE (metro_areas.id in (5)) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((activated_at IS NOT NULL ) AND (metro_area_id = '5')) [0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (users_count > 0) ORDER BY users_count DESC LIMIT 100[0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:33', `activated_at` = NULL, `perishable_token` = 'd_kOxLw5y_R6-VHoxAC0' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#activate (for 0.0.0.0 at 2011-04-16 14:52:33) [GET]
  Parameters: {"id"=>"bad_activation_code"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`activation_code` = 'bad_activation_code') LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m


Processing UsersController#index (for 0.0.0.0 at 2011-04-16 14:52:33) [GET]
  Parameters: {"metro_area_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;36;1mCountry Load (0.2ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`id` = 1) [0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 2) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.country_id = 1) [0m
  [4;35;1mState Load Including Associations (0.2ms)[0m   [0mSELECT `states`.`id` AS t0_r0, `states`.`name` AS t0_r1, `metro_areas`.`id` AS t1_r0, `metro_areas`.`name` AS t1_r1, `metro_areas`.`state_id` AS t1_r2, `metro_areas`.`country_id` AS t1_r3, `metro_areas`.`users_count` AS t1_r4 FROM `states` LEFT OUTER JOIN `metro_areas` ON metro_areas.state_id = states.id WHERE (metro_areas.id in (1,2,3)) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 2) ORDER BY name[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((activated_at IS NOT NULL ) AND (metro_area_id = '2')) [0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (users_count > 0) ORDER BY users_count DESC LIMIT 100[0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:33' WHERE (id = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:33', `perishable_token` = 'IZ_tGhBiB5AxTnc_LVMd', `sb_last_seen_at` = '2011-04-16 21:52:33', `current_login_at` = '2011-04-16 21:52:33', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:33' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 2 AND (friendship_status_id = 2)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(activities.id) AS count_activities_id FROM `activities` WHERE ((activities.user_id in (NULL)) AND (activities.created_at > '2011-04-09 21:52:33')) [0m


Processing UsersController#dashboard (for 0.0.0.0 at 2011-04-16 14:52:33) [GET]
  Parameters: {"id"=>#<ActiveSupport::Multibyte::Chars:0x10641c6c8 @wrapped_string="aaron">}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:33', `perishable_token` = 'Qh4lIgHN28tov8qFO4O2', `last_request_at` = '2011-04-16 21:52:33' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 2 AND (friendship_status_id = 2)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(activities.id) AS count_activities_id FROM `activities` WHERE ((activities.user_id in (NULL)) AND (activities.created_at > '2011-04-09 21:52:33')) [0m
Rendering template within layouts/application
Rendering users/dashboard
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:33', `perishable_token` = 'b3xl3wqEpAlCcC60yyFo', `last_request_at` = '2011-04-16 21:52:33' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:33', `perishable_token` = 'oD2nKDE6Z3d3FuPrMHTC', `last_request_at` = '2011-04-16 21:52:33' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:33' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:33', `perishable_token` = 'hRF1eQk6Gq1r__PxUwd-', `sb_last_seen_at` = '2011-04-16 21:52:33', `current_login_at` = '2011-04-16 21:52:33', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:33' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.1ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'aaron' AND `users`.id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:33', `perishable_token` = '6TbSEqJK4larLhxBQquD' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'hansel') LIMIT 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'hansel') LIMIT 1[0m
  [4;35;1mTag Create (0.2ms)[0m   [0mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('hansel', 0)[0m
  [4;36;1mTagging Create (0.1ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(22, 2, 'User')[0m
  [4;35;1mTag Load (0.1ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 22) [0m
  [4;36;1mTag Update (0.1ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 22) [0m
  [4;35;1mTag Load (0.1ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'gretel') LIMIT 1[0m
  [4;36;1mTag Load (0.1ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'gretel') LIMIT 1[0m
  [4;35;1mTag Create (0.1ms)[0m   [0mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('gretel', 0)[0m
  [4;36;1mTagging Create (0.2ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(23, 2, 'User')[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 23) [0m
  [4;36;1mTag Update (0.1ms)[0m   [0;1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 23) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (1.3ms)[0m   [0;1mSELECT DISTINCT posts.* FROM `posts` INNER JOIN taggings posts_taggings ON posts_taggings.taggable_id = posts.id AND posts_taggings.taggable_type = 'Post' INNER JOIN tags posts_tags ON posts_tags.id = posts_taggings.tag_id WHERE (posts.user_id != 2 AND published_at > '2011-04-09 21:52:33' AND (posts_tags.name LIKE 'hansel' OR posts_tags.name LIKE 'gretel')) AND (published_as = 'live') ORDER BY published_at DESC LIMIT 10[0m


Processing UsersController#dashboard (for 0.0.0.0 at 2011-04-16 14:52:33) [GET]
  Parameters: {"id"=>#<ActiveSupport::Multibyte::Chars:0x1060e7fe8 @wrapped_string="aaron">}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:33', `perishable_token` = '3J1WdwbYMHi7AAipejtM', `last_request_at` = '2011-04-16 21:52:33' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 1 AND (friendship_status_id = 2)) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(activities.id) AS count_activities_id FROM `activities` WHERE ((activities.user_id in (NULL)) AND (activities.created_at > '2011-04-09 21:52:33')) [0m
Rendering template within layouts/application
Rendering users/dashboard
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:33', `perishable_token` = 'zhBxrhGLpVfqNbmkB1fx', `last_request_at` = '2011-04-16 21:52:33' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = 'MqoXTOLj6JLHSN5qTxKP', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:34' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = '5gCjtrEU8Jb1rRwC3Mik', `sb_last_seen_at` = '2011-04-16 21:52:34', `current_login_at` = '2011-04-16 21:52:34', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = 'wH6yI3myvPO1Xj6fB2nw', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = 'RFCrbIdM1sg2hKY7z0ur', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2011-04-16 14:52:34) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((activated_at IS NOT NULL )) [0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (users_count > 0) ORDER BY users_count DESC LIMIT 100[0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2011-04-16 14:52:34) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
Rendering template within layouts/application
Rendering users/new
Rendered shared/_box (0.5ms)
Rendered shared/_box (0.6ms)
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:34' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = 'sDCv_1zxhhLn_qO6XT_2', `sb_last_seen_at` = '2011-04-16 21:52:34', `current_login_at` = '2011-04-16 21:52:34', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#signup_completed (for 0.0.0.0 at 2011-04-16 14:52:34) [GET]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:52:26", updated_at: "2011-04-16 21:52:34", persistence_token: "b3424803297418b2bfed1764730e2507c6fc4575f24d06a1037...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:52:26", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x1060459f0 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:52:34", role_id: 3, single_access_token: "NtJKnn6qcQIAgFbSCCBp", perishable_token: "sDCv_1zxhhLn_qO6XT_2", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:52:34", current_login_at: "2011-04-16 21:52:34", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering users/signup_completed
Rendered shared/_box (0.4ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = 'u8-_ZZhCu3EkwDnFEHL4', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = 'QVuVwqUWgNZCg2B8Bv3E', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:34' WHERE (id = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `login_slug` = 'administrator', `perishable_token` = 'qeXAKoky_TWMhtogZRcR', `sb_last_seen_at` = '2011-04-16 21:52:34', `current_login_at` = '2011-04-16 21:52:34', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m


Processing UsersController#statistics (for 0.0.0.0 at 2011-04-16 14:52:34) [GET]
  Parameters: {"id"=>"8"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = 'By02FbkyKszjhrtDdVSW', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.user_id = 8 AND ('2011-04-01' <= published_at AND published_at <= '2011-05-01')) AND (published_as = 'live') ORDER BY published_at desc[0m
Rendering template within layouts/application
Rendering users/statistics
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = '7tYox7eQ56VrPQxlH7_h', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = '-PdwFv2THq-4HIMAQLvY', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:34' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = '4IUxHOyM_VEpFQE1l7xK', `sb_last_seen_at` = '2011-04-16 21:52:34', `current_login_at` = '2011-04-16 21:52:34', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#welcome_about (for 0.0.0.0 at 2011-04-16 14:52:34) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = 'b0B0U7aLKbUEvpp2WAcA', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mState Load (0.1ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering users/welcome_about
Rendered shared/_bio_help (1.9ms)
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = '6Y8My5udcSiGBiAxdCPp', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = 'y8kkNFbblnSKwDZlRmSo', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:34' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = 'GWhcT5NNQVdZoHJwZ2ua', `sb_last_seen_at` = '2011-04-16 21:52:34', `current_login_at` = '2011-04-16 21:52:34', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#welcome_invite (for 0.0.0.0 at 2011-04-16 14:52:34) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = 'a6SmyHQUlRJXGLkNi3VO', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering users/welcome_invite
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:34', `perishable_token` = 'xgr-ARjtmHeUUcbHmoPB', `last_request_at` = '2011-04-16 21:52:34' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'z4cAXAS38duZgEwMt7Ud', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:35' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'V16rBmSrxw40xLCBMTjX', `sb_last_seen_at` = '2011-04-16 21:52:35', `current_login_at` = '2011-04-16 21:52:35', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.1ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#welcome_photo (for 0.0.0.0 at 2011-04-16 14:52:35) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'L6G69XXeIALJxaVgi9fk', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering users/welcome_photo
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'LbduzxaQATcHiMOtNA7G', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'eO9-8_iZRa4o1AYqs6M1', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'aaron' AND `users`.id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'ZyeMirn-FoG_NSkQqn7s', `metro_area_id` = 2 WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 2) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2011-04-16 14:52:35) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((activated_at IS NOT NULL )) [0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (users_count > 0) ORDER BY users_count DESC LIMIT 100[0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:35' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `login_slug` = 'administrator', `perishable_token` = '3ZW4f3qZ6A4Bc3QKmoRS', `sb_last_seen_at` = '2011-04-16 21:52:35', `current_login_at` = '2011-04-16 21:52:35', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#destroy (for 0.0.0.0 at 2011-04-16 14:52:35) [DELETE]
  Parameters: {"id"=>#<User id: 4, login: "administrator", email: "admin@example.com", description: "I am all powerful", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-15 21:52:26", updated_at: "2011-04-16 21:52:35", persistence_token: "9a2f2be1efc3e3f120363ea67780169aa09fb8aa373512b2fac...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-16 21:22:26", state_id: nil, metro_area_id: nil, login_slug: #<ActiveSupport::Multibyte::Chars:0x1062db778 @wrapped_string="administrator">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:52:35", role_id: 1, single_access_token: "r-kKW0eW-Doi6mq7rAFD", perishable_token: "3ZW4f3qZ6A4Bc3QKmoRS", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:52:35", current_login_at: "2011-04-16 21:52:35", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'Iez7CO07lz5hCUhfRnsZ', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'F_iKqwNc4mN2qXgwyrHB', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = '0VKjI_5gK5-MRhmT3Sgt', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing UsersController#activate (for 0.0.0.0 at 2011-04-16 14:52:35) [GET]
  Parameters: {"activation_code"=>nil}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:35' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'aHlU803zie1nSVQuV85d', `sb_last_seen_at` = '2011-04-16 21:52:35', `current_login_at` = '2011-04-16 21:52:35', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.1ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#update (for 0.0.0.0 at 2011-04-16 14:52:35) [PUT]
  Parameters: {"avatar"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0x10618a338 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/library78586-9.jpg>>}, "id"=>"1", "user"=>{}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'QkuML0kiEoowOsEopRXP', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mState Load (0.1ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:35', 16966, 'image/jpg', NULL, '2011-04-16 21:52:35', NULL, 1, 'library.jpg', NULL, 300, NULL, 142, NULL)[0m
  [4;36;1mActivity Create (0.1ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:35', 'photo', 1, 27, 'Photo')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'zll1HDWa1wN0hWqX_MWp', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 27) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'large' AND `photos`.`parent_id` = 27) LIMIT 1[0m
  [4;35;1mPhoto Load (0.1ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 27) [0m
  [4;36;1mPhoto Create (0.2ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:35', 18061, 'image/jpg', NULL, '2011-04-16 21:52:35', 'large', NULL, 'library_large.jpg', 27, 300, NULL, 142, NULL)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 28) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (0.4ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'medium' AND `photos`.`parent_id` = 27) LIMIT 1[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 27) [0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:35', 18061, 'image/jpg', NULL, '2011-04-16 21:52:35', 'medium', NULL, 'library_medium.jpg', 27, 320, NULL, 290, NULL)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 29) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'thumb' AND `photos`.`parent_id` = 27) LIMIT 1[0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 27) [0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:35', 18061, 'image/jpg', NULL, '2011-04-16 21:52:35', 'thumb', NULL, 'library_thumb.jpg', 27, 100, NULL, 100, NULL)[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 30) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `avatar_id` = 27, `perishable_token` = 'je5WsMPVhl40Vkte9q2c', `state_id` = NULL, `metro_area_id` = NULL WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:35', 'updated_profile', 1, NULL, NULL)[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'sh5uLSFOJk2azxU4BW2m', `activities_count` = 2 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'dgdKmWDmYAwUXUh5h-Ge', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = '_YYEvIM9K9xAyEPpK65k', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:35' WHERE (id = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'aixH1FzMulv0KE3JYvnW', `sb_last_seen_at` = '2011-04-16 21:52:35', `current_login_at` = '2011-04-16 21:52:35', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2011-04-16 14:52:35) [DELETE]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:52:26", updated_at: "2011-04-16 21:52:26", persistence_token: "b3424803297418b2bfed1764730e2507c6fc4575f24d06a1037...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:52:26", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "NtJKnn6qcQIAgFbSCCBp", perishable_token: "ks6OD-Zs2WL5QZN6Pcfi", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = '00pKL-K0bRwE5YKxelUh', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'wp0xMDpr0xsQyat3TLgL', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'BTTM_inlWFv8JRQUfhv8', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 2) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:35' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = '3Xjs-QMxvqaldkz6rL_W', `sb_last_seen_at` = '2011-04-16 21:52:35', `current_login_at` = '2011-04-16 21:52:35', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 1[0m
  [4;35;1mTag Load (1.1ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.7ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.3ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m


Processing UsersController#statistics (for 0.0.0.0 at 2011-04-16 14:52:35) [GET]
  Parameters: {"id"=>"8"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = '7gAiBSkwulBu4Bh4Snh0', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:35', `perishable_token` = 'xtZY6oSkBLvg5KQznU_Y', `last_request_at` = '2011-04-16 21:52:35' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:36', `perishable_token` = 'cft-5bL2lbRKX24DovGP', `last_request_at` = '2011-04-16 21:52:36' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#resend_activation (for 0.0.0.0 at 2011-04-16 14:52:36) [POST]
  Parameters: {"id"=>"quentin"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('quentin')) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/resend_activation
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing UsersController#resend_activation (for 0.0.0.0 at 2011-04-16 14:52:36) [POST]
  Parameters: {"id"=>"nonexistant"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('nonexistant')) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/resend_activation
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:36' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:36', `perishable_token` = 'phjncCqLt61KxnxPCOzo', `sb_last_seen_at` = '2011-04-16 21:52:36', `current_login_at` = '2011-04-16 21:52:36', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:36' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing UsersController#edit (for 0.0.0.0 at 2011-04-16 14:52:36) [GET]
  Parameters: {"id"=>#<User id: 2, login: "aaron", email: "aaron@example.com", description: "I am happy to be here. Community rawks!", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-15 21:52:26", updated_at: "2011-04-16 21:52:26", persistence_token: "f840d1a90e8019c5e40b96018b674feeb3ab5bd798b1e54fee6...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-16 21:22:26", state_id: nil, metro_area_id: nil, login_slug: "aaron", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 2, sb_last_seen_at: "2011-04-16 21:47:26", role_id: 3, single_access_token: "oYYbj0EaDsXyosql6no1", perishable_token: "lKBY1qwWTpJ-fTWIry2e", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:36', `perishable_token` = 'JVTZNVebSxDikvLmyRBV', `last_request_at` = '2011-04-16 21:52:36' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) AND (users.activated_at IS NOT NULL) [0m
Redirected to http://test.host/sessions/new
Filter chain halted as [:require_current_user] rendered_or_redirected.
Completed in 19ms (DB: 4) | 302 Found [http://test.host/users/edit/aaron]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:36', `perishable_token` = 'mmWp_GxDP0rEGBznvHit', `last_request_at` = '2011-04-16 21:52:36' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:36', `perishable_token` = 'i_muxiJNIvXf2fbwH3ZG', `last_request_at` = '2011-04-16 21:52:36' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing UsersController#show (for 0.0.0.0 at 2011-04-16 14:52:36) [GET]
  Parameters: {"id"=>"10"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:36' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:36', `perishable_token` = 'EGtXNiBARahCR71D9DF1', `sb_last_seen_at` = '2011-04-16 21:52:36', `current_login_at` = '2011-04-16 21:52:36', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:36' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#toggle_featured (for 0.0.0.0 at 2011-04-16 14:52:36) [PUT]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:52:26", updated_at: "2011-04-16 21:52:36", persistence_token: "b3424803297418b2bfed1764730e2507c6fc4575f24d06a1037...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:52:26", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106061b00 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:52:36", role_id: 3, single_access_token: "NtJKnn6qcQIAgFbSCCBp", perishable_token: "EGtXNiBARahCR71D9DF1", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:52:36", current_login_at: "2011-04-16 21:52:36", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:36', `perishable_token` = 'HAvQODHSw7PGk6dmTzdd', `last_request_at` = '2011-04-16 21:52:36' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:36', `perishable_token` = 'exEyFAUDr98bgJdnZBbC', `last_request_at` = '2011-04-16 21:52:36' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.3ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:36', `perishable_token` = 'oJYHYBQ7JkUiNiJCVok2', `last_request_at` = '2011-04-16 21:52:36' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:36' WHERE (id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:36', `perishable_token` = 'SCDxfzsE6t8mWa276kMY', `sb_last_seen_at` = '2011-04-16 21:52:36', `current_login_at` = '2011-04-16 21:52:36', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:36' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing UsersController#update (for 0.0.0.0 at 2011-04-16 14:52:36) [PUT]
  Parameters: {"id"=>#<User id: 2, login: "aaron", email: "aaron@example.com", description: "I am happy to be here. Community rawks!", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-15 21:52:26", updated_at: "2011-04-16 21:52:26", persistence_token: "f840d1a90e8019c5e40b96018b674feeb3ab5bd798b1e54fee6...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-16 21:22:26", state_id: nil, metro_area_id: nil, login_slug: "aaron", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 2, sb_last_seen_at: "2011-04-16 21:47:26", role_id: 3, single_access_token: "oYYbj0EaDsXyosql6no1", perishable_token: "lKBY1qwWTpJ-fTWIry2e", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>, "user"=>{"login"=>"changed_login", "email"=>"changed_email@email.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:36', `perishable_token` = 'nl1_e9rIdRDoHoGLYcC7', `last_request_at` = '2011-04-16 21:52:36' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) AND (users.activated_at IS NOT NULL) [0m
Redirected to http://test.host/sessions/new
Filter chain halted as [:require_current_user] rendered_or_redirected.
Completed in 20ms (DB: 17) | 302 Found [http://test.host/users/update/aaron?user%5Bemail%5D=changed_email%40email.com&user%5Blogin%5D=changed_login]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:36', `perishable_token` = 'pfFWWIzpR82xUwI2cx8L', `last_request_at` = '2011-04-16 21:52:36' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:36', `perishable_token` = 'JNtbb2SX-ZoVNHOMqF4M', `last_request_at` = '2011-04-16 21:52:36' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#forgot_username (for 0.0.0.0 at 2011-04-16 14:52:36) [POST]
  Parameters: {"email"=>"quentin@example.com"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`email` = 'quentin@example.com') AND (users.activated_at IS NOT NULL) LIMIT 1[0m
Sent mail to quentin@example.com

Date: Sat, 16 Apr 2011 14:52:36 -0700
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] Community User information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi there!
You asked us to remind you of your Community username.
Your username is: quentin. 

If you have any questions, or you think this reminder was sent in error, please contact Community support at support@community.com.

Thanks,
The Community team
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#create (for 0.0.0.0 at 2011-04-16 14:52:36) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"quire123", "birthday"=>Tue, 16 Apr 1996 21:52:36 UTC +00:00, "login"=>"quire", "password"=>nil, "email"=>"quire@example.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '89faf18d426aa8666db901602eb94ff02325c4821d68d0661499e1bd212ca300c6c08c0485b803c450038e4222d4fe7ca9bcf870abc53578dda8335775f0c5f0') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'UJumXzIiVh2dKsGHsHzm') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering users/new
Rendered shared/_box (0.5ms)
Rendered shared/_box (0.4ms)
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2011-04-16 14:52:36) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"quire123", "birthday"=>Tue, 16 Apr 1996 21:52:36 UTC +00:00, "login"=>"quire", "password"=>"quire123", "email"=>nil}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '83b40aa825732b7e97e591856b5dd1f122e1cb2b4e8ea8e15d44aed8edc6018df0b50bd983ed2949da20c21cf3e6d3ad2d1f72c513389c761dc8cf997a79c994') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'Ds-8z8iKx4F2Fo5ZwgWi') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering users/new
Rendered shared/_box (0.4ms)
Rendered shared/_box (0.3ms)
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2011-04-16 14:52:37) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"quire123", "birthday"=>Tue, 16 Apr 1996 21:52:37 UTC +00:00, "login"=>nil, "password"=>"quire123", "email"=>"quire@example.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '973ca3bae63f97c1daf8bcfc75f4e9420355685a955290232f702b61c825d00cdda80e2a7b1a077511a9e11aa0715ea5eb99cacdaab8064a04ec0d42b9560f1a') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY '-ycBuPPwa_bZ-_XQtvee') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering users/new
Rendered shared/_box (0.4ms)
Rendered shared/_box (0.4ms)
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2011-04-16 14:52:37) [POST]
  Parameters: {"user"=>{"password_confirmation"=>nil, "birthday"=>Tue, 16 Apr 1996 21:52:37 UTC +00:00, "login"=>"quire", "password"=>"quire123", "email"=>"quire@example.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1a745f2064432d6aade9a1e82ea1f4e6bf00e33d71d0d3bf3b63856cbff4d6972438b3d769bd4ade01dc24e2c472ad05996ae806760c880534ce154c788a43b8') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'usEYZnGKOcfVvGxMUwNB') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering users/new
Rendered shared/_box (0.6ms)
Rendered shared/_box (0.4ms)
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2011-04-16 14:52:37) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"quire123", "birthday"=>Tue, 16 Apr 1996 21:52:37 UTC +00:00, "login"=>"quire", "password"=>nil, "email"=>"quire@example.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3efc6a8750582dfe3fb56d40e898b0bb09bb46f80af2aa47525760c1dfad420ec49e8e45b236beb001b7c3ce03b5d89cb850e889cf08fc511860cdd375de13f9') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`single_access_token` = BINARY 'IAonVao3MSsmTupKBkot') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering users/new
Rendered shared/_box (0.5ms)
Rendered shared/_box (0.4ms)
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:37', `activated_at` = NULL, `perishable_token` = 'hyskZBzpAWmzHbT88QEP', `activation_code` = 'f8d10bd4b444c4624a54344214675fd81a83edcf' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#resend_activation (for 0.0.0.0 at 2011-04-16 14:52:37) [POST]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:52:26", updated_at: "2011-04-16 21:52:37", persistence_token: "b3424803297418b2bfed1764730e2507c6fc4575f24d06a1037...", stylesheet: nil, view_count: 0, vendor: false, activation_code: "f8d10bd4b444c4624a54344214675fd81a83edcf", activated_at: nil, state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x105ffc7a0 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "NtJKnn6qcQIAgFbSCCBp", perishable_token: "hyskZBzpAWmzHbT88QEP", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#forgot_password (for 0.0.0.0 at 2011-04-16 14:52:37) [POST]
  Parameters: {"email"=>"quentin@example.com"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`email` = 'quentin@example.com') AND (users.activated_at IS NOT NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6ea80b1776cc28aa3dedd70776589a2ce5292d4bb57e6c78fdf27042af1b3f94a67a656f1313d98f6625d84e08e9ab71dbcbd2ea91b3da102f8537869528c91e' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
Sent mail to quentin@example.com

Date: Sat, 16 Apr 2011 14:52:37 -0700
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] Community User information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi there!
We've reset your Community password. Your new password is: MH6rtwrJ. 

If you have any questions, please contact Community support at support@community.com.

Thanks,
The Community team
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6ea80b1776cc28aa3dedd70776589a2ce5292d4bb57e6c78fdf27042af1b3f94a67a656f1313d98f6625d84e08e9ab71dbcbd2ea91b3da102f8537869528c91e' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:37', `crypted_password` = 'b6663657dfea90638fb9635b54d9dfb3aef4b721', `perishable_token` = 'a3KamFWmU8OhXoTYqfEY', `password_salt` = 'ZwXnelAgaThPCfxAB1bW', `persistence_token` = '6ea80b1776cc28aa3dedd70776589a2ce5292d4bb57e6c78fdf27042af1b3f94a67a656f1313d98f6625d84e08e9ab71dbcbd2ea91b3da102f8537869528c91e' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:37' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:37', `perishable_token` = 'Pu-nkOodvWbrNClJclLa', `sb_last_seen_at` = '2011-04-16 21:52:37', `current_login_at` = '2011-04-16 21:52:37', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.3ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#edit (for 0.0.0.0 at 2011-04-16 14:52:37) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:37', `perishable_token` = 'C3fi0fbvxp_gcNowwKqZ', `last_request_at` = '2011-04-16 21:52:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
  [4;35;1mSkill Load (0.1ms)[0m   [0mSELECT * FROM `skills` [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:37', `perishable_token` = 'oaLJV2Kj1eHYXo4jO64Q', `last_request_at` = '2011-04-16 21:52:37' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:37', `perishable_token` = 'gOi-wp30LT-_UqiMouAJ', `last_request_at` = '2011-04-16 21:52:37' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2011-04-16 14:52:37) [GET]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:52:26", updated_at: "2011-04-16 21:52:26", persistence_token: "b3424803297418b2bfed1764730e2507c6fc4575f24d06a1037...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:52:26", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "NtJKnn6qcQIAgFbSCCBp", perishable_token: "ks6OD-Zs2WL5QZN6Pcfi", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 1 AND (friendship_status_id = 2)) [0m
  [4;35;1mFriendship Load (0.2ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 1 AND (friendship_status_id = 2)) LIMIT 5[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 1 AND (initiator = 0 AND friendship_status_id = 1)) [0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 10[0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (recipient_id = 1 AND commentable_type = 'Photo') ORDER BY created_at DESC[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (user_id = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mPost Load (0.3ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND (published_as = 'live') ORDER BY published_at DESC, published_at desc LIMIT 2[0m
  [4;35;1mClipping Load (0.2ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 1) ORDER BY created_at desc LIMIT 5[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 1) ORDER BY created_at desc LIMIT 5[0m
  [4;35;1mActivity Load (0.2ms)[0m   [0mSELECT * FROM `activities` WHERE (activities.user_id in (1)) ORDER BY activities.created_at DESC LIMIT 10[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `view_count` = COALESCE(`view_count`, 0) + 1 WHERE (`id` = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:37' WHERE (id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:37', `login_slug` = 'administrator', `perishable_token` = 'ZT0O4aVb4f_dYG-KnkGA', `sb_last_seen_at` = '2011-04-16 21:52:37', `current_login_at` = '2011-04-16 21:52:37', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:37' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#statistics (for 0.0.0.0 at 2011-04-16 14:52:37) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:37', `perishable_token` = '3-otPj3fGfhcg3lIeycb', `last_request_at` = '2011-04-16 21:52:37' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPost Load (0.5ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1 AND ('2011-04-01' <= published_at AND published_at <= '2011-05-01')) AND (published_as = 'live') ORDER BY published_at desc[0m
Rendering template within layouts/application
Rendering users/statistics
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:37', `perishable_token` = '8B7Nya1Afg2cJ1uh4Cev', `last_request_at` = '2011-04-16 21:52:37' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:37', `perishable_token` = 'f0wzMvbEwsEHL_Kbhww6', `last_request_at` = '2011-04-16 21:52:37' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:37' WHERE (id = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:37', `login_slug` = 'administrator', `perishable_token` = '5swYcFxhQ6wzmThDCCzp', `sb_last_seen_at` = '2011-04-16 21:52:37', `current_login_at` = '2011-04-16 21:52:37', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:37' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#toggle_featured (for 0.0.0.0 at 2011-04-16 14:52:37) [PUT]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:52:26", updated_at: "2011-04-16 21:52:26", persistence_token: "b3424803297418b2bfed1764730e2507c6fc4575f24d06a1037...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:52:26", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "NtJKnn6qcQIAgFbSCCBp", perishable_token: "ks6OD-Zs2WL5QZN6Pcfi", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:37', `perishable_token` = 'aS15w6FGHgiHf1TwlF9o', `last_request_at` = '2011-04-16 21:52:37' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'AVjv0vP3H4eL7_lFFgbE', `featured_writer` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'SOEEMuu8hUn_ONAgv7bH', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'VJLFq7NYkXCbNywc_-Wj', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:38' WHERE (id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `login_slug` = 'administrator', `perishable_token` = 'vG3NbbyGALiye7JHkgtS', `sb_last_seen_at` = '2011-04-16 21:52:38', `current_login_at` = '2011-04-16 21:52:38', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#toggle_moderator (for 0.0.0.0 at 2011-04-16 14:52:38) [PUT]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:52:26", updated_at: "2011-04-16 21:52:26", persistence_token: "b3424803297418b2bfed1764730e2507c6fc4575f24d06a1037...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:52:26", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3, single_access_token: "NtJKnn6qcQIAgFbSCCBp", perishable_token: "ks6OD-Zs2WL5QZN6Pcfi", login_count: 0, failed_login_count: 0, last_request_at: nil, current_login_at: nil, current_login_ip: nil, last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'f0HQIOINpkeKywglM2jz', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.3ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.1ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'H7yZKXsZwUGxbyZygoET', `role_id` = 2 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = '1Xo39azKgXdjq1VpZe0r', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'XTRhK17AZ0bIMDDVqerG', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 4) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:38' WHERE (id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'dFgd2LdUKcRlkBjKOfzr', `sb_last_seen_at` = '2011-04-16 21:52:38', `current_login_at` = '2011-04-16 21:52:38', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.3ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#update_account (for 0.0.0.0 at 2011-04-16 14:52:38) [PUT]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:52:26", updated_at: "2011-04-16 21:52:38", persistence_token: "b3424803297418b2bfed1764730e2507c6fc4575f24d06a1037...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:52:26", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106023af8 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:52:38", role_id: 3, single_access_token: "NtJKnn6qcQIAgFbSCCBp", perishable_token: "dFgd2LdUKcRlkBjKOfzr", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:52:38", current_login_at: "2011-04-16 21:52:38", current_login_ip: "0.0.0.0", last_login_ip: nil>, "user"=>{"login"=>"changed_login"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'rWCkRkuSt9p5OZ0pf0HA', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'changed_login' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `login_slug` = 'changed_login', `login` = 'changed_login', `perishable_token` = 'q-TkICjC97boOujBa2n0' WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'cNyk46YtfDiLtk0iP85q', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = '5scJIxAXPtdHmgC0XKKp', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:38' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = '4fDK-E2MzDDAXI_kSSTN', `sb_last_seen_at` = '2011-04-16 21:52:38', `current_login_at` = '2011-04-16 21:52:38', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#update (for 0.0.0.0 at 2011-04-16 14:52:38) [PUT]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:52:26", updated_at: "2011-04-16 21:52:38", persistence_token: "b3424803297418b2bfed1764730e2507c6fc4575f24d06a1037...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:52:26", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x1062ddc30 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:52:38", role_id: 3, single_access_token: "NtJKnn6qcQIAgFbSCCBp", perishable_token: "4fDK-E2MzDDAXI_kSSTN", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:52:38", current_login_at: "2011-04-16 21:52:38", current_login_ip: "0.0.0.0", last_login_ip: nil>, "user"=>{"login"=>"changed_login", "email"=>"changed_email@email.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = '7VzVPFSPSxygGJPW7YXG', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'changed_email@email.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'changed_login' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `login_slug` = 'changed_login', `login` = 'changed_login', `perishable_token` = 'aSI6RkPbFsh_vep44V8C', `state_id` = NULL, `metro_area_id` = NULL, `email` = 'changed_email@email.com' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:38', 'updated_profile', 1, NULL, NULL)[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'TDclt75iqeDhLFoQ0fC_', `activities_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'DKsmmo5xL17gar4FAjRb', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'ExQe40lJNd_Wr5mC4-WQ', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:38' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'iXGcmtjLiQYPYrblgyrC', `sb_last_seen_at` = '2011-04-16 21:52:38', `current_login_at` = '2011-04-16 21:52:38', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.2ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.3ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'WGSU4mAWEB8RXpD_lxI6' WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#update (for 0.0.0.0 at 2011-04-16 14:52:38) [PUT]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:52:26", updated_at: "2011-04-16 21:52:38", persistence_token: "b3424803297418b2bfed1764730e2507c6fc4575f24d06a1037...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:52:26", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x106865450 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:52:38", role_id: 3, single_access_token: "NtJKnn6qcQIAgFbSCCBp", perishable_token: "WGSU4mAWEB8RXpD_lxI6", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:52:38", current_login_at: "2011-04-16 21:52:38", current_login_ip: "0.0.0.0", last_login_ip: nil>, "tag_list"=>"tag1, tag2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'b7gaKNNu3dc5f_i_dGe0', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mState Load (0.2ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = '26gUi5ToZj1bQcqm9Qpz', `state_id` = NULL, `metro_area_id` = NULL WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;36;1mTag Create (0.2ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag1', 0)[0m
  [4;35;1mTagging Create (0.2ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(24, 1, 'User')[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 24) [0m
  [4;35;1mTag Update (0.2ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 24) [0m
  [4;36;1mTag Load (0.1ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;35;1mTag Load (0.2ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;36;1mTag Create (0.1ms)[0m   [0;1mINSERT INTO `tags` (`name`, `taggings_count`) VALUES('tag2', 0)[0m
  [4;35;1mTagging Create (0.2ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_id`, `taggable_type`) VALUES(25, 1, 'User')[0m
  [4;36;1mTag Load (0.2ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 25) [0m
  [4;35;1mTag Update (0.2ms)[0m   [0mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE (`id` = 25) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:38', 'updated_profile', 1, NULL, NULL)[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'bT3rVORamL2UzD9qiR0_', `activities_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = '3c1hG2x74ncZNi7j7Kzi', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'EOnlAQAESx6thzFtP6mw', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:38' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 't7ELmoJzNJnhuhdL40JU', `sb_last_seen_at` = '2011-04-16 21:52:38', `current_login_at` = '2011-04-16 21:52:38', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#update (for 0.0.0.0 at 2011-04-16 14:52:38) [PUT]
  Parameters: {"avatar"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0x10619fee0 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/library78586-10.jpg>>}, "id"=>"1", "user"=>{}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = 'iXY7vQbVzBmF9Plc6mS5', `last_request_at` = '2011-04-16 21:52:38' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:38', 16966, 'image/jpg', NULL, '2011-04-16 21:52:38', NULL, 1, 'library.jpg', NULL, 300, NULL, 142, NULL)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:38', 'photo', 1, 31, 'Photo')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:38', `perishable_token` = '8AHhBNUWtWkeOqAqcUmI', `activities_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 31) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'large' AND `photos`.`parent_id` = 31) LIMIT 1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 31) [0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:39', 18061, 'image/jpg', NULL, '2011-04-16 21:52:39', 'large', NULL, 'library_large.jpg', 31, 300, NULL, 142, NULL)[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 32) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'medium' AND `photos`.`parent_id` = 31) LIMIT 1[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 31) [0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:39', 18061, 'image/jpg', NULL, '2011-04-16 21:52:39', 'medium', NULL, 'library_medium.jpg', 31, 320, NULL, 290, NULL)[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 33) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'thumb' AND `photos`.`parent_id` = 31) LIMIT 1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 31) [0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:39', 18061, 'image/jpg', NULL, '2011-04-16 21:52:39', 'thumb', NULL, 'library_thumb.jpg', 31, 100, NULL, 100, NULL)[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 34) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `avatar_id` = 31, `perishable_token` = 'wyW7qIbwi0AneNnYFSVJ', `state_id` = NULL, `metro_area_id` = NULL WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.2ms)[0m   [0;1mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:39', 'updated_profile', 1, NULL, NULL)[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `perishable_token` = 'P9wVQat04JyA1W5L2p9T', `activities_count` = 2 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `perishable_token` = 'mTDBu8gO8kRB3P4y5AfT', `last_request_at` = '2011-04-16 21:52:39' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `perishable_token` = 'Thyt4cF-Hf0tJ_FYvRsa', `last_request_at` = '2011-04-16 21:52:39' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:39' WHERE (id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `perishable_token` = 'qFk389vNXtCi87r8gNe9', `sb_last_seen_at` = '2011-04-16 21:52:39', `current_login_at` = '2011-04-16 21:52:39', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:39' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.2ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#upload_profile_photo (for 0.0.0.0 at 2011-04-16 14:52:39) [PUT]
  Parameters: {"avatar"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0x1061fc708 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:/var/folders/ao/aorZd-9bGsevT+93tPCxB++++TI/-Tmp-/library78586-11.jpg>>}, "id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", password_salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2011-04-11 21:52:26", updated_at: "2011-04-16 21:52:39", persistence_token: "b3424803297418b2bfed1764730e2507c6fc4575f24d06a1037...", stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2011-04-11 21:52:26", state_id: 1, metro_area_id: 1, login_slug: #<ActiveSupport::Multibyte::Chars:0x10622fa90 @wrapped_string="quentin">, notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1996-04-16", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: "2011-04-16 21:52:39", role_id: 3, single_access_token: "NtJKnn6qcQIAgFbSCCBp", perishable_token: "qFk389vNXtCi87r8gNe9", login_count: 1, failed_login_count: 0, last_request_at: "2011-04-16 21:52:39", current_login_at: "2011-04-16 21:52:39", current_login_ip: "0.0.0.0", last_login_ip: nil>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `perishable_token` = 'gB1g5XRMQ417l8j1xZ7S', `last_request_at` = '2011-04-16 21:52:39' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.3ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Create (0.3ms)[0m   [0;1mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:39', 16966, 'image/jpg', NULL, '2011-04-16 21:52:39', NULL, 1, 'library.jpg', NULL, 300, NULL, 142, NULL)[0m
  [4;35;1mActivity Create (0.2ms)[0m   [0mINSERT INTO `activities` (`created_at`, `action`, `user_id`, `item_id`, `item_type`) VALUES('2011-04-16 21:52:39', 'photo', 1, 35, 'Photo')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `perishable_token` = 'eA4qWaKhxHMQtEqLX9AD', `activities_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mTag Load (0.5ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 35) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.3ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'large' AND `photos`.`parent_id` = 35) LIMIT 1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 35) [0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:39', 18061, 'image/jpg', NULL, '2011-04-16 21:52:39', 'large', NULL, 'library_large.jpg', 35, 300, NULL, 142, NULL)[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 36) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'medium' AND `photos`.`parent_id` = 35) LIMIT 1[0m
  [4;36;1mPhoto Load (0.2ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 35) [0m
  [4;35;1mPhoto Create (0.4ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:39', 18061, 'image/jpg', NULL, '2011-04-16 21:52:39', 'medium', NULL, 'library_medium.jpg', 35, 320, NULL, 290, NULL)[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 37) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mPhoto Load (0.2ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`thumbnail` = 'thumb' AND `photos`.`parent_id` = 35) LIMIT 1[0m
  [4;36;1mPhoto Load (0.3ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 35) [0m
  [4;35;1mPhoto Create (0.3ms)[0m   [0mINSERT INTO `photos` (`name`, `created_at`, `size`, `content_type`, `album_id`, `updated_at`, `thumbnail`, `user_id`, `filename`, `parent_id`, `height`, `description`, `width`, `view_count`) VALUES(NULL, '2011-04-16 21:52:39', 18061, 'image/jpg', NULL, '2011-04-16 21:52:39', 'thumb', NULL, 'library_thumb.jpg', 35, 100, NULL, 100, NULL)[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 38) AND (`taggings`.taggable_type = 'Photo')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.2ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `avatar_id` = 35, `perishable_token` = 'X-OCpB1WX4PX_7eiuj8X' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `perishable_token` = 'HjAdtknRPcPfdmgIDePy', `last_request_at` = '2011-04-16 21:52:39' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `perishable_token` = 'WqVA-maXZyHU4xAEnN7o', `last_request_at` = '2011-04-16 21:52:39' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM `votes` [0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` [0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mPoll Create (0.2ms)[0m   [0mINSERT INTO `polls` (`created_at`, `updated_at`, `post_id`, `votes_count`, `question`) VALUES('2011-04-16 21:52:39', '2011-04-16 21:52:39', 1, 0, 'Who can have a great time?')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPoll Load (0.2ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;35;1mChoice Create (0.2ms)[0m   [0mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'I can', 5)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPoll Load (0.2ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;35;1mChoice Create (0.2ms)[0m   [0mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'You can', 5)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPoll Load (0.3ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;35;1mChoice Create (0.2ms)[0m   [0mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'No one can', 5)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
  [4;36;1mPoll Load (0.2ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2011-04-16 21:52:39' WHERE (id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `perishable_token` = '6eCk4-6m7Z0vk7pcW0C2', `sb_last_seen_at` = '2011-04-16 21:52:39', `current_login_at` = '2011-04-16 21:52:39', `login_count` = 1, `current_login_ip` = '0.0.0.0', `last_request_at` = '2011-04-16 21:52:39' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.3ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mVote Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `votes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` [0m
  [4;36;1mChoice Load (0.1ms)[0m   [0;1mSELECT * FROM `choices` LIMIT 1[0m


Processing VotesController#create (for 0.0.0.0 at 2011-04-16 14:52:39) [POST]
  Parameters: {"choice_id"=>"12"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mChoice Load (0.2ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 12) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `perishable_token` = 'hYvbtbeKNephFUPt7x7u', `last_request_at` = '2011-04-16 21:52:39' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.1ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mChoice Load (0.2ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 12) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT `votes`.id FROM `votes` WHERE (`votes`.`user_id` = 1 AND `votes`.poll_id = 5) LIMIT 1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO `votes` (`created_at`, `choice_id`, `user_id`, `poll_id`) VALUES('2011-04-16 21:52:39', 12, 1, 5)[0m
  [4;36;1mChoice Update (0.3ms)[0m   [0;1mUPDATE `choices` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 12) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`choices`.votes_count) AS sum_votes_count FROM `choices` WHERE (`choices`.`poll_id` = 5) [0m
  [4;36;1mPost Load (0.2ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mPoll Update (0.5ms)[0m   [0mUPDATE `polls` SET `updated_at` = '2011-04-16 21:52:39', `votes_count` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering votes/create
  [4;35;1mVote Load (0.7ms)[0m   [0mSELECT `votes`.id FROM `votes` WHERE (`votes`.`user_id` = 1 AND `votes`.poll_id = 5 AND `votes`.id <> 1) LIMIT 1[0m
  [4;36;1mVote Load (0.5ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`user_id` = 1) AND (`votes`.poll_id = 5) LIMIT 1[0m
  [4;35;1mChoice Load (0.2ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.poll_id = 5) [0m
  [4;36;1mPoll Load (0.1ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.poll_id = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.choice_id = 12) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.poll_id = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.choice_id = 12) [0m
  [4;35;1mPoll Load (0.2ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.poll_id = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.choice_id = 13) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.poll_id = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.choice_id = 13) [0m
  [4;36;1mPoll Load (0.2ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.poll_id = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.choice_id = 14) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.poll_id = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.choice_id = 14) [0m
Rendered polls/_poll_ui (35.0ms)
Completed in 271ms (View: 38, DB: 104) | 200 OK [http://test.host/votes/create?choice_id=12]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` [0m
  [4;36;1mPoll Load (0.2ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `perishable_token` = 'BcfLxDHzWxjZ-nfnQpIs', `last_request_at` = '2011-04-16 21:52:39' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.3ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;35;1mMetroArea Load (0.2ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-04-16 21:52:39', `perishable_token` = 'rshMtG0EJj16WuKXumeS', `last_request_at` = '2011-04-16 21:52:39' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.3ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_id = 1) AND (`taggings`.taggable_type = 'User')) [0m
  [4;36;1mMetroArea Load (0.2ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (users.featured_writer = 1) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
